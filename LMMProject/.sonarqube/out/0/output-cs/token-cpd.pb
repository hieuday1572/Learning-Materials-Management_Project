ïb
éC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Controllers\ADMINAssessmentsController.cs
	namespace 	

LMMProject
 
. 
Controllers  
{ 
public 

class &
ADMINAssessmentsController +
:, -

Controller. 8
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public &
ADMINAssessmentsController )
() *
AppDbContext* 6
context7 >
)> ?
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
)/ 0
{ 	
var 
appDbContext 
= 
_context '
.' (

Assessment( 2
.2 3
Include3 :
(: ;
a; <
=>= ?
a@ A
.A B
SyllabusB J
)J K
;K L
return 
View 
( 
await 
appDbContext *
.* +
ToListAsync+ 6
(6 7
)7 8
)8 9
;9 :
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Details) 0
(0 1
int1 4
?4 5
id6 8
)8 9
{ 	
if   
(   
id   
==   
null   
||   
_context   &
.  & '

Assessment  ' 1
==  2 4
null  5 9
)  9 :
{!! 
return"" 
NotFound"" 
(""  
)""  !
;""! "
}## 
var%% 

assessment%% 
=%% 
await%% "
_context%%# +
.%%+ ,

Assessment%%, 6
.&& 
Include&& 
(&& 
a&& 
=>&& 
a&& 
.&&  
Syllabus&&  (
)&&( )
.'' 
FirstOrDefaultAsync'' $
(''$ %
m''% &
=>''' )
m''* +
.''+ ,
AssessmentId'', 8
==''9 ;
id''< >
)''> ?
;''? @
if(( 
((( 

assessment(( 
==(( 
null(( "
)((" #
{)) 
return** 
NotFound** 
(**  
)**  !
;**! "
}++ 
return-- 
View-- 
(-- 

assessment-- "
)--" #
;--# $
}.. 	
public11 
IActionResult11 
Create11 #
(11# $
)11$ %
{22 	
ViewData33 
[33 
$str33 !
]33! "
=33# $
new33% (

SelectList33) 3
(333 4
_context334 <
.33< =
Syllabus33= E
,33E F
$str33G S
,33S T
$str33U a
)33a b
;33b c
return44 
View44 
(44 
)44 
;44 
}55 	
[:: 	
HttpPost::	 
]:: 
[;; 	$
ValidateAntiForgeryToken;;	 !
];;! "
public<< 
async<< 
Task<< 
<<< 
IActionResult<< '
><<' (
Create<<) /
(<</ 0
[<<0 1
Bind<<1 5
(<<5 6
$str	<<6 ¬
)
<<¬ √
]
<<√ ƒ

Assessment
<<≈ œ

assessment
<<– ⁄
)
<<⁄ €
{== 	
if>> 
(>> 

ModelState>> 
.>> 
IsValid>> "
)>>" #
{?? 
_context@@ 
.@@ 
Add@@ 
(@@ 

assessment@@ '
)@@' (
;@@( )
awaitAA 
_contextAA 
.AA 
SaveChangesAsyncAA /
(AA/ 0
)AA0 1
;AA1 2
returnBB 
RedirectToActionBB '
(BB' (
nameofBB( .
(BB. /
IndexBB/ 4
)BB4 5
)BB5 6
;BB6 7
}CC 
ViewDataDD 
[DD 
$strDD !
]DD! "
=DD# $
newDD% (

SelectListDD) 3
(DD3 4
_contextDD4 <
.DD< =
SyllabusDD= E
,DDE F
$strDDG S
,DDS T
$strDDU a
,DDa b

assessmentDDc m
.DDm n

SyllabusIdDDn x
)DDx y
;DDy z
returnEE 
ViewEE 
(EE 

assessmentEE "
)EE" #
;EE# $
}FF 	
publicII 
asyncII 
TaskII 
<II 
IActionResultII '
>II' (
EditII) -
(II- .
intII. 1
?II1 2
idII3 5
)II5 6
{JJ 	
ifKK 
(KK 
idKK 
==KK 
nullKK 
||KK 
_contextKK &
.KK& '

AssessmentKK' 1
==KK2 4
nullKK5 9
)KK9 :
{LL 
returnMM 
NotFoundMM 
(MM  
)MM  !
;MM! "
}NN 
varPP 

assessmentPP 
=PP 
awaitPP "
_contextPP# +
.PP+ ,

AssessmentPP, 6
.PP6 7
	FindAsyncPP7 @
(PP@ A
idPPA C
)PPC D
;PPD E
ifQQ 
(QQ 

assessmentQQ 
==QQ 
nullQQ "
)QQ" #
{RR 
returnSS 
NotFoundSS 
(SS  
)SS  !
;SS! "
}TT 
ViewDataUU 
[UU 
$strUU !
]UU! "
=UU# $
newUU% (

SelectListUU) 3
(UU3 4
_contextUU4 <
.UU< =
SyllabusUU= E
,UUE F
$strUUG S
,UUS T
$strUUU a
,UUa b

assessmentUUc m
.UUm n

SyllabusIdUUn x
)UUx y
;UUy z
returnVV 
ViewVV 
(VV 

assessmentVV "
)VV" #
;VV# $
}WW 	
[\\ 	
HttpPost\\	 
]\\ 
[]] 	$
ValidateAntiForgeryToken]]	 !
]]]! "
public^^ 
async^^ 
Task^^ 
<^^ 
IActionResult^^ '
>^^' (
Edit^^) -
(^^- .
int^^. 1
id^^2 4
,^^4 5
[^^6 7
Bind^^7 ;
(^^; <
$str	^^< »
)
^^» …
]
^^…  

Assessment
^^À ’

assessment
^^÷ ‡
)
^^‡ ·
{__ 	
if`` 
(`` 
id`` 
!=`` 

assessment``  
.``  !
AssessmentId``! -
)``- .
{aa 
returnbb 
NotFoundbb 
(bb  
)bb  !
;bb! "
}cc 
ifee 
(ee 

ModelStateee 
.ee 
IsValidee "
)ee" #
{ff 
trygg 
{hh 
_contextii 
.ii 
Updateii #
(ii# $

assessmentii$ .
)ii. /
;ii/ 0
awaitjj 
_contextjj "
.jj" #
SaveChangesAsyncjj# 3
(jj3 4
)jj4 5
;jj5 6
}kk 
catchll 
(ll (
DbUpdateConcurrencyExceptionll 3
)ll3 4
{mm 
ifnn 
(nn 
!nn 
AssessmentExistsnn )
(nn) *

assessmentnn* 4
.nn4 5
AssessmentIdnn5 A
)nnA B
)nnB C
{oo 
returnpp 
NotFoundpp '
(pp' (
)pp( )
;pp) *
}qq 
elserr 
{ss 
throwtt 
;tt 
}uu 
}vv 
returnww 
RedirectToActionww '
(ww' (
nameofww( .
(ww. /
Indexww/ 4
)ww4 5
)ww5 6
;ww6 7
}xx 
ViewDatayy 
[yy 
$stryy !
]yy! "
=yy# $
newyy% (

SelectListyy) 3
(yy3 4
_contextyy4 <
.yy< =
Syllabusyy= E
,yyE F
$stryyG S
,yyS T
$stryyU a
,yya b

assessmentyyc m
.yym n

SyllabusIdyyn x
)yyx y
;yyy z
returnzz 
Viewzz 
(zz 

assessmentzz "
)zz" #
;zz# $
}{{ 	
public~~ 
async~~ 
Task~~ 
<~~ 
IActionResult~~ '
>~~' (
Delete~~) /
(~~/ 0
int~~0 3
?~~3 4
id~~5 7
)~~7 8
{ 	
if
ÄÄ 
(
ÄÄ 
id
ÄÄ 
==
ÄÄ 
null
ÄÄ 
||
ÄÄ 
_context
ÄÄ &
.
ÄÄ& '

Assessment
ÄÄ' 1
==
ÄÄ2 4
null
ÄÄ5 9
)
ÄÄ9 :
{
ÅÅ 
return
ÇÇ 
NotFound
ÇÇ 
(
ÇÇ  
)
ÇÇ  !
;
ÇÇ! "
}
ÉÉ 
var
ÖÖ 

assessment
ÖÖ 
=
ÖÖ 
await
ÖÖ "
_context
ÖÖ# +
.
ÖÖ+ ,

Assessment
ÖÖ, 6
.
ÜÜ 
Include
ÜÜ 
(
ÜÜ 
a
ÜÜ 
=>
ÜÜ 
a
ÜÜ 
.
ÜÜ  
Syllabus
ÜÜ  (
)
ÜÜ( )
.
áá !
FirstOrDefaultAsync
áá $
(
áá$ %
m
áá% &
=>
áá' )
m
áá* +
.
áá+ ,
AssessmentId
áá, 8
==
áá9 ;
id
áá< >
)
áá> ?
;
áá? @
if
àà 
(
àà 

assessment
àà 
==
àà 
null
àà "
)
àà" #
{
ââ 
return
ää 
NotFound
ää 
(
ää  
)
ää  !
;
ää! "
}
ãã 
return
çç 
View
çç 
(
çç 

assessment
çç "
)
çç" #
;
çç# $
}
éé 	
[
ëë 	
HttpPost
ëë	 
,
ëë 

ActionName
ëë 
(
ëë 
$str
ëë &
)
ëë& '
]
ëë' (
[
íí 	&
ValidateAntiForgeryToken
íí	 !
]
íí! "
public
ìì 
async
ìì 
Task
ìì 
<
ìì 
IActionResult
ìì '
>
ìì' (
DeleteConfirmed
ìì) 8
(
ìì8 9
int
ìì9 <
id
ìì= ?
)
ìì? @
{
îî 	
if
ïï 
(
ïï 
_context
ïï 
.
ïï 

Assessment
ïï #
==
ïï$ &
null
ïï' +
)
ïï+ ,
{
ññ 
return
óó 
Problem
óó 
(
óó 
$str
óó O
)
óóO P
;
óóP Q
}
òò 
var
ôô 

assessment
ôô 
=
ôô 
await
ôô "
_context
ôô# +
.
ôô+ ,

Assessment
ôô, 6
.
ôô6 7
	FindAsync
ôô7 @
(
ôô@ A
id
ôôA C
)
ôôC D
;
ôôD E
if
öö 
(
öö 

assessment
öö 
!=
öö 
null
öö "
)
öö" #
{
õõ 
_context
úú 
.
úú 

Assessment
úú #
.
úú# $
Remove
úú$ *
(
úú* +

assessment
úú+ 5
)
úú5 6
;
úú6 7
}
ùù 
await
üü 
_context
üü 
.
üü 
SaveChangesAsync
üü +
(
üü+ ,
)
üü, -
;
üü- .
return
†† 
RedirectToAction
†† #
(
††# $
nameof
††$ *
(
††* +
Index
††+ 0
)
††0 1
)
††1 2
;
††2 3
}
°° 	
private
££ 
bool
££ 
AssessmentExists
££ %
(
££% &
int
££& )
id
££* ,
)
££, -
{
§§ 	
return
••
 
(
•• 
_context
•• 
.
•• 

Assessment
•• %
?
••% &
.
••& '
Any
••' *
(
••* +
e
••+ ,
=>
••- /
e
••0 1
.
••1 2
AssessmentId
••2 >
==
••? A
id
••B D
)
••D E
)
••E F
.
••F G
GetValueOrDefault
••G X
(
••X Y
)
••Y Z
;
••Z [
}
¶¶ 	
}
ßß 
}®® ˘¡
àC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Controllers\ADMINComboController.cs
	namespace 	

LMMProject
 
. 
Controllers  
{ 
public 

class  
ADMINComboController %
:& '

Controller( 2
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public  
ADMINComboController #
(# $
AppDbContext$ 0
context1 8
)8 9
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
int/ 2
?2 3
id4 6
)6 7
{ 	

Curriculum 
curri 
= 
_context '
.' (

Curriculum( 2
.2 3
FirstOrDefault3 A
(A B
pB C
=>D F
pG H
.H I
CurriculumIdI U
==V X
idY [
)[ \
;\ ]
ViewBag 
. 

Curriculum 
=  
curri! &
;& '
var 
	listCombo 
= 
_context $
.$ %
Combo% *
.* +
Include+ 2
(2 3
p3 4
=>5 7
p8 9
.9 :

Curriculum: D
)D E
.E F
WhereF K
(K L
proL O
=>P R
proS V
.V W
CurriculumIdW c
==d f
idg i
)i j
.j k
ToListk q
(q r
)r s
;s t
return 
View 
( 
	listCombo !
)! "
;" #
} 	
public!! 
IActionResult!! 
Details!! $
(!!$ %
int!!% (
?!!( )
id!!* ,
)!!, -
{"" 	
Combo## 
?## 
combsub## 
=## 
_context## %
.##% &
Combo##& +
.##+ ,
FirstOrDefault##, :
(##: ;
p##; <
=>##= ?
p##@ A
.##A B
ComboId##B I
==##J L
id##M O
)##O P
;##P Q
ViewBag$$ 
.$$ 
Combosub$$ 
=$$ 
combsub$$ &
;$$& '
var%% 
listSubject%% 
=%% 
_context%% &
.%%& '
Combo_Subject%%' 4
.%%4 5
Include%%5 <
(%%< =
a%%= >
=>%%? A
a%%B C
.%%C D
Subject%%D K
)%%K L
.%%L M
Include%%M T
(%%T U
b%%U V
=>%%W Y
b%%Z [
.%%[ \
Combo%%\ a
)%%a b
.%%b c
Where%%c h
(%%h i
pro%%i l
=>%%m o
pro%%p s
.%%s t
ComboId%%t {
==%%| ~
id	%% Å
)
%%Å Ç
.
%%Ç É
ToList
%%É â
(
%%â ä
)
%%ä ã
;
%%ã å
return&& 
View&& 
(&& 
listSubject&& #
)&&# $
;&&$ %
}'' 	
public** 
IActionResult** 
Create** #
(**# $
string**$ *
id**+ -
)**- .
{++ 	
ViewData,, 
[,, 
$str,, #
],,# $
=,,% &
id,,' )
;,,) *
return-- 
View-- 
(-- 
)-- 
;-- 
}.. 	
[33 	
HttpPost33	 
]33 
[44 	$
ValidateAntiForgeryToken44	 !
]44! "
public55 
async55 
Task55 
<55 
IActionResult55 '
>55' (
Create55) /
(55/ 0
[550 1
Bind551 5
(555 6
$str556 m
)55m n
]55n o
Combo55p u
combo55v {
)55{ |
{66 	
if77 
(77 

ModelState77 
.77 
IsValid77 "
)77" #
{88 
Combo99 
checkId99 
=99 
_context99  (
.99( )
Combo99) .
.99. /
Include99/ 6
(996 7
p997 8
=>999 ;
p99< =
.99= >

Curriculum99> H
)99H I
.99I J
FirstOrDefault99J X
(99X Y
p99Y Z
=>99[ ]
p99^ _
.99_ `
ComboNameEn99` k
!=99l n
null99o s
&&99t v
p99w x
.99x y
ComboNameEn	99y Ñ
.
99Ñ Ö
Equals
99Ö ã
(
99ã å
combo
99å ë
.
99ë í
ComboNameEn
99í ù
.
99ù û
Trim
99û ¢
(
99¢ £
)
99£ §
)
99§ •
)
99• ¶
;
99¶ ß
if:: 
(:: 
checkId:: 
==:: 
null:: #
)::# $
{;; 
_context<< 
.<< 
Add<<  
(<<  !
combo<<! &
)<<& '
;<<' (
await== 
_context== "
.==" #
SaveChangesAsync==# 3
(==3 4
)==4 5
;==5 6
return>> 
new>> 
RedirectResult>> -
(>>- .
url>>. 1
:>>1 2
$str>>3 G
+>>H I
combo>>J O
.>>O P
CurriculumId>>P \
,>>\ ]
	permanent>>^ g
:>>g h
true>>i m
,>>m n
preserveMethod>>o }
:>>} ~
true	>> É
)
>>É Ñ
;
>>Ñ Ö
}?? 
else@@ 
{AA 

ModelStateCC 
.CC 
AddModelErrorCC ,
(CC, -
$strCC- :
,CC: ;
$strCC< X
)CCX Y
;CCY Z
}DD 
}EE 
ViewDataFF 
[FF 
$strFF #
]FF# $
=FF% &
comboFF' ,
.FF, -
CurriculumIdFF- 9
;FF9 :
returnGG 
ViewGG 
(GG 
comboGG 
)GG 
;GG 
}HH 	
publicKK 
asyncKK 
TaskKK 
<KK 
IActionResultKK '
>KK' (
EditKK) -
(KK- .
intKK. 1
?KK1 2
idKK3 5
)KK5 6
{LL 	
ifMM 
(MM 
idMM 
==MM 
nullMM 
||MM 
_contextMM &
.MM& '
ComboMM' ,
==MM- /
nullMM0 4
)MM4 5
{NN 
returnOO 
NotFoundOO 
(OO  
)OO  !
;OO! "
}PP 
varRR 
comboRR 
=RR 
awaitRR 
_contextRR &
.RR& '
ComboRR' ,
.RR, -
	FindAsyncRR- 6
(RR6 7
idRR7 9
)RR9 :
;RR: ;
ifSS 
(SS 
comboSS 
==SS 
nullSS 
)SS 
{TT 
returnUU 
NotFoundUU 
(UU  
)UU  !
;UU! "
}VV 
ViewDataWW 
[WW 
$strWW #
]WW# $
=WW% &
comboWW' ,
.WW, -
CurriculumIdWW- 9
;WW9 :
returnXX 
ViewXX 
(XX 
comboXX 
)XX 
;XX 
}YY 	
[^^ 	
HttpPost^^	 
]^^ 
[__ 	$
ValidateAntiForgeryToken__	 !
]__! "
public`` 
async`` 
Task`` 
<`` 
IActionResult`` '
>``' (
Edit``) -
(``- .
[``/ 0
Bind``0 4
(``4 5
$str``5 l
)``l m
]``m n
Combo``o t
combo``u z
)``z {
{aa 	
ifcc 
(cc 

ModelStatecc 
.cc 
IsValidcc "
)cc" #
{dd 
tryee 
{ff 
_contextgg 
.gg 
Updategg #
(gg# $
combogg$ )
)gg) *
;gg* +
awaithh 
_contexthh "
.hh" #
SaveChangesAsynchh# 3
(hh3 4
)hh4 5
;hh5 6
}ii 
catchjj 
(jj (
DbUpdateConcurrencyExceptionjj 3
)jj3 4
{kk 
ifll 
(ll 
!ll 
ComboExistsll $
(ll$ %
comboll% *
.ll* +
ComboIdll+ 2
)ll2 3
)ll3 4
{mm 
returnnn 
NotFoundnn '
(nn' (
)nn( )
;nn) *
}oo 
elsepp 
{qq 
throwrr 
;rr 
}ss 
}tt 
returnuu 
newuu 
RedirectResultuu )
(uu) *
urluu* -
:uu- .
$struu/ C
+uuD E
combouuF K
.uuK L
CurriculumIduuL X
,uuX Y
	permanentuuZ c
:uuc d
trueuue i
,uui j
preserveMethoduuk y
:uuy z
trueuu{ 
)	uu Ä
;
uuÄ Å
}vv 
ViewDataww 
[ww 
$strww #
]ww# $
=ww% &
newww' *

SelectListww+ 5
(ww5 6
_contextww6 >
.ww> ?

Curriculumww? I
,wwI J
$strwwK Y
,wwY Z
$strww[ k
,wwk l
combowwm r
.wwr s
CurriculumIdwws 
)	ww Ä
;
wwÄ Å
returnxx 
Viewxx 
(xx 
comboxx 
)xx 
;xx 
}yy 	
public|| 
async|| 
Task|| 
<|| 
IActionResult|| '
>||' (
Delete||) /
(||/ 0
int||0 3
?||3 4
id||5 7
)||7 8
{}} 	
if~~ 
(~~ 
id~~ 
==~~ 
null~~ 
||~~ 
_context~~ &
.~~& '
Combo~~' ,
==~~- /
null~~0 4
)~~4 5
{ 
return
ÄÄ 
NotFound
ÄÄ 
(
ÄÄ  
)
ÄÄ  !
;
ÄÄ! "
}
ÅÅ 
var
ÇÇ 
combo
ÇÇ 
=
ÇÇ 
await
ÇÇ 
_context
ÇÇ &
.
ÇÇ& '
Combo
ÇÇ' ,
.
ÉÉ 
Include
ÉÉ 
(
ÉÉ 
c
ÉÉ 
=>
ÉÉ 
c
ÉÉ 
.
ÉÉ  

Curriculum
ÉÉ  *
)
ÉÉ* +
.
ÑÑ !
FirstOrDefaultAsync
ÑÑ $
(
ÑÑ$ %
m
ÑÑ% &
=>
ÑÑ' )
m
ÑÑ* +
.
ÑÑ+ ,
ComboId
ÑÑ, 3
==
ÑÑ4 6
id
ÑÑ7 9
)
ÑÑ9 :
;
ÑÑ: ;
if
ÖÖ 
(
ÖÖ 
combo
ÖÖ 
==
ÖÖ 
null
ÖÖ 
)
ÖÖ 
{
ÜÜ 
return
áá 
NotFound
áá 
(
áá  
)
áá  !
;
áá! "
}
àà 
return
ää 
View
ää 
(
ää 
combo
ää 
)
ää 
;
ää 
}
ãã 	
[
éé 	
HttpPost
éé	 
,
éé 

ActionName
éé 
(
éé 
$str
éé &
)
éé& '
]
éé' (
[
èè 	&
ValidateAntiForgeryToken
èè	 !
]
èè! "
public
êê 
async
êê 
Task
êê 
<
êê 
IActionResult
êê '
>
êê' (
DeleteConfirmed
êê) 8
(
êê8 9
int
êê9 <
id
êê= ?
)
êê? @
{
ëë 	
if
íí 
(
íí 
_context
íí 
.
íí 
Combo
íí 
==
íí !
null
íí" &
)
íí& '
{
ìì 
return
îî 
Problem
îî 
(
îî 
$str
îî J
)
îîJ K
;
îîK L
}
ïï 
var
ññ 
combo
ññ 
=
ññ 
await
ññ 
_context
ññ &
.
ññ& '
Combo
ññ' ,
.
ññ, -
	FindAsync
ññ- 6
(
ññ6 7
id
ññ7 9
)
ññ9 :
;
ññ: ;
var
óó 
comboS
óó 
=
óó 
_context
óó !
.
óó! "
Combo_Subject
óó" /
.
óó/ 0
Where
óó0 5
(
óó5 6
p
óó6 7
=>
óó8 :
p
óó; <
.
óó< =
ComboId
óó= D
==
óóE G
id
óóH J
)
óóJ K
.
óóK L
ToList
óóL R
(
óóR S
)
óóS T
;
óóT U
_context
òò 
.
òò 
Combo_Subject
òò #
.
òò# $
RemoveRange
òò$ /
(
òò/ 0
comboS
òò0 6
)
òò6 7
;
òò7 8
if
ôô 
(
ôô 
combo
ôô 
!=
ôô 
null
ôô 
)
ôô 
{
öö 
_context
õõ 
.
õõ 
Combo
õõ 
.
õõ 
Remove
õõ %
(
õõ% &
combo
õõ& +
)
õõ+ ,
;
õõ, -
await
úú 
_context
úú 
.
úú 
SaveChangesAsync
úú /
(
úú/ 0
)
úú0 1
;
úú1 2
return
ùù 
new
ùù 
RedirectResult
ùù %
(
ùù% &
url
ùù& )
:
ùù) *
$str
ùù+ ?
+
ùù@ A
combo
ùùB G
.
ùùG H
CurriculumId
ùùH T
,
ùùT U
	permanent
ùùV _
:
ùù_ `
true
ùùa e
,
ùùe f
preserveMethod
ùùg u
:
ùùu v
true
ùùw {
)
ùù{ |
;
ùù| }
}
ûû 
return
üü 
RedirectToAction
üü #
(
üü# $
$str
üü$ +
)
üü+ ,
;
üü, -
}
†† 	
public
°° 
IActionResult
°° 

AddSubject
°° '
(
°°' (
)
°°( )
{
¢¢ 	
ViewData
££ 
[
££ 
$str
££ 
]
££ 
=
££  !
new
££" %

SelectList
££& 0
(
££0 1
_context
££1 9
.
££9 :
Combo
££: ?
,
££? @
$str
££A J
,
££J K
$str
££L U
)
££U V
;
££V W
ViewData
§§ 
[
§§ 
$str
§§ "
]
§§" #
=
§§$ %
new
§§& )

SelectList
§§* 4
(
§§4 5
_context
§§5 =
.
§§= >
Subject
§§> E
,
§§E F
$str
§§G T
,
§§T U
$str
§§V c
)
§§c d
;
§§d e
return
•• 
View
•• 
(
•• 
)
•• 
;
•• 
}
¶¶ 	
[
´´ 	
HttpPost
´´	 
]
´´ 
[
¨¨ 	&
ValidateAntiForgeryToken
¨¨	 !
]
¨¨! "
public
≠≠ 
async
≠≠ 
Task
≠≠ 
<
≠≠ 
IActionResult
≠≠ '
>
≠≠' (

AddSubject
≠≠) 3
(
≠≠3 4
[
≠≠4 5
Bind
≠≠5 9
(
≠≠9 :
$str
≠≠: R
)
≠≠R S
]
≠≠S T
ComboSubject
≠≠U a
comboSubject
≠≠b n
)
≠≠n o
{
ÆÆ 	
string
ØØ 
add
ØØ 
=
ØØ 
Request
ØØ  
.
ØØ  !
Form
ØØ! %
[
ØØ% &
$str
ØØ& +
]
ØØ+ ,
;
ØØ, -
int
∞∞ 
comboId
∞∞ 
=
∞∞ 
Convert
∞∞ !
.
∞∞! "
ToInt32
∞∞" )
(
∞∞) *
Request
∞∞* 1
.
∞∞1 2
Form
∞∞2 6
[
∞∞6 7
$str
∞∞7 @
]
∞∞@ A
)
∞∞A B
;
∞∞B C
if
±± 
(
±± 
add
±± 
!=
±± 
null
±± 
&&
±± 
!
±±  
add
±±  #
.
±±# $
Trim
±±$ (
(
±±( )
)
±±) *
.
±±* +
Equals
±±+ 1
(
±±1 2
$str
±±2 4
)
±±4 5
)
±±5 6
{
≤≤ 
Subject
≥≥ 
sj
≥≥ 
=
≥≥ 
_context
≥≥ %
.
≥≥% &
Subject
≥≥& -
.
≥≥- .
Include
≥≥. 5
(
≥≥5 6
p
≥≥6 7
=>
≥≥8 :
p
≥≥; <
.
≥≥< =
Status
≥≥= C
)
≥≥C D
.
≥≥D E
FirstOrDefault
≥≥E S
(
≥≥S T
pro
≥≥T W
=>
≥≥X Z
pro
≥≥[ ^
.
≥≥^ _
SubjectCode
≥≥_ j
.
≥≥j k
Equals
≥≥k q
(
≥≥q r
add
≥≥r u
.
≥≥u v
Trim
≥≥v z
(
≥≥z {
)
≥≥{ |
)
≥≥| }
)
≥≥} ~
;
≥≥~ 
if
¥¥ 
(
¥¥ 
sj
¥¥ 
!=
¥¥ 
null
¥¥ 
)
¥¥ 
{
µµ 
var
∑∑ 
check
∑∑ 
=
∑∑ 
_context
∑∑  (
.
∑∑( )
Combo_Subject
∑∑) 6
.
∑∑6 7
Where
∑∑7 <
(
∑∑< =
p
∑∑= >
=>
∑∑? A
p
∑∑B C
.
∑∑C D
ComboId
∑∑D K
==
∑∑L N
comboId
∑∑O V
)
∑∑V W
.
∑∑W X
ToList
∑∑X ^
(
∑∑^ _
)
∑∑_ `
;
∑∑` a
ComboSubject
∏∏  
check_element
∏∏! .
=
∏∏/ 0
(
∏∏1 2
from
∏∏2 6
element
∏∏7 >
in
∏∏? A
check
∏∏B G
where
ππ7 <
element
ππ= D
.
ππD E
SubjectCode
ππE P
.
ππP Q
Trim
ππQ U
(
ππU V
)
ππV W
.
ππW X
Equals
ππX ^
(
ππ^ _
sj
ππ_ a
.
ππa b
SubjectCode
ππb m
.
ππm n
Trim
ππn r
(
ππr s
)
ππs t
)
ππt u
select
∫∫7 =
element
∫∫> E
)
∫∫E F
.
∫∫F G
FirstOrDefault
∫∫G U
(
∫∫U V
)
∫∫V W
;
∫∫W X
if
ªª 
(
ªª 
check_element
ªª %
==
ªª& (
null
ªª) -
)
ªª- .
{
ºº 
ComboSubject
ΩΩ $
cu_sub
ΩΩ% +
=
ΩΩ, -
new
ΩΩ. 1
ComboSubject
ΩΩ2 >
(
ΩΩ> ?
)
ΩΩ? @
;
ΩΩ@ A
cu_sub
ææ 
.
ææ 
SubjectCode
ææ *
=
ææ+ ,
sj
ææ- /
.
ææ/ 0
SubjectCode
ææ0 ;
;
ææ; <
cu_sub
øø 
.
øø 
ComboId
øø &
=
øø' (
comboId
øø) 0
;
øø0 1
_context
¿¿  
.
¿¿  !
Combo_Subject
¿¿! .
.
¿¿. /
Add
¿¿/ 2
(
¿¿2 3
cu_sub
¿¿3 9
)
¿¿9 :
;
¿¿: ;
_context
¡¡  
.
¡¡  !
SaveChanges
¡¡! ,
(
¡¡, -
)
¡¡- .
;
¡¡. /
}
¬¬ 
else
√√ 
{
ƒƒ 
return
≈≈ 
new
≈≈ "
RedirectResult
≈≈# 1
(
≈≈1 2
url
≈≈2 5
:
≈≈5 6
$str
≈≈7 M
+
≈≈N O
comboId
≈≈P W
,
≈≈W X
	permanent
≈≈Y b
:
≈≈b c
true
≈≈d h
,
≈≈h i
preserveMethod
≈≈j x
:
≈≈x y
true
≈≈z ~
)
≈≈~ 
;≈≈ Ä
}
∆∆ 
}
«« 
else
»» 
{
…… 
return
   
new
   
RedirectResult
   -
(
  - .
url
  . 1
:
  1 2
$str
  3 I
+
  J K
comboId
  L S
,
  S T
	permanent
  U ^
:
  ^ _
true
  ` d
,
  d e
preserveMethod
  f t
:
  t u
true
  v z
)
  z {
;
  { |
}
ÀÀ 
}
ÃÃ 
return
ÕÕ 
new
ÕÕ 
RedirectResult
ÕÕ %
(
ÕÕ% &
url
ÕÕ& )
:
ÕÕ) *
$str
ÕÕ+ A
+
ÕÕB C
comboId
ÕÕD K
,
ÕÕK L
	permanent
ÕÕM V
:
ÕÕV W
true
ÕÕX \
,
ÕÕ\ ]
preserveMethod
ÕÕ^ l
:
ÕÕl m
true
ÕÕn r
)
ÕÕr s
;
ÕÕs t
}
ŒŒ 	
public
œœ 
async
œœ 
Task
œœ 
<
œœ 
IActionResult
œœ '
>
œœ' (
DeleteSubject
œœ) 6
(
œœ6 7
int
œœ7 :
?
œœ: ;
id
œœ< >
)
œœ> ?
{
–– 	
if
—— 
(
—— 
id
—— 
==
—— 
null
—— 
||
—— 
_context
—— &
.
——& '
Combo_Subject
——' 4
==
——5 7
null
——8 <
)
——< =
{
““ 
return
”” 
NotFound
”” 
(
””  
)
””  !
;
””! "
}
‘‘ 
var
÷÷ 
comboSubject
÷÷ 
=
÷÷ 
await
÷÷ $
_context
÷÷% -
.
÷÷- .
Combo_Subject
÷÷. ;
.
◊◊ 
Include
◊◊ 
(
◊◊ 
c
◊◊ 
=>
◊◊ 
c
◊◊ 
.
◊◊  
Combo
◊◊  %
)
◊◊% &
.
ÿÿ 
Include
ÿÿ 
(
ÿÿ 
c
ÿÿ 
=>
ÿÿ 
c
ÿÿ 
.
ÿÿ  
Subject
ÿÿ  '
)
ÿÿ' (
.
ŸŸ !
FirstOrDefaultAsync
ŸŸ $
(
ŸŸ$ %
m
ŸŸ% &
=>
ŸŸ' )
m
ŸŸ* +
.
ŸŸ+ ,
id
ŸŸ, .
==
ŸŸ/ 1
id
ŸŸ2 4
)
ŸŸ4 5
;
ŸŸ5 6
if
⁄⁄ 
(
⁄⁄ 
comboSubject
⁄⁄ 
==
⁄⁄ 
null
⁄⁄  $
)
⁄⁄$ %
{
€€ 
return
‹‹ 
NotFound
‹‹ 
(
‹‹  
)
‹‹  !
;
‹‹! "
}
›› 
return
ﬂﬂ 
View
ﬂﬂ 
(
ﬂﬂ 
comboSubject
ﬂﬂ $
)
ﬂﬂ$ %
;
ﬂﬂ% &
}
‡‡ 	
[
„„ 	
HttpPost
„„	 
,
„„ 

ActionName
„„ 
(
„„ 
$str
„„ -
)
„„- .
]
„„. /
[
‰‰ 	&
ValidateAntiForgeryToken
‰‰	 !
]
‰‰! "
public
ÂÂ 
async
ÂÂ 
Task
ÂÂ 
<
ÂÂ 
IActionResult
ÂÂ '
>
ÂÂ' ($
DeleteSubjectConfirmed
ÂÂ) ?
(
ÂÂ? @
int
ÂÂ@ C
id
ÂÂD F
)
ÂÂF G
{
ÊÊ 	
if
ÁÁ 
(
ÁÁ 
_context
ÁÁ 
.
ÁÁ 
Combo_Subject
ÁÁ &
==
ÁÁ' )
null
ÁÁ* .
)
ÁÁ. /
{
ËË 
return
ÈÈ 
Problem
ÈÈ 
(
ÈÈ 
$str
ÈÈ R
)
ÈÈR S
;
ÈÈS T
}
ÍÍ 
var
ÎÎ 
comboSubject
ÎÎ 
=
ÎÎ 
await
ÎÎ $
_context
ÎÎ% -
.
ÎÎ- .
Combo_Subject
ÎÎ. ;
.
ÎÎ; <
	FindAsync
ÎÎ< E
(
ÎÎE F
id
ÎÎF H
)
ÎÎH I
;
ÎÎI J
if
ÏÏ 
(
ÏÏ 
comboSubject
ÏÏ 
!=
ÏÏ 
null
ÏÏ  $
)
ÏÏ$ %
{
ÌÌ 
_context
ÓÓ 
.
ÓÓ 
Combo_Subject
ÓÓ &
.
ÓÓ& '
Remove
ÓÓ' -
(
ÓÓ- .
comboSubject
ÓÓ. :
)
ÓÓ: ;
;
ÓÓ; <
await
ÔÔ 
_context
ÔÔ 
.
ÔÔ 
SaveChangesAsync
ÔÔ /
(
ÔÔ/ 0
)
ÔÔ0 1
;
ÔÔ1 2
return
 
new
 
RedirectResult
 )
(
) *
url
* -
:
- .
$str
/ E
+
F G
comboSubject
H T
.
T U
id
U W
,
W X
	permanent
Y b
:
b c
true
d h
,
h i
preserveMethod
j x
:
x y
true
z ~
)
~ 
; Ä
}
ÒÒ 
else
ÚÚ 
{
ÛÛ 
return
ÙÙ 
RedirectToAction
ÙÙ '
(
ÙÙ' (
$str
ÙÙ( /
)
ÙÙ/ 0
;
ÙÙ0 1
}
ıı 
}
¯¯ 	
private
˘˘ 
bool
˘˘ 
ComboExists
˘˘  
(
˘˘  !
int
˘˘! $
id
˘˘% '
)
˘˘' (
{
˙˙ 	
return
˚˚
 
(
˚˚ 
_context
˚˚ 
.
˚˚ 
Combo
˚˚  
?
˚˚  !
.
˚˚! "
Any
˚˚" %
(
˚˚% &
e
˚˚& '
=>
˚˚( *
e
˚˚+ ,
.
˚˚, -
ComboId
˚˚- 4
==
˚˚5 7
id
˚˚8 :
)
˚˚: ;
)
˚˚; <
.
˚˚< =
GetValueOrDefault
˚˚= N
(
˚˚N O
)
˚˚O P
;
˚˚P Q
}
¸¸ 	
}
˝˝ 
}˛˛ Á0
ÉC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Controllers\ADMINController.cs
	namespace 	

LMMProject
 
. 
Controllers  
{ 
public 

class 
ADMINController  
:! "

Controller# -
{		 
private

 
readonly

 
AppDbContext

 %
_context

& .
;

. /
private 
readonly  
IHttpContextAccessor -
	_Accessor. 7
;7 8
public 
ADMINController 
( 
AppDbContext +
context, 3
,3 4 
IHttpContextAccessor5 I
accessorJ R
)R S
{ 	
_context 
= 
context 
; 
	_Accessor 
= 
accessor  
;  !
} 	
public 
IActionResult 
	Dashboard &
(& '
)' (
{ 	
return 
View 
( 
) 
; 
} 	
public 
IActionResult 
Infor "
(" #
)# $
{ 	
string 
userName 
= 
	_Accessor %
.% &
HttpContext& 1
.1 2
Session2 9
.9 :
	GetString: C
(C D
$strD N
)N O
;O P
var 
Account 
= 
_context "
." #
Account# *
.* +
Include+ 2
(2 3
p3 4
=>5 7
p8 9
.9 :
Role: >
)> ?
.? @
FirstOrDefault@ N
(N O
proO R
=>S U
proV Y
.Y Z
UserNameZ b
.b c
Equalsc i
(i j
userNamej r
)r s
)s t
;t u
return 
View 
( 
Account 
)  
;  !
} 	
[ 	
HttpPost	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
Infor) .
(. /
Account/ 6
account7 >
)> ?
{ 	
var 
accountChange 
= 
_context &
.& '
Account' .
.. /
Include/ 6
(6 7
p7 8
=>9 ;
p< =
.= >
Role> B
)B C
.C D
FirstOrDefaultD R
(R S
proS V
=>W Y
proZ ]
.] ^
UserName^ f
.f g
Equalsg m
(m n
accountn u
.u v
UserNamev ~
)~ 
)	 Ä
;
Ä Å
accountChange   
.   
UserName   "
=  " #
account  # *
.  * +
UserName  + 3
;  3 4
accountChange!! 
.!! 
Fullname!! "
=!!" #
account!!# *
.!!* +
Fullname!!+ 3
;!!3 4
accountChange"" 
."" 
Address"" !
=""! "
account""" )
."") *
Address""* 1
;""1 2
accountChange## 
.## 
Phone## 
=##  
account##  '
.##' (
Phone##( -
;##- .
accountChange$$ 
.$$ 
Gender$$  
=$$  !
account$$! (
.$$( )
Gender$$) /
;$$/ 0
accountChange%% 
.%% 
Birthday%% "
=%%" #
account%%# *
.%%* +
Birthday%%+ 3
;%%3 4
_context&& 
.&& 
Account&& 
.&& 
Update&& "
(&&" #
accountChange&&# 0
)&&0 1
;&&1 2
_context'' 
.'' 
SaveChanges'' 
(''  
)''  !
;''! "
return(( 
RedirectToAction(( #
(((# $
$str(($ +
)((+ ,
;((, -
})) 	
public++ 
IActionResult++ 
ListOfCurriculum++ -
(++- .
)++. /
{,, 	
var-- 
listCurriculum-- 
=--  
_context--! )
.--) *

Curriculum--* 4
.--4 5
Include--5 <
(--< =
p--= >
=>--? A
p--B C
.--C D
Decision--D L
)--L M
.--M N
ToList--N T
(--T U
)--U V
;--V W
return.. 
View.. 
(.. 
listCurriculum.. &
)..& '
;..' (
}// 	
public00 
IActionResult00 
ListOfCombo00 (
(00( )
)00) *
{11 	
var22 
	listCombo22 
=22 
_context22 $
.22$ %
Combo22% *
.22* +
Include22+ 2
(222 3
a223 4
=>225 7
a228 9
.229 :

Curriculum22: D
)22D E
.22E F
ToList22F L
(22L M
)22M N
;22N O
return33 
View33 
(33 
	listCombo33 !
)33! "
;33" #
}44 	
public55 
IActionResult55 
ComboSubject55 )
(55) *
)55* +
{66 	
var77 
ComboSubject77 
=77 
_context77 '
.77' (
Combo_Subject77( 5
.775 6
Include776 =
(77= >
a77> ?
=>77@ B
a77C D
.77D E
Subject77E L
)77L M
.77M N
Include77N U
(77U V
p77V W
=>77W Y
p77Z [
.77[ \
Combo77\ a
)77a b
.77b c
ToList77c i
(77i j
)77j k
;77k l
return88 
View88 
(88 
ComboSubject88 $
)88$ %
;88% &
}99 	
};; 
}<< Û…
åC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Controllers\ADMINCurriculaController.cs
	namespace 	

LMMProject
 
. 
Controllers  
{ 
public 

class $
ADMINCurriculaController )
:* +

Controller, 6
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public $
ADMINCurriculaController '
(' (
AppDbContext( 4
context5 <
)< =
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
)/ 0
{ 	
IEnumerable 
< 

Curriculum "
>" #
appDbContext$ 0
=1 2
_context3 ;
.; <

Curriculum< F
.F G
IncludeG N
(N O
cO P
=>Q S
cT U
.U V
DecisionV ^
)^ _
._ `
ToList` f
(f g
)g h
;h i
return 
View 
( 
appDbContext $
)$ %
;% &
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Details) 0
(0 1
int1 4
?4 5
id6 8
)8 9
{ 	
if   
(   
id   
==   
null   
||   
_context   &
.  & '

Curriculum  ' 1
==  2 4
null  5 9
)  9 :
{!! 
return"" 
NotFound"" 
(""  
)""  !
;""! "
}## 
var%% 

curriculum%% 
=%% 
await%% "
_context%%# +
.%%+ ,

Curriculum%%, 6
.&& 
Include&& 
(&& 
c&& 
=>&& 
c&& 
.&&  
Decision&&  (
)&&( )
.'' 
FirstOrDefaultAsync'' $
(''$ %
m''% &
=>''' )
m''* +
.''+ ,
CurriculumId'', 8
==''9 ;
id''< >
)''> ?
;''? @
var(( 
	curri_sub(( 
=(( 
_context(( #
.((# $
Curriculum_Subject(($ 6
.((6 7
Include((7 >
(((> ?
p((? @
=>((A C
p((D E
.((E F
Subject((F M
)((M N
.((N O
Where((O T
(((T U
pro((U X
=>((Y [
pro((\ _
.((_ `
CurriculumId((` l
==((l n
id((n p
)((p q
.((q r
OrderBy((r y
(((y z
p((z {
=>(({ }
p((} ~
.((~ 
Semester	(( á
)
((á à
.
((à â
ToList
((â è
(
((è ê
)
((ê ë
;
((ë í
ViewBag)) 
.)) 
	Curri_sub)) 
=)) 
	curri_sub)) '
;))' (
if** 
(** 

curriculum** 
==** 
null** "
)**" #
{++ 
return,, 
NotFound,, 
(,,  
),,  !
;,,! "
}-- 
return// 
View// 
(// 

curriculum// "
)//" #
;//# $
}00 	
public33 
IActionResult33 
Create33 #
(33# $
)33$ %
{44 	
ViewData55 
[55 
$str55 !
]55! "
=55# $
new55% (

SelectList55) 3
(553 4
_context554 <
.55< =
Decision55= E
,55E F
$str55G S
,55S T
$str55U a
)55a b
;55b c
return66 
View66 
(66 
)66 
;66 
}77 	
[<< 	
HttpPost<<	 
]<< 
[== 	$
ValidateAntiForgeryToken==	 !
]==! "
public>> 
async>> 
Task>> 
<>> 
IActionResult>> '
>>>' (
Create>>) /
(>>/ 0
[>>0 1
Bind>>1 5
(>>5 6
$str	>>6 å
)
>>å ç
]
>>ç é

Curriculum
>>è ô

curriculum
>>ö §
)
>>§ •
{?? 	
ifAA 
(AA 

ModelStateAA 
.AA 
IsValidAA "
)AA" #
{BB 

CurriculumCC 
	checkCodeCC $
=CC$ %
awaitCC& +
_contextCC, 4
.CC4 5

CurriculumCC5 ?
.CC? @
IncludeCC@ G
(CCG H
pCCH I
=>CCJ L
pCCM N
.CCN O
DecisionCCO W
)CCW X
.CCX Y
FirstOrDefaultAsyncCCY l
(CCl m
proCCm p
=>CCq s
proCCt w
.CCw x
CurriculumCode	CCx Ü
.
CCÜ á
Equals
CCá ç
(
CCç é

curriculum
CCé ò
.
CCò ô
CurriculumCode
CCô ß
)
CCß ®
)
CC® ©
;
CC© ™
ifDD 
(DD 
	checkCodeDD 
==DD  
nullDD! %
)DD% &
{EE 
_contextFF 
.FF 
AddFF  
(FF  !

curriculumFF! +
)FF+ ,
;FF, -
awaitGG 
_contextGG "
.GG" #
SaveChangesAsyncGG# 3
(GG3 4
)GG4 5
;GG5 6
returnHH 
RedirectToActionHH +
(HH+ ,
nameofHH, 2
(HH2 3
IndexHH3 8
)HH8 9
)HH9 :
;HH: ;
}II 
elseJJ 
{KK 
TempDataLL 
[LL 
$strLL $
]LL$ %
=LL& '
$strLL( N
;LLN O
}MM 
}NN 
ViewDataOO 
[OO 
$strOO !
]OO! "
=OO# $
newOO% (

SelectListOO) 3
(OO3 4
_contextOO4 <
.OO< =
DecisionOO= E
,OOE F
$strOOG S
,OOS T
$strOOU a
,OOa b

curriculumOOc m
.OOm n

DecisionNoOOn x
)OOx y
;OOy z
returnPP 
ViewPP 
(PP 

curriculumPP "
)PP" #
;PP# $
}QQ 	
publicTT 
asyncTT 
TaskTT 
<TT 
IActionResultTT '
>TT' (
EditTT) -
(TT- .
intTT. 1
?TT1 2
idTT3 5
)TT5 6
{UU 	
ifVV 
(VV 
idVV 
==VV 
nullVV 
||VV 
_contextVV &
.VV& '

CurriculumVV' 1
==VV2 4
nullVV5 9
)VV9 :
{WW 
returnXX 
NotFoundXX 
(XX  
)XX  !
;XX! "
}YY 
var[[ 

curriculum[[ 
=[[ 
await[[ "
_context[[# +
.[[+ ,

Curriculum[[, 6
.[[6 7
	FindAsync[[7 @
([[@ A
id[[A C
)[[C D
;[[D E
if\\ 
(\\ 

curriculum\\ 
==\\ 
null\\ "
)\\" #
{]] 
return^^ 
NotFound^^ 
(^^  
)^^  !
;^^! "
}__ 
ViewData`` 
[`` 
$str`` !
]``! "
=``# $
new``% (

SelectList``) 3
(``3 4
_context``4 <
.``< =
Decision``= E
,``E F
$str``G S
,``S T
$str``U a
,``a b

curriculum``c m
.``m n

DecisionNo``n x
)``x y
;``y z
returnaa 
Viewaa 
(aa 

curriculumaa "
)aa" #
;aa# $
}bb 	
[gg 	
HttpPostgg	 
]gg 
[hh 	$
ValidateAntiForgeryTokenhh	 !
]hh! "
publicii 
asyncii 
Taskii 
<ii 
IActionResultii '
>ii' (
Editii) -
(ii- .
intii. 1
idii2 4
,ii4 5
[ii6 7
Bindii7 ;
(ii; <
$str	ii< í
)
iií ì
]
iiì î

Curriculum
iiï ü

curriculum
ii† ™
)
ii™ ´
{jj 	
ifkk 
(kk 
idkk 
!=kk 

curriculumkk  
.kk  !
CurriculumIdkk! -
)kk- .
{ll 
returnmm 
NotFoundmm 
(mm  
)mm  !
;mm! "
}nn 
ifpp 
(pp 

ModelStatepp 
.pp 
IsValidpp "
)pp" #
{qq 
tryrr 
{ss 
_contexttt 
.tt 
Updatett #
(tt# $

curriculumtt$ .
)tt. /
;tt/ 0
awaituu 
_contextuu "
.uu" #
SaveChangesAsyncuu# 3
(uu3 4
)uu4 5
;uu5 6
}vv 
catchww 
(ww (
DbUpdateConcurrencyExceptionww 3
)ww3 4
{xx 
ifyy 
(yy 
!yy 
CurriculumExistsyy )
(yy) *

curriculumyy* 4
.yy4 5
CurriculumIdyy5 A
)yyA B
)yyB C
{zz 
return{{ 
NotFound{{ '
({{' (
){{( )
;{{) *
}|| 
else}} 
{~~ 
throw 
; 
}
ÄÄ 
}
ÅÅ 
return
ÇÇ 
RedirectToAction
ÇÇ '
(
ÇÇ' (
nameof
ÇÇ( .
(
ÇÇ. /
Index
ÇÇ/ 4
)
ÇÇ4 5
)
ÇÇ5 6
;
ÇÇ6 7
}
ÉÉ 
ViewData
ÑÑ 
[
ÑÑ 
$str
ÑÑ !
]
ÑÑ! "
=
ÑÑ# $
new
ÑÑ% (

SelectList
ÑÑ) 3
(
ÑÑ3 4
_context
ÑÑ4 <
.
ÑÑ< =
Decision
ÑÑ= E
,
ÑÑE F
$str
ÑÑG S
,
ÑÑS T
$str
ÑÑU a
,
ÑÑa b

curriculum
ÑÑc m
.
ÑÑm n

DecisionNo
ÑÑn x
)
ÑÑx y
;
ÑÑy z
return
ÖÖ 
View
ÖÖ 
(
ÖÖ 

curriculum
ÖÖ "
)
ÖÖ" #
;
ÖÖ# $
}
ÜÜ 	
public
ââ 
async
ââ 
Task
ââ 
<
ââ 
IActionResult
ââ '
>
ââ' (
Delete
ââ) /
(
ââ/ 0
int
ââ0 3
?
ââ3 4
id
ââ5 7
)
ââ7 8
{
ää 	
if
ãã 
(
ãã 
id
ãã 
==
ãã 
null
ãã 
||
ãã 
_context
ãã &
.
ãã& '

Curriculum
ãã' 1
==
ãã2 4
null
ãã5 9
)
ãã9 :
{
åå 
return
çç 
NotFound
çç 
(
çç  
)
çç  !
;
çç! "
}
éé 
var
êê 

curriculum
êê 
=
êê 
await
êê "
_context
êê# +
.
êê+ ,

Curriculum
êê, 6
.
ëë 
Include
ëë 
(
ëë 
c
ëë 
=>
ëë 
c
ëë 
.
ëë  
Decision
ëë  (
)
ëë( )
.
íí !
FirstOrDefaultAsync
íí $
(
íí$ %
m
íí% &
=>
íí' )
m
íí* +
.
íí+ ,
CurriculumId
íí, 8
==
íí9 ;
id
íí< >
)
íí> ?
;
íí? @
if
ìì 
(
ìì 

curriculum
ìì 
==
ìì 
null
ìì "
)
ìì" #
{
îî 
return
ïï 
NotFound
ïï 
(
ïï  
)
ïï  !
;
ïï! "
}
ññ 
return
óó 
View
óó 
(
óó 

curriculum
óó "
)
óó" #
;
óó# $
}
òò 	
[
õõ 	
HttpPost
õõ	 
,
õõ 

ActionName
õõ 
(
õõ 
$str
õõ &
)
õõ& '
]
õõ' (
[
úú 	&
ValidateAntiForgeryToken
úú	 !
]
úú! "
public
ùù 
async
ùù 
Task
ùù 
<
ùù 
IActionResult
ùù '
>
ùù' (
DeleteConfirmed
ùù) 8
(
ùù8 9
int
ùù9 <
id
ùù= ?
)
ùù? @
{
ûû 	
if
üü 
(
üü 
_context
üü 
.
üü 

Curriculum
üü #
==
üü$ &
null
üü' +
)
üü+ ,
{
†† 
return
°° 
Problem
°° 
(
°° 
$str
°° O
)
°°O P
;
°°P Q
}
¢¢ 
var
§§ 

curriculum
§§ 
=
§§ 
await
§§ "
_context
§§# +
.
§§+ ,

Curriculum
§§, 6
.
§§6 7
	FindAsync
§§7 @
(
§§@ A
id
§§A C
)
§§C D
;
§§D E
var
•• 
check
•• 
=
•• 
_context
••  
.
••  ! 
Curriculum_Subject
••! 3
.
••3 4
Where
••4 9
(
••9 :
p
••: ;
=>
••< >
p
••? @
.
••@ A
CurriculumId
••A M
==
••N P
id
••Q S
)
••S T
.
••T U
ToList
••U [
(
••[ \
)
••\ ]
;
••] ^
var
¶¶ 
combo
¶¶ 
=
¶¶ 
_context
¶¶  
.
¶¶  !
Combo
¶¶! &
.
¶¶& '
Where
¶¶' ,
(
¶¶, -
p
¶¶- .
=>
¶¶/ 1
p
¶¶2 3
.
¶¶3 4
CurriculumId
¶¶4 @
==
¶¶A C
id
¶¶D F
)
¶¶F G
.
¶¶G H
ToList
¶¶H N
(
¶¶N O
)
¶¶O P
;
¶¶P Q
foreach
ßß 
(
ßß 
var
ßß 
item
ßß 
in
ßß  
combo
ßß! &
)
ßß& '
{
®® 
var
©© 
com_sub
©© 
=
©© 
_context
©© &
.
©©& '
Combo_Subject
©©' 4
.
©©4 5
Where
©©5 :
(
©©: ;
p
©©; <
=>
©©= ?
p
©©@ A
.
©©A B
ComboId
©©B I
==
©©J L
item
©©M Q
.
©©Q R
ComboId
©©R Y
)
©©Y Z
.
©©Z [
ToList
©©[ a
(
©©a b
)
©©b c
;
©©c d
_context
™™ 
.
™™ 
Combo_Subject
™™ &
.
™™& '
RemoveRange
™™' 2
(
™™2 3
com_sub
™™3 :
)
™™: ;
;
™™; <
}
´´ 
_context
¨¨ 
.
¨¨ 
Combo
¨¨ 
.
¨¨ 
RemoveRange
¨¨ &
(
¨¨& '
combo
¨¨' ,
)
¨¨, -
;
¨¨- .
_context
≠≠ 
.
≠≠  
Curriculum_Subject
≠≠ '
.
≠≠' (
RemoveRange
≠≠( 3
(
≠≠3 4
check
≠≠4 9
)
≠≠9 :
;
≠≠: ;
_context
ÆÆ 
.
ÆÆ 

Curriculum
ÆÆ 
.
ÆÆ  
Remove
ÆÆ  &
(
ÆÆ& '

curriculum
ÆÆ' 1
)
ÆÆ1 2
;
ÆÆ2 3
await
ØØ 
_context
ØØ 
.
ØØ 
SaveChangesAsync
ØØ +
(
ØØ+ ,
)
ØØ, -
;
ØØ- .
return
∞∞ 
RedirectToAction
∞∞ #
(
∞∞# $
nameof
∞∞$ *
(
∞∞* +
Index
∞∞+ 0
)
∞∞0 1
)
∞∞1 2
;
∞∞2 3
}
±± 	
public
¥¥ 
async
¥¥ 
Task
¥¥ 
<
¥¥ 
IActionResult
¥¥ '
>
¥¥' (

AddSubject
¥¥) 3
(
¥¥3 4
string
¥¥4 :
semester
¥¥; C
)
¥¥C D
{
µµ 	
string
∂∂ 
add
∂∂ 
=
∂∂ 
Request
∂∂  
.
∂∂  !
Form
∂∂! %
[
∂∂% &
$str
∂∂& +
]
∂∂+ ,
;
∂∂, -
int
∑∑ 
curriId
∑∑ 
=
∑∑ 
Convert
∑∑ !
.
∑∑! "
ToInt32
∑∑" )
(
∑∑) *
Request
∑∑* 1
.
∑∑1 2
Form
∑∑2 6
[
∑∑6 7
$str
∑∑7 @
]
∑∑@ A
)
∑∑A B
;
∑∑B C
if
ππ 
(
ππ 
add
ππ 
!=
ππ 
null
ππ 
&&
ππ 
!
ππ  
add
ππ  #
.
ππ# $
Trim
ππ$ (
(
ππ( )
)
ππ) *
.
ππ* +
Equals
ππ+ 1
(
ππ1 2
$str
ππ2 4
)
ππ4 5
)
ππ5 6
{
∫∫ 
Subject
ªª 
sj
ªª 
=
ªª 
_context
ªª %
.
ªª% &
Subject
ªª& -
.
ªª- .
Include
ªª. 5
(
ªª5 6
p
ªª6 7
=>
ªª8 :
p
ªª; <
.
ªª< =
Status
ªª= C
)
ªªC D
.
ªªD E
FirstOrDefault
ªªE S
(
ªªS T
pro
ªªT W
=>
ªªX Z
pro
ªª[ ^
.
ªª^ _
SubjectCode
ªª_ j
.
ªªj k
Equals
ªªk q
(
ªªq r
add
ªªr u
.
ªªu v
Trim
ªªv z
(
ªªz {
)
ªª{ |
)
ªª| }
)
ªª} ~
;
ªª~ 
if
ºº 
(
ºº 
sj
ºº 
!=
ºº 
null
ºº 
)
ºº 
{
ΩΩ 
var
øø 
check
øø 
=
øø 
_context
øø  (
.
øø( ) 
Curriculum_Subject
øø) ;
.
øø; <
Where
øø< A
(
øøA B
p
øøB C
=>
øøD F
p
øøG H
.
øøH I
CurriculumId
øøI U
==
øøV X
curriId
øøY `
)
øø` a
.
øøa b
ToList
øøb h
(
øøh i
)
øøi j
;
øøj k
CurriculumSubject
¿¿ %
check_element
¿¿& 3
=
¿¿4 5
(
¿¿6 7
from
¿¿7 ;
element
¿¿< C
in
¿¿D F
check
¿¿G L
where
¡¡( -
element
¡¡. 5
.
¡¡5 6
SubjectCode
¡¡6 A
.
¡¡A B
Trim
¡¡B F
(
¡¡F G
)
¡¡G H
.
¡¡H I
Equals
¡¡I O
(
¡¡O P
sj
¡¡P R
.
¡¡R S
SubjectCode
¡¡S ^
.
¡¡^ _
Trim
¡¡_ c
(
¡¡c d
)
¡¡d e
)
¡¡e f
select
¬¬( .
element
¬¬/ 6
)
¬¬6 7
.
¬¬7 8
FirstOrDefault
¬¬8 F
(
¬¬F G
)
¬¬G H
;
¬¬H I
if
√√ 
(
√√ 
check_element
√√ %
==
√√% '
null
√√' +
)
√√+ ,
{
ƒƒ 
CurriculumSubject
∆∆ )
cu_sub
∆∆* 0
=
∆∆1 2
new
∆∆3 6
CurriculumSubject
∆∆7 H
(
∆∆H I
)
∆∆I J
;
∆∆J K
cu_sub
«« 
.
«« 
SubjectCode
«« *
=
««+ ,
sj
««- /
.
««/ 0
SubjectCode
««0 ;
;
««; <
cu_sub
»» 
.
»» 
CurriculumId
»» +
=
»», -
curriId
»». 5
;
»»5 6
if
…… 
(
…… 
semester
…… $
!=
……% '
null
……( ,
)
……, -
{
   
int
ÀÀ 
semester_int
ÀÀ  ,
=
ÀÀ- .
Convert
ÀÀ/ 6
.
ÀÀ6 7
ToInt32
ÀÀ7 >
(
ÀÀ> ?
semester
ÀÀ? G
)
ÀÀG H
;
ÀÀH I
cu_sub
ÃÃ "
.
ÃÃ" #
Semester
ÃÃ# +
=
ÃÃ, -
semester_int
ÃÃ. :
;
ÃÃ: ;
}
ÕÕ 
_context
ŒŒ  
.
ŒŒ  ! 
Curriculum_Subject
ŒŒ! 3
.
ŒŒ3 4
Add
ŒŒ4 7
(
ŒŒ7 8
cu_sub
ŒŒ8 >
)
ŒŒ> ?
;
ŒŒ? @
_context
œœ  
.
œœ  !
SaveChanges
œœ! ,
(
œœ, -
)
œœ- .
;
œœ. /
return
–– 
new
–– "
RedirectResult
––# 1
(
––1 2
url
––2 5
:
––5 6
$str
––7 Q
+
––R S
curriId
––T [
,
––[ \
	permanent
––] f
:
––f g
true
––h l
,
––l m
preserveMethod
––n |
:
––| }
true––~ Ç
)––Ç É
;––É Ñ
}
—— 
else
““ 
{
”” 
TempData
‘‘  
[
‘‘  !
$str
‘‘! (
]
‘‘( )
=
‘‘* +
$str
‘‘, n
;
‘‘n o
return
’’ 
new
’’ "
RedirectResult
’’# 1
(
’’1 2
url
’’2 5
:
’’5 6
$str
’’7 Q
+
’’R S
curriId
’’T [
,
’’[ \
	permanent
’’] f
:
’’f g
true
’’h l
,
’’l m
preserveMethod
’’n |
:
’’| }
true’’~ Ç
)’’Ç É
;’’É Ñ
}
÷÷ 
}
◊◊ 
else
ÿÿ 
{
ŸŸ 
TempData
⁄⁄ 
[
⁄⁄ 
$str
⁄⁄ $
]
⁄⁄$ %
=
⁄⁄& '
$str
⁄⁄( e
;
⁄⁄e f
return
€€ 
new
€€ 
RedirectResult
€€ -
(
€€- .
url
€€. 1
:
€€1 2
$str
€€3 M
+
€€N O
curriId
€€P W
,
€€W X
	permanent
€€Y b
:
€€b c
true
€€d h
,
€€h i
preserveMethod
€€j x
:
€€x y
true
€€z ~
)
€€~ 
;€€ Ä
}
‹‹ 
}
›› 
TempData
ﬁﬁ 
[
ﬁﬁ 
$str
ﬁﬁ 
]
ﬁﬁ 
=
ﬁﬁ 
$str
ﬁﬁ  ]
;
ﬁﬁ] ^
return
ﬂﬂ 
new
ﬂﬂ 
RedirectResult
ﬂﬂ %
(
ﬂﬂ% &
url
ﬂﬂ& )
:
ﬂﬂ) *
$str
ﬂﬂ+ E
+
ﬂﬂF G
curriId
ﬂﬂH O
,
ﬂﬂO P
	permanent
ﬂﬂQ Z
:
ﬂﬂZ [
true
ﬂﬂ\ `
,
ﬂﬂ` a
preserveMethod
ﬂﬂb p
:
ﬂﬂp q
true
ﬂﬂr v
)
ﬂﬂv w
;
ﬂﬂw x
}
‡‡ 	
public
„„ 
async
„„ 
Task
„„ 
<
„„ 
IActionResult
„„ '
>
„„' (
DeleteSubject
„„) 6
(
„„6 7
int
„„7 :
id
„„; =
,
„„= >
int
„„? B
	cu_sub_ID
„„C L
)
„„L M
{
‰‰ 	
CurriculumSubject
ËË 
cu_sub
ËË $
=
ËË$ %
_context
ËË& .
.
ËË. / 
Curriculum_Subject
ËË/ A
.
ËËA B
Find
ËËB F
(
ËËF G
	cu_sub_ID
ËËG P
)
ËËP Q
;
ËËQ R
var
ÈÈ 
combo
ÈÈ 
=
ÈÈ 
_context
ÈÈ  
.
ÈÈ  !
Combo
ÈÈ! &
.
ÈÈ& '
Where
ÈÈ' ,
(
ÈÈ, -
p
ÈÈ- .
=>
ÈÈ/ 1
p
ÈÈ2 3
.
ÈÈ3 4
CurriculumId
ÈÈ4 @
==
ÈÈ@ B
id
ÈÈB D
)
ÈÈD E
.
ÈÈE F
ToList
ÈÈF L
(
ÈÈL M
)
ÈÈM N
;
ÈÈN O
foreach
ÍÍ 
(
ÍÍ 
var
ÍÍ 
item
ÍÍ 
in
ÍÍ 
combo
ÍÍ  %
)
ÍÍ% &
{
ÎÎ 
var
ÏÏ 
com_sub
ÏÏ 
=
ÏÏ 
_context
ÏÏ &
.
ÏÏ& '
Combo_Subject
ÏÏ' 4
.
ÏÏ4 5
Where
ÏÏ5 :
(
ÏÏ: ;
p
ÏÏ; <
=>
ÏÏ= ?
p
ÏÏ@ A
.
ÏÏA B
ComboId
ÏÏB I
==
ÏÏI K
item
ÏÏK O
.
ÏÏO P
ComboId
ÏÏP W
)
ÏÏW X
.
ÏÏX Y
ToList
ÏÏY _
(
ÏÏ_ `
)
ÏÏ` a
;
ÏÏa b
foreach
ÌÌ 
(
ÌÌ 
var
ÌÌ 
com
ÌÌ 
in
ÌÌ  "
com_sub
ÌÌ# *
)
ÌÌ* +
{
ÓÓ 
if
ÔÔ 
(
ÔÔ 
com
ÔÔ 
.
ÔÔ 
SubjectCode
ÔÔ %
.
ÔÔ% &
Equals
ÔÔ& ,
(
ÔÔ, -
cu_sub
ÔÔ- 3
.
ÔÔ3 4
SubjectCode
ÔÔ4 ?
)
ÔÔ? @
)
ÔÔ@ A
{
 
_context
ÒÒ  
.
ÒÒ  !
Combo_Subject
ÒÒ! .
.
ÒÒ. /
Remove
ÒÒ/ 5
(
ÒÒ5 6
com
ÒÒ6 9
)
ÒÒ9 :
;
ÒÒ: ;
_context
ÚÚ  
.
ÚÚ  !
SaveChanges
ÚÚ! ,
(
ÚÚ, -
)
ÚÚ- .
;
ÚÚ. /
}
ÛÛ 
}
ÙÙ 
}
ıı 
_context
ˆˆ 
.
ˆˆ  
Curriculum_Subject
ˆˆ '
.
ˆˆ' (
Remove
ˆˆ( .
(
ˆˆ. /
cu_sub
ˆˆ/ 5
)
ˆˆ5 6
;
ˆˆ6 7
_context
˜˜ 
.
˜˜ 
SaveChanges
˜˜  
(
˜˜  !
)
˜˜! "
;
˜˜" #
return
¯¯ 
new
¯¯ 
RedirectResult
¯¯ %
(
¯¯% &
url
¯¯& )
:
¯¯) *
$str
¯¯+ E
+
¯¯F G
id
¯¯H J
,
¯¯J K
	permanent
¯¯L U
:
¯¯U V
true
¯¯W [
,
¯¯[ \
preserveMethod
¯¯] k
:
¯¯k l
true
¯¯m q
)
¯¯q r
;
¯¯r s
}
˘˘ 	
private
˚˚ 
bool
˚˚ 
CurriculumExists
˚˚ %
(
˚˚% &
int
˚˚& )
id
˚˚* ,
)
˚˚, -
{
¸¸ 	
return
˝˝
 
(
˝˝ 
_context
˝˝ 
.
˝˝ 

Curriculum
˝˝ %
?
˝˝% &
.
˝˝& '
Any
˝˝' *
(
˝˝* +
e
˝˝+ ,
=>
˝˝- /
e
˝˝0 1
.
˝˝1 2
CurriculumId
˝˝2 >
==
˝˝? A
id
˝˝B D
)
˝˝D E
)
˝˝E F
.
˝˝F G
GetValueOrDefault
˝˝G X
(
˝˝X Y
)
˝˝Y Z
;
˝˝Z [
}
˛˛ 	
}
ˇˇ 
}ÄÄ ‘g
åC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Controllers\ADMINDecisionsController.cs
	namespace 	

LMMProject
 
. 
Controllers  
{ 
public 

class $
ADMINDecisionsController )
:* +

Controller, 6
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public $
ADMINDecisionsController '
(' (
AppDbContext( 4
context5 <
)< =
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
)/ 0
{ 	
return 
_context 
. 
Decision &
!=' )
null* .
?/ 0
View 
( 
await $
_context% -
.- .
Decision. 6
.6 7
ToListAsync7 B
(B C
)C D
)D E
:F G
Problem !
(! "
$str" P
)P Q
;Q R
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Details) 0
(0 1
string1 7
id8 :
): ;
{   	
if!! 
(!! 
id!! 
==!! 
null!! 
||!! 
_context!! &
.!!& '
Decision!!' /
==!!0 2
null!!3 7
)!!7 8
{"" 
return## 
NotFound## 
(##  
)##  !
;##! "
}$$ 
var&& 
decision&& 
=&& 
await&&  
_context&&! )
.&&) *
Decision&&* 2
.'' 
FirstOrDefaultAsync'' $
(''$ %
m''% &
=>''' )
m''* +
.''+ ,

DecisionNo'', 6
.''6 7
Equals''7 =
(''= >
id''> @
)''@ A
)''A B
;''B C
if(( 
((( 
decision(( 
==(( 
null((  
)((  !
{)) 
return** 
NotFound** 
(**  
)**  !
;**! "
}++ 
return-- 
View-- 
(-- 
decision--  
)--  !
;--! "
}.. 	
public11 
IActionResult11 
Create11 #
(11# $
)11$ %
{22 	
return33 
View33 
(33 
)33 
;33 
}44 	
[99 	
HttpPost99	 
]99 
[:: 	$
ValidateAntiForgeryToken::	 !
]::! "
public;; 
async;; 
Task;; 
<;; 
IActionResult;; '
>;;' (
Create;;) /
(;;/ 0
[;;0 1
Bind;;1 5
(;;5 6
$str;;6 _
);;_ `
];;` a
Decision;;b j
decision;;k s
);;s t
{<< 	
var== 
check== 
=== 
_context==  
.==  !
Decision==! )
.==) *
FirstOrDefault==* 8
(==8 9
p==9 :
=>==: <
p==< =
.=== >

DecisionNo==> H
.==H I
Equals==I O
(==O P
decision==P X
.==X Y

DecisionNo==Y c
)==c d
)==d e
;==e f
if>> 
(>> 
check>> 
==>> 
null>> 
)>> 
{?? 
if@@ 
(@@ 

ModelState@@ 
.@@ 
IsValid@@ &
)@@& '
{AA 
_contextBB 
.BB 
AddBB  
(BB  !
decisionBB! )
)BB) *
;BB* +
awaitCC 
_contextCC "
.CC" #
SaveChangesAsyncCC# 3
(CC3 4
)CC4 5
;CC5 6
returnDD 
RedirectToActionDD +
(DD+ ,
nameofDD, 2
(DD2 3
IndexDD3 8
)DD8 9
)DD9 :
;DD: ;
}EE 
}FF 
TempDataGG 
[GG 
$strGG 
]GG 
=GG 
$strGG  D
;GGD E
returnHH 
ViewHH 
(HH 
decisionHH  
)HH  !
;HH! "
}II 	
publicLL 
asyncLL 
TaskLL 
<LL 
IActionResultLL '
>LL' (
EditLL) -
(LL- .
stringLL. 4
idLL5 7
)LL7 8
{MM 	
ifNN 
(NN 
idNN 
==NN 
nullNN 
||NN 
_contextNN &
.NN& '
DecisionNN' /
==NN0 2
nullNN3 7
)NN7 8
{OO 
returnPP 
NotFoundPP 
(PP  
)PP  !
;PP! "
}QQ 
varSS 
decisionSS 
=SS 
awaitSS  
_contextSS! )
.SS) *
DecisionSS* 2
.SS2 3
	FindAsyncSS3 <
(SS< =
idSS= ?
)SS? @
;SS@ A
ifTT 
(TT 
decisionTT 
==TT 
nullTT  
)TT  !
{UU 
returnVV 
NotFoundVV 
(VV  
)VV  !
;VV! "
}WW 
returnXX 
ViewXX 
(XX 
decisionXX  
)XX  !
;XX! "
}YY 	
[^^ 	
HttpPost^^	 
]^^ 
[__ 	$
ValidateAntiForgeryToken__	 !
]__! "
public`` 
async`` 
Task`` 
<`` 
IActionResult`` '
>``' (
Edit``) -
(``- .
string``. 4
id``5 7
,``7 8
[``9 :
Bind``: >
(``> ?
$str``? h
)``h i
]``i j
Decision``k s
decision``t |
)``| }
{aa 	
ifbb 
(bb 
idbb 
!=bb 
decisionbb 
.bb 

DecisionNobb )
)bb) *
{cc 
returndd 
NotFounddd 
(dd  
)dd  !
;dd! "
}ee 
ifgg 
(gg 

ModelStategg 
.gg 
IsValidgg "
)gg" #
{hh 
tryii 
{jj 
_contextkk 
.kk 
Updatekk #
(kk# $
decisionkk$ ,
)kk, -
;kk- .
awaitll 
_contextll "
.ll" #
SaveChangesAsyncll# 3
(ll3 4
)ll4 5
;ll5 6
}mm 
catchnn 
(nn (
DbUpdateConcurrencyExceptionnn 3
)nn3 4
{oo 
ifpp 
(pp 
!pp 
DecisionExistspp '
(pp' (
decisionpp( 0
.pp0 1

DecisionNopp1 ;
)pp; <
)pp< =
{qq 
returnrr 
NotFoundrr '
(rr' (
)rr( )
;rr) *
}ss 
elsett 
{uu 
throwvv 
;vv 
}ww 
}xx 
returnyy 
RedirectToActionyy '
(yy' (
nameofyy( .
(yy. /
Indexyy/ 4
)yy4 5
)yy5 6
;yy6 7
}zz 
return{{ 
View{{ 
({{ 
decision{{  
){{  !
;{{! "
}|| 	
public 
async 
Task 
< 
IActionResult '
>' (
Delete) /
(/ 0
string0 6
id7 9
)9 :
{
ÄÄ 	
if
ÅÅ 
(
ÅÅ 
id
ÅÅ 
==
ÅÅ 
null
ÅÅ 
||
ÅÅ 
_context
ÅÅ &
.
ÅÅ& '
Decision
ÅÅ' /
==
ÅÅ0 2
null
ÅÅ3 7
)
ÅÅ7 8
{
ÇÇ 
return
ÉÉ 
NotFound
ÉÉ 
(
ÉÉ  
)
ÉÉ  !
;
ÉÉ! "
}
ÑÑ 
var
ÜÜ 
decision
ÜÜ 
=
ÜÜ 
await
ÜÜ  
_context
ÜÜ! )
.
ÜÜ) *
Decision
ÜÜ* 2
.
áá !
FirstOrDefaultAsync
áá $
(
áá$ %
m
áá% &
=>
áá' )
m
áá* +
.
áá+ ,

DecisionNo
áá, 6
.
áá6 7
Equals
áá7 =
(
áá= >
id
áá> @
)
áá@ A
)
ááA B
;
ááB C
if
àà 
(
àà 
decision
àà 
==
àà 
null
àà  
)
àà  !
{
ââ 
return
ää 
NotFound
ää 
(
ää  
)
ää  !
;
ää! "
}
ãã 
return
çç 
View
çç 
(
çç 
decision
çç  
)
çç  !
;
çç! "
}
éé 	
[
ëë 	
HttpPost
ëë	 
,
ëë 

ActionName
ëë 
(
ëë 
$str
ëë &
)
ëë& '
]
ëë' (
[
íí 	&
ValidateAntiForgeryToken
íí	 !
]
íí! "
public
ìì 
async
ìì 
Task
ìì 
<
ìì 
IActionResult
ìì '
>
ìì' (
DeleteConfirmed
ìì) 8
(
ìì8 9
string
ìì9 ?
id
ìì@ B
)
ììB C
{
îî 	
if
ïï 
(
ïï 
_context
ïï 
.
ïï 
Decision
ïï !
==
ïï" $
null
ïï% )
)
ïï) *
{
ññ 
return
óó 
Problem
óó 
(
óó 
$str
óó M
)
óóM N
;
óóN O
}
òò 
var
ôô 
decision
ôô 
=
ôô 
await
ôô  
_context
ôô! )
.
ôô) *
Decision
ôô* 2
.
ôô2 3
	FindAsync
ôô3 <
(
ôô< =
id
ôô= ?
)
ôô? @
;
ôô@ A
if
öö 
(
öö 
decision
öö 
!=
öö 
null
öö  
)
öö  !
{
õõ 
var
úú 
curri
úú 
=
úú 
_context
úú $
.
úú$ %

Curriculum
úú% /
.
úú/ 0
Where
úú0 5
(
úú5 6
p
úú6 7
=>
úú7 9
p
úú9 :
.
úú: ;

DecisionNo
úú; E
.
úúE F
Equals
úúF L
(
úúL M
id
úúM O
)
úúO P
)
úúP Q
.
úúQ R
ToList
úúR X
(
úúX Y
)
úúY Z
;
úúZ [
var
ùù 
syllabus
ùù 
=
ùù 
_context
ùù '
.
ùù' (
Syllabus
ùù( 0
.
ùù0 1
Where
ùù1 6
(
ùù6 7
p
ùù7 8
=>
ùù9 ;
p
ùù< =
.
ùù= >

DecisionNo
ùù> H
.
ùùH I
Equals
ùùI O
(
ùùO P
id
ùùP R
)
ùùR S
)
ùùS T
.
ùùT U
ToList
ùùU [
(
ùù[ \
)
ùù\ ]
;
ùù] ^
foreach
ûû 
(
ûû 
var
ûû 
cur
ûû 
in
ûû  "
curri
ûû# (
)
ûû( )
{
üü 
cur
†† 
.
†† 

DecisionNo
†† "
=
††# $
null
††% )
;
††) *
_context
°° 
.
°° 

Curriculum
°° '
.
°°' (
Update
°°( .
(
°°. /
cur
°°/ 2
)
°°2 3
;
°°3 4
}
¢¢ 
foreach
££ 
(
££ 
var
££ 
syl
££  
in
££! #
syllabus
££$ ,
)
££, -
{
§§ 
syl
•• 
.
•• 

DecisionNo
•• "
=
••# $
null
••% )
;
••) *
_context
¶¶ 
.
¶¶ 
Syllabus
¶¶ %
.
¶¶% &
Update
¶¶& ,
(
¶¶, -
syl
¶¶- 0
)
¶¶0 1
;
¶¶1 2
}
ßß 
_context
®® 
.
®® 
Decision
®® !
.
®®! "
Remove
®®" (
(
®®( )
decision
®®) 1
)
®®1 2
;
®®2 3
}
©© 
await
´´ 
_context
´´ 
.
´´ 
SaveChangesAsync
´´ +
(
´´+ ,
)
´´, -
;
´´- .
return
¨¨ 
RedirectToAction
¨¨ #
(
¨¨# $
nameof
¨¨$ *
(
¨¨* +
Index
¨¨+ 0
)
¨¨0 1
)
¨¨1 2
;
¨¨2 3
}
≠≠ 	
private
ØØ 
bool
ØØ 
DecisionExists
ØØ #
(
ØØ# $
string
ØØ$ *
id
ØØ+ -
)
ØØ- .
{
∞∞ 	
return
±±
 
(
±± 
_context
±± 
.
±± 
Decision
±± #
?
±±# $
.
±±$ %
Any
±±% (
(
±±( )
e
±±) *
=>
±±+ -
e
±±. /
.
±±/ 0

DecisionNo
±±0 :
==
±±; =
id
±±> @
)
±±@ A
)
±±A B
.
±±B C
GetValueOrDefault
±±C T
(
±±T U
)
±±U V
;
±±V W
}
≤≤ 	
}
≥≥ 
}¥¥ …[
îC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Controllers\ADMINMaterialOfTeacherController.cs
	namespace 	

LMMProject
 
. 
Controllers  
{ 
public 

class ,
 ADMINMaterialOfTeacherController 1
:2 3

Controller4 >
{ 
private 
int 
count_Index 
;  
private 
readonly 
AppDbContext %
_context& .
;. /
public ,
 ADMINMaterialOfTeacherController /
(/ 0
AppDbContext0 <
context= D
)D E
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
string/ 5
status6 <
,< =
string> D
sub_codeE M
)M N
{ 	
List 
< 
MaterialOfTeacher "
>" #
list$ (
=) *
await, 1
_context2 :
.: ;
MaterialOfTeacher; L
.L M
IncludeM T
(T U
mU V
=>W Y
mZ [
.[ \
Account\ c
)c d
.d e
Includee l
(l m
mm n
=>o q
mr s
.s t
Subjectt {
){ |
.| }
ToListAsync	} à
(
à â
)
â ä
;
ä ã
if 
( 
! 
string 
. 
IsNullOrEmpty )
() *
status* 0
)0 1
)1 2
{ 
if 
( 
! 
status 
. 
Equals "
(" #
$str# %
)% &
&&' )
!* +
status+ 1
.1 2
Equals2 8
(8 9
$str9 >
)> ?
)? @
{   
if!! 
(!! 
!!! 
string!! 
.!!  
IsNullOrEmpty!!  -
(!!- .
sub_code!!. 6
)!!6 7
)!!7 8
{"" 
list## 
=## 
await## $
_context##% -
.##- .
MaterialOfTeacher##. ?
.##? @
Include##@ G
(##G H
m##H I
=>##J L
m##M N
.##N O
Account##O V
)##V W
.##W X
Include##X _
(##_ `
m##` a
=>##b d
m##e f
.##f g
Subject##g n
)##n o
.##o p
Where##p u
(##u v
m##v w
=>##x z
m##{ |
.##| }
Status	##} É
.
##É Ñ
Equals
##Ñ ä
(
##ä ã
status
##ã ë
)
##ë í
)
##í ì
.
##ì î
Where
##î ô
(
##ô ö
m
##ö õ
=>
##ú û
m
##ü †
.
##† °
SubjectCode
##° ¨
.
##¨ ≠
Contains
##≠ µ
(
##µ ∂
sub_code
##∂ æ
)
##æ ø
)
##ø ¿
.
##¿ ¡
ToListAsync
##¡ Ã
(
##Ã Õ
)
##Õ Œ
;
##Œ œ
}$$ 
else%% 
{&& 
list'' 
='' 
await'' $
_context''% -
.''- .
MaterialOfTeacher''. ?
.''? @
Include''@ G
(''G H
m''H I
=>''J L
m''M N
.''N O
Account''O V
)''V W
.''W X
Include''X _
(''_ `
m''` a
=>''b d
m''e f
.''f g
Subject''g n
)''n o
.''o p
Where''p u
(''u v
m''v w
=>''x z
m''{ |
.''| }
Status	''} É
.
''É Ñ
Equals
''Ñ ä
(
''ä ã
status
''ã ë
)
''ë í
)
''í ì
.
''ì î
ToListAsync
''î ü
(
''ü †
)
''† °
;
''° ¢
}(( 
})) 
else** 
{++ 
if,, 
(,, 
!,, 
string,, 
.,,  
IsNullOrEmpty,,  -
(,,- .
sub_code,,. 6
),,6 7
),,7 8
{-- 
list.. 
=.. 
await.. $
_context..% -
...- .
MaterialOfTeacher... ?
...? @
Include..@ G
(..G H
m..H I
=>..J L
m..M N
...N O
Account..O V
)..V W
...W X
Include..X _
(.._ `
m..` a
=>..b d
m..e f
...f g
Subject..g n
)..n o
...o p
Where..p u
(..u v
m..v w
=>..x z
m..{ |
...| }
SubjectCode	..} à
.
..à â
Contains
..â ë
(
..ë í
sub_code
..í ö
)
..ö õ
)
..õ ú
.
..ú ù
ToListAsync
..ù ®
(
..® ©
)
..© ™
;
..™ ´
}// 
}00 
}11 
else22 
{33 
if44 
(44 
!44 
string44 
.44 
IsNullOrEmpty44 )
(44) *
sub_code44* 2
)442 3
)443 4
{55 
list66 
=66 
await66  
_context66! )
.66) *
MaterialOfTeacher66* ;
.66; <
Include66< C
(66C D
m66D E
=>66F H
m66I J
.66J K
Account66K R
)66R S
.66S T
Include66T [
(66[ \
m66\ ]
=>66^ `
m66a b
.66b c
Subject66c j
)66j k
.66k l
Where66l q
(66q r
m66r s
=>66t v
m66w x
.66x y
SubjectCode	66y Ñ
.
66Ñ Ö
Contains
66Ö ç
(
66ç é
sub_code
66é ñ
)
66ñ ó
)
66ó ò
.
66ò ô
ToListAsync
66ô §
(
66§ •
)
66• ¶
;
66¶ ß
}77 
}88 
return99 
View99 
(99 
list99 
)99 
;99 
}:: 	
public== 
async== 
Task== 
<== 
IActionResult== '
>==' (
Edit==) -
(==- .
int==. 1
?==1 2
id==3 5
)==5 6
{>> 	
if?? 
(?? 
id?? 
==?? 
null?? 
||?? 
_context?? &
.??& '
MaterialOfTeacher??' 8
==??9 ;
null??< @
)??@ A
{@@ 
returnAA 
NotFoundAA 
(AA  
)AA  !
;AA! "
}BB 
varDD 
materialOfTeacherDD !
=DD" #
awaitDD$ )
_contextDD* 2
.DD2 3
MaterialOfTeacherDD3 D
.DDD E
	FindAsyncDDE N
(DDN O
idDDO Q
)DDQ R
;DDR S
ifEE 
(EE 
materialOfTeacherEE !
==EE" $
nullEE% )
)EE) *
{FF 
returnGG 
NotFoundGG 
(GG  
)GG  !
;GG! "
}HH 
materialOfTeacherII 
.II 
StatusII $
=II% &
$strII' 1
;II1 2
_contextJJ 
.JJ 
UpdateJJ 
(JJ 
materialOfTeacherJJ -
)JJ- .
;JJ. /
awaitKK 
_contextKK 
.KK 
SaveChangesAsyncKK +
(KK+ ,
)KK, -
;KK- .
returnLL 
RedirectToActionLL #
(LL# $
nameofLL$ *
(LL* +
IndexLL+ 0
)LL0 1
)LL1 2
;LL2 3
}MM 	
publicPP 
asyncPP 
TaskPP 
<PP 
IActionResultPP '
>PP' (
DeletePP) /
(PP/ 0
intPP0 3
?PP3 4
idPP5 7
)PP7 8
{QQ 	
ifRR 
(RR 
idRR 
==RR 
nullRR 
||RR 
_contextRR &
.RR& '
MaterialOfTeacherRR' 8
==RR9 ;
nullRR< @
)RR@ A
{SS 
returnTT 
NotFoundTT 
(TT  
)TT  !
;TT! "
}UU 
varWW 
materialOfTeacherWW !
=WW" #
awaitWW$ )
_contextWW* 2
.WW2 3
MaterialOfTeacherWW3 D
.XX 
IncludeXX 
(XX 
mXX 
=>XX 
mXX 
.XX  
AccountXX  '
)XX' (
.YY 
IncludeYY 
(YY 
mYY 
=>YY 
mYY 
.YY  
SubjectYY  '
)YY' (
.ZZ 
FirstOrDefaultAsyncZZ $
(ZZ$ %
mZZ% &
=>ZZ' )
mZZ* +
.ZZ+ ,
IdZZ, .
==ZZ/ 1
idZZ2 4
)ZZ4 5
;ZZ5 6
if[[ 
([[ 
materialOfTeacher[[ !
==[[" $
null[[% )
)[[) *
{\\ 
return]] 
NotFound]] 
(]]  
)]]  !
;]]! "
}^^ 
return`` 
View`` 
(`` 
materialOfTeacher`` )
)``) *
;``* +
}aa 	
[dd 	
HttpPostdd	 
,dd 

ActionNamedd 
(dd 
$strdd &
)dd& '
]dd' (
[ee 	$
ValidateAntiForgeryTokenee	 !
]ee! "
publicff 
asyncff 
Taskff 
<ff 
IActionResultff '
>ff' (
DeleteConfirmedff) 8
(ff8 9
intff9 <
idff= ?
)ff? @
{gg 	
ifhh 
(hh 
_contexthh 
.hh 
MaterialOfTeacherhh *
==hh+ -
nullhh. 2
)hh2 3
{ii 
returnjj 
Problemjj 
(jj 
$strjj V
)jjV W
;jjW X
}kk 
varll 
materialOfTeacherll !
=ll" #
awaitll$ )
_contextll* 2
.ll2 3
MaterialOfTeacherll3 D
.llD E
	FindAsyncllE N
(llN O
idllO Q
)llQ R
;llR S
ifmm 
(mm 
materialOfTeachermm !
!=mm" $
nullmm% )
)mm) *
{nn 
_contextoo 
.oo 
MaterialOfTeacheroo *
.oo* +
Removeoo+ 1
(oo1 2
materialOfTeacheroo2 C
)ooC D
;ooD E
}pp 
awaitrr 
_contextrr 
.rr 
SaveChangesAsyncrr +
(rr+ ,
)rr, -
;rr- .
returnss 
RedirectToActionss #
(ss# $
nameofss$ *
(ss* +
Indexss+ 0
)ss0 1
)ss1 2
;ss2 3
}tt 	
privatevv 
boolvv #
MaterialOfTeacherExistsvv ,
(vv, -
intvv- 0
idvv1 3
)vv3 4
{ww 	
returnxx
 
(xx 
_contextxx 
.xx 
MaterialOfTeacherxx ,
?xx, -
.xx- .
Anyxx. 1
(xx1 2
exx2 3
=>xx4 6
exx7 8
.xx8 9
Idxx9 ;
==xx< >
idxx? A
)xxA B
)xxB C
.xxC D
GetValueOrDefaultxxD U
(xxU V
)xxV W
;xxW X
}yy 	
}zz 
}{{ ∂>
ãC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Controllers\ADMINMetarialController.cs
	namespace 	

LMMProject
 
. 
Controllers  
{ 
public		 

class		 #
ADMINMetarialController		 (
:		) *

Controller		+ 5
{

 
private 
readonly 
AppDbContext %
_context& .
;. /
public #
ADMINMetarialController &
(& '
AppDbContext' 3
context4 ;
); <
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
)/ 0
{ 	
var 
	materials 
= 
await !
_context" *
.* +
Material+ 3
.3 4
Include4 ;
(; <
s< =
=>> @
sA B
.B C
SubjectC J
)J K
.K L
OrderByDescendingL ]
(] ^
s^ _
=>` b
sc d
.d e

MaterialIde o
)o p
.p q
ToListAsyncq |
(| }
)} ~
;~ 
return 
View 
( 
	materials !
)! "
;" #
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Create) /
(/ 0
)0 1
{ 	
var 
subjects 
= 
await  
_context! )
.) *
Subject* 1
.1 2
Include2 9
(9 :
s: ;
=>< >
s? @
.@ A
StatusA G
)G H
.H I
ToListAsyncI T
(T U
)U V
;V W
return 
View 
( 
subjects  
)  !
;! "
} 	
[ 	
HttpPost	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
SubmitCreate) 5
(5 6
Material6 >
model? D
)D E
{ 	
_context   
.   
Material   
.   
Add   !
(  ! "
model  " '
)  ' (
;  ( )
await!! 
_context!! 
.!! 
SaveChangesAsync!! +
(!!+ ,
)!!, -
;!!- .
return"" 
RedirectToAction"" #
(""# $
nameof""$ *
(""* +
Index""+ 0
)""0 1
)""1 2
;""2 3
}## 	
public%% 
async%% 
Task%% 
<%% 
IActionResult%% '
>%%' (
Edit%%) -
(%%- .
int%%. 1
id%%2 4
)%%4 5
{&& 	
var'' 
material'' 
='' 
await''  
_context''! )
.'') *
Material''* 2
.''2 3
FirstOrDefaultAsync''3 F
(''F G
m''G H
=>''I K
m''L M
.''M N

MaterialId''N X
==''Y [
id''\ ^
)''^ _
;''_ `
if)) 
()) 
material)) 
==)) 
null))  
)))  !
{** 
return++ 
NotFound++ 
(++  
)++  !
;++! "
},, 
var.. 
subjects.. 
=.. 
await..  
_context..! )
...) *
Subject..* 1
...1 2
Include..2 9
(..9 :
s..: ;
=>..< >
s..? @
...@ A
Status..A G
)..G H
...H I
ToListAsync..I T
(..T U
)..U V
;..V W
return00 
View00 
(00 
new00 
MaterialFilterModel00 /
(00/ 0
)000 1
{11 
Material22 
=22 
material22 #
,22# $
Subjects33 
=33 
subjects33 #
}44 
)44 
;44 
}55 	
[77 	
HttpGet77	 
]77 
public88 
async88 
Task88 
<88 
IActionResult88 '
>88' (
Delete88) /
(88/ 0
int880 3
id884 6
)886 7
{99 	
var:: 
material:: 
=:: 
await::  
_context::! )
.::) *
Material::* 2
.::2 3
FirstOrDefaultAsync::3 F
(::F G
m::G H
=>::I K
m::L M
.::M N

MaterialId::N X
==::Y [
id::\ ^
)::^ _
;::_ `
if<< 
(<< 
material<< 
==<< 
null<<  
)<<  !
{== 
return>> 
NotFound>> 
(>>  
)>>  !
;>>! "
}?? 
_contextAA 
.AA 
MaterialAA 
.AA 
RemoveAA $
(AA$ %
materialAA% -
)AA- .
;AA. /
awaitCC 
_contextCC 
.CC 
SaveChangesAsyncCC +
(CC+ ,
)CC, -
;CC- .
returnEE 
RedirectToActionEE #
(EE# $
nameofEE$ *
(EE* +
IndexEE+ 0
)EE0 1
)EE1 2
;EE2 3
}FF 	
[HH 	
HttpPostHH	 
]HH 
publicII 
asyncII 
TaskII 
<II 
IActionResultII '
>II' (
SubmitUpdateII) 5
(II5 6
MaterialII6 >
modelII? D
)IID E
{JJ 	
varKK 
materialKK 
=KK 
awaitKK  
_contextKK! )
.KK) *
MaterialKK* 2
.KK2 3
FirstOrDefaultAsyncKK3 F
(KKF G
mKKG H
=>KKI K
mKKL M
.KKM N

MaterialIdKKN X
==KKY [
modelKK\ a
.KKa b

MaterialIdKKb l
)KKl m
;KKm n
ifMM 
(MM 
materialMM 
==MM 
nullMM  
)MM  !
{NN 
returnOO 
NotFoundOO 
(OO  
)OO  !
;OO! "
}PP 
materialRR 
.RR 
MaterialDescriptionRR (
=RR) *
modelRR+ 0
.RR0 1
MaterialDescriptionRR1 D
;RRD E
materialSS 
.SS 
AuthorSS 
=SS 
modelSS #
.SS# $
AuthorSS$ *
;SS* +
materialTT 
.TT 
	PublisherTT 
=TT  
modelTT! &
.TT& '
	PublisherTT' 0
;TT0 1
materialUU 
.UU 
PublishedDateUU "
=UU# $
modelUU% *
.UU* +
PublishedDateUU+ 8
;UU8 9
materialVV 
.VV 
UrlVV 
=VV 
modelVV  
.VV  !
UrlVV! $
;VV$ %
materialWW 
.WW 
SubjectCodeWW  
=WW! "
modelWW# (
.WW( )
SubjectCodeWW) 4
;WW4 5
_contextYY 
.YY 
MaterialYY 
.YY 
UpdateYY $
(YY$ %
materialYY% -
)YY- .
;YY. /
awaitZZ 
_contextZZ 
.ZZ 
SaveChangesAsyncZZ +
(ZZ+ ,
)ZZ, -
;ZZ- .
return\\ 
RedirectToAction\\ #
(\\# $
nameof\\$ *
(\\* +
Index\\+ 0
)\\0 1
)\\1 2
;\\2 3
}]] 	
}^^ 
}__ Êj
äC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Controllers\ADMINSessionController.cs
	namespace 	

LMMProject
 
. 
Controllers  
{ 
public 

class "
ADMINSessionController '
:( )

Controller* 4
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public "
ADMINSessionController %
(% &
AppDbContext& 2
context3 :
): ;
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
string/ 5
?5 6
id7 9
)9 :
{ 	
Subject 
sub 
= 
_context "
." #
Subject# *
.* +
FirstOrDefault+ 9
(9 :
s: ;
=>< >
s? @
.@ A
SubjectCodeA L
==M O
idP R
)R S
;S T
ViewBag 
. 
SubjectCode 
=  !
sub" %
;% &
var 
listSession 
= 
_context &
.& '
Session' .
.. /
Include/ 6
(6 7
s7 8
=>9 ;
s< =
.= >
Subject> E
)E F
.F G
WhereG L
(L M
susM P
=>Q S
susT W
.W X
SubjectCodeX c
==d f
idg i
)i j
.j k
ToListk q
(q r
)r s
;s t
return 
View 
( 
listSession #
)# $
;$ %
}   	
public"" 
IActionResult"" 
Create"" #
(""# $
)""$ %
{## 	
ViewData$$ 
[$$ 
$str$$ "
]$$" #
=$$$ %
new$$& )

SelectList$$* 4
($$4 5
_context$$5 =
.$$= >
Subject$$> E
,$$E F
$str$$G T
,$$T U
$str$$V c
)$$c d
;$$d e
return%% 
View%% 
(%% 
)%% 
;%% 
}&& 	
[++ 	
HttpPost++	 
]++ 
[,, 	$
ValidateAntiForgeryToken,,	 !
],,! "
public-- 
async-- 
Task-- 
<-- 
IActionResult-- '
>--' (
Create--) /
(--/ 0
[--0 1
Bind--1 5
(--5 6
$str	--6 é
)
--é è
]
--è ê

LMMProject
--ë õ
.
--õ ú
Models
--ú ¢
.
--¢ £
Session
--£ ™
session
--´ ≤
)
--≤ ≥
{.. 	
try// 
{00 
if11 
(11 
SessionExists11 !
(11! "
session11" )
.11) *
	SessionId11* 3
)113 4
)114 5
{22 
return33 
View33 
(33  
session33  '
)33' (
;33( )
}44 
Models55 
.55 
Session55 
ses55 "
=55# $
new55% (
Models55) /
.55/ 0
Session550 7
(557 8
)558 9
;559 :
ses66 
.66 
	SessionId66 
=66 
session66  '
.66' (
	SessionId66( 1
;661 2
ses77 
.77 
Topic77 
=77 
session77 #
.77# $
Topic77$ )
;77) *
ses88 
.88  
LearningTeachingType88 (
=88) *
session88+ 2
.882 3 
LearningTeachingType883 G
;88G H
ses99 
.99 
StudentMaterials99 $
=99% &
session99' .
.99. /
StudentMaterials99/ ?
;99? @
ses:: 
.::  
Constructivequestion:: (
=::) *
session::+ 2
.::2 3 
Constructivequestion::3 G
;::G H
ses;; 
.;; 
SubjectCode;; 
=;;  !
session;;" )
.;;) *
SubjectCode;;* 5
;;;5 6
_context<< 
.<< 
Session<<  
.<<  !
AddAsync<<! )
(<<) *
ses<<* -
)<<- .
;<<. /
await== 
_context== 
.== 
SaveChangesAsync== /
(==/ 0
)==0 1
;==1 2
}>> 
catch?? 
(?? 
	Exception?? 
ex?? 
)?? 
{@@ 
throwAA 
exAA 
;AA 
}BB 
ViewDataCC 
[CC 
$strCC "
]CC" #
=CC$ %
newCC& )

SelectListCC* 4
(CC4 5
_contextCC5 =
.CC= >
SubjectCC> E
,CCE F
$strCCG T
,CCT U
$strCCV c
,CCc d
sessionCCe l
.CCl m
SubjectCodeCCm x
)CCx y
;CCy z
returnDD 
newDD 
RedirectResultDD %
(DD% &
urlDD& )
:DD) *
$strDD+ A
+DDB C
sessionDDD K
.DDK L
SubjectCodeDDL W
,DDW X
	permanentDDY b
:DDb c
trueDDd h
,DDh i
preserveMethodDDj x
:DDx y
trueDDz ~
)DD~ 
;	DD Ä
}EE 	
publicHH 
asyncHH 
TaskHH 
<HH 
IActionResultHH '
>HH' (
EditHH) -
(HH- .
intHH. 1
?HH1 2
idHH3 5
)HH5 6
{II 	
ifJJ 
(JJ 
idJJ 
==JJ 
nullJJ 
||JJ 
_contextJJ &
.JJ& '
SessionJJ' .
==JJ/ 1
nullJJ2 6
)JJ6 7
{KK 
returnLL 
NotFoundLL 
(LL  
)LL  !
;LL! "
}MM 
varOO 
sessionOO 
=OO 
awaitOO 
_contextOO  (
.OO( )
SessionOO) 0
.OO0 1
	FindAsyncOO1 :
(OO: ;
idOO; =
)OO= >
;OO> ?
ifPP 
(PP 
sessionPP 
==PP 
nullPP 
)PP  
{QQ 
returnRR 
NotFoundRR 
(RR  
)RR  !
;RR! "
}SS 
ViewDataTT 
[TT 
$strTT "
]TT" #
=TT$ %
newTT& )

SelectListTT* 4
(TT4 5
_contextTT5 =
.TT= >
SubjectTT> E
,TTE F
$strTTG T
,TTT U
$strTTV c
,TTc d
sessionTTe l
.TTl m
SubjectCodeTTm x
)TTx y
;TTy z
returnUU 
ViewUU 
(UU 
sessionUU 
)UU  
;UU  !
}VV 	
[[[ 	
HttpPost[[	 
][[ 
[\\ 	$
ValidateAntiForgeryToken\\	 !
]\\! "
public]] 
async]] 
Task]] 
<]] 
IActionResult]] '
>]]' (
Edit]]) -
(]]- .
[]]/ 0
Bind]]0 4
(]]4 5
$str	]]5 ç
)
]]ç é
]
]]é è
Models
]]ê ñ
.
]]ñ ó
Session
]]ó û
session
]]ü ¶
)
]]¶ ß
{^^ 	
if`` 
(`` 

ModelState`` 
.`` 
IsValid`` "
)``" #
{aa 
trybb 
{cc 
_contextdd 
.dd 
Updatedd #
(dd# $
sessiondd$ +
)dd+ ,
;dd, -
awaitee 
_contextee "
.ee" #
SaveChangesAsyncee# 3
(ee3 4
)ee4 5
;ee5 6
}ff 
catchgg 
(gg (
DbUpdateConcurrencyExceptiongg 3
)gg3 4
{hh 
ifii 
(ii 
!ii 
SessionExistsii &
(ii& '
sessionii' .
.ii. /
	SessionIdii/ 8
)ii8 9
)ii9 :
{jj 
returnkk 
NotFoundkk '
(kk' (
)kk( )
;kk) *
}ll 
elsemm 
{nn 
throwoo 
;oo 
}pp 
}qq 
returnrr 
newrr 
RedirectResultrr )
(rr) *
urlrr* -
:rr- .
$strrr/ E
+rrF G
sessionrrH O
.rrO P
SubjectCoderrP [
,rr[ \
	permanentrr] f
:rrf g
truerrh l
,rrl m
preserveMethodrrn |
:rr| }
true	rr~ Ç
)
rrÇ É
;
rrÉ Ñ
}ss 
ViewDatatt 
[tt 
$strtt "
]tt" #
=tt$ %
newtt& )

SelectListtt* 4
(tt4 5
_contexttt5 =
.tt= >
Subjecttt> E
,ttE F
$strttG T
,ttT U
$strttV c
,ttc d
sessiontte l
.ttl m
SubjectCodettm x
)ttx y
;tty z
returnuu 
Viewuu 
(uu 
sessionuu 
)uu  
;uu  !
}vv 	
publicyy 
asyncyy 
Taskyy 
<yy 
IActionResultyy '
>yy' (
Deleteyy) /
(yy/ 0
intyy0 3
?yy3 4
idyy5 7
)yy7 8
{zz 	
if{{ 
({{ 
id{{ 
=={{ 
null{{ 
||{{ 
_context{{ &
.{{& '
Session{{' .
=={{/ 1
null{{2 6
){{6 7
{|| 
return}} 
NotFound}} 
(}}  
)}}  !
;}}! "
}~~ 
var
ÄÄ 
session
ÄÄ 
=
ÄÄ 
await
ÄÄ 
_context
ÄÄ  (
.
ÄÄ( )
Session
ÄÄ) 0
.
ÅÅ 
Include
ÅÅ 
(
ÅÅ 
s
ÅÅ 
=>
ÅÅ 
s
ÅÅ 
.
ÅÅ  
Subject
ÅÅ  '
)
ÅÅ' (
.
ÇÇ !
FirstOrDefaultAsync
ÇÇ $
(
ÇÇ$ %
m
ÇÇ% &
=>
ÇÇ' )
m
ÇÇ* +
.
ÇÇ+ ,
	SessionId
ÇÇ, 5
==
ÇÇ6 8
id
ÇÇ9 ;
)
ÇÇ; <
;
ÇÇ< =
if
ÉÉ 
(
ÉÉ 
session
ÉÉ 
==
ÉÉ 
null
ÉÉ 
)
ÉÉ  
{
ÑÑ 
return
ÖÖ 
NotFound
ÖÖ 
(
ÖÖ  
)
ÖÖ  !
;
ÖÖ! "
}
ÜÜ 
return
àà 
View
àà 
(
àà 
session
àà 
)
àà  
;
àà  !
}
ââ 	
[
åå 	
HttpPost
åå	 
,
åå 

ActionName
åå 
(
åå 
$str
åå &
)
åå& '
]
åå' (
[
çç 	&
ValidateAntiForgeryToken
çç	 !
]
çç! "
public
éé 
async
éé 
Task
éé 
<
éé 
IActionResult
éé '
>
éé' (
DeleteConfirmed
éé) 8
(
éé8 9
int
éé9 <
id
éé= ?
)
éé? @
{
èè 	
var
êê 
session
êê 
=
êê 
await
êê 
_context
êê  (
.
êê( )
Session
êê) 0
.
êê0 1
Include
êê1 8
(
êê8 9
s
êê9 :
=>
êê; =
s
êê> ?
.
êê? @
Subject
êê@ G
)
êêG H
.
êêH I!
FirstOrDefaultAsync
êêI \
(
êê\ ]
s
êê] ^
=>
êê_ a
s
êêb c
.
êêc d
	SessionId
êêd m
==
êên p
id
êêq s
)
êês t
;
êêt u
if
ëë 
(
ëë 
session
ëë 
==
ëë 
null
ëë 
)
ëë 
{
íí 
return
ìì 
NotFound
ìì 
(
ìì  
)
ìì  !
;
ìì! "
}
îî 
_context
ïï 
.
ïï 
Session
ïï 
.
ïï 
RemoveRange
ïï (
(
ïï( )
session
ïï) 0
)
ïï0 1
;
ïï1 2
await
ññ 
_context
ññ 
.
ññ 
SaveChangesAsync
ññ +
(
ññ+ ,
)
ññ, -
;
ññ- .
return
óó 
new
óó 
RedirectResult
óó %
(
óó% &
url
óó& )
:
óó) *
$str
óó+ A
+
óóB C
session
óóD K
.
óóK L
SubjectCode
óóL W
,
óóW X
	permanent
óóY b
:
óób c
true
óód h
,
óóh i
preserveMethod
óój x
:
óóx y
true
óóz ~
)
óó~ 
;óó Ä
}
òò 	
private
öö 
bool
öö 
SessionExists
öö "
(
öö" #
int
öö# &
id
öö' )
)
öö) *
{
õõ 	
return
úú
 
(
úú 
_context
úú 
.
úú 
Session
úú "
?
úú" #
.
úú# $
Any
úú$ '
(
úú' (
e
úú( )
=>
úú* ,
e
úú- .
.
úú. /
	SessionId
úú/ 8
==
úú9 ;
id
úú< >
)
úú> ?
)
úú? @
.
úú@ A
GetValueOrDefault
úúA R
(
úúR S
)
úúS T
;
úúT U
}
ùù 	
}
ûû 
}üü ±}
äC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Controllers\ADMINSubjectController.cs
	namespace 	

LMMProject
 
. 
Controllers  
{ 
public 

class "
ADMINSubjectController '
:( )

Controller* 4
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public "
ADMINSubjectController %
(% &
AppDbContext& 2
context3 :
): ;
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
)/ 0
{ 	
IEnumerable 
< 
Subject 
>  
appDbContext! -
=. /
await0 5
_context6 >
.> ?
Subject? F
.F G
IncludeG N
(N O
sO P
=>Q S
sT U
.U V
StatusV \
)\ ]
.] ^
ToListAsync^ i
(i j
)j k
;k l
return 
View 
( 
appDbContext $
)$ %
;% &
} 	
public"" 
IActionResult"" 
Create"" #
(""# $
)""$ %
{## 	
ViewData$$ 
[$$ 
$str$$ "
]$$" #
=$$$ %
new$$& )

SelectList$$* 4
($$4 5
_context$$5 =
.$$= >
Status$$> D
,$$D E
$str$$F S
,$$S T
$str$$U b
)$$b c
;$$c d
return%% 
View%% 
(%% 
)%% 
;%% 
}&& 	
[(( 	
HttpPost((	 
](( 
[)) 	$
ValidateAntiForgeryToken))	 !
]))! "
public** 
async** 
Task** 
<** 
IActionResult** '
>**' (
Create**) /
(**/ 0
[**0 1
Bind**1 5
(**5 6
$str**6 u
)**u v
]**v w
Subject**x 
subject
**Ä á
)
**á à
{++ 	
try,, 
{-- 
if.. 
(.. 
SubjectExists.. !
(..! "
subject.." )
...) *
SubjectCode..* 5
)..5 6
)..6 7
{// 
return00 
View00 
(00  
subject00  '
)00' (
;00( )
}11 
Subject22 
sub22 
=22 
new22 !
Subject22" )
(22) *
)22* +
;22+ ,
sub33 
.33 
SubjectCode33 
=33  !
subject33" )
.33) *
SubjectCode33* 5
;335 6
sub44 
.44 
SubjectNameVn44 !
=44" #
subject44$ +
.44+ ,
SubjectNameVn44, 9
;449 :
sub55 
.55 
SubjectNameEn55 !
=55" #
subject55$ +
.55+ ,
SubjectNameEn55, 9
;559 :
sub66 
.66 
PreRequisite66  
=66! "
subject66# *
.66* +
PreRequisite66+ 7
;667 8
sub77 
.77 
StatusId77 
=77 
subject77 &
.77& '
StatusId77' /
;77/ 0
_context88 
.88 
Subject88  
.88  !
AddAsync88! )
(88) *
sub88* -
)88- .
;88. /
await99 
_context99 
.99 
SaveChangesAsync99 /
(99/ 0
)990 1
;991 2
}<< 
catch== 
(== 
	Exception== 
ex== 
)==  
{>> 
throw?? 
ex?? 
;?? 
}@@ 
ViewDataAA 
[AA 
$strAA 
]AA  
=AA! "
newAA# &

SelectListAA' 1
(AA1 2
_contextAA2 :
.AA: ;
StatusAA; A
,AAA B
$strAAC M
,AAM N
$strAAO Y
,AAY Z
subjectAA[ b
.AAb c
StatusIdAAc k
)AAk l
;AAl m
returnBB 
RedirectToActionBB #
(BB# $
nameofBB$ *
(BB* +
IndexBB+ 0
)BB0 1
)BB1 2
;BB2 3
}DD 	
publicGG 
asyncGG 
TaskGG 
<GG 
IActionResultGG '
>GG' (
EditGG) -
(GG- .
stringGG. 4
?GG4 5
idGG6 8
)GG8 9
{HH 	
ifII 
(II 
idII 
==II 
nullII 
||II 
_contextII &
.II& '
SubjectII' .
==II/ 1
nullII2 6
)II6 7
{JJ 
returnKK 
NotFoundKK 
(KK  
)KK  !
;KK! "
}LL 
varNN 
subjectNN 
=NN 
awaitNN 
_contextNN  (
.NN( )
SubjectNN) 0
.NN0 1
	FindAsyncNN1 :
(NN: ;
idNN; =
)NN= >
;NN> ?
ifOO 
(OO 
subjectOO 
==OO 
nullOO 
)OO  
{PP 
returnQQ 
NotFoundQQ 
(QQ  
)QQ  !
;QQ! "
}RR 
ViewDataSS 
[SS 
$strSS 
]SS  
=SS! "
newSS# &

SelectListSS' 1
(SS1 2
_contextSS2 :
.SS: ;
StatusSS; A
,SSA B
$strSSC M
,SSM N
$strSSO [
,SS[ \
subjectSS] d
.SSd e
StatusIdSSe m
)SSm n
;SSn o
returnTT 
ViewTT 
(TT 
subjectTT 
)TT  
;TT  !
}UU 	
[XX 	
HttpPostXX	 
]XX 
[YY 	$
ValidateAntiForgeryTokenYY	 !
]YY! "
publicZZ 
asyncZZ 
TaskZZ 
<ZZ 
IActionResultZZ '
>ZZ' (
EditZZ) -
(ZZ- .
[ZZ. /
BindZZ/ 3
(ZZ3 4
$strZZ4 s
)ZZs t
]ZZt u
SubjectZZv }
subject	ZZ~ Ö
)
ZZÖ Ü
{[[ 	
try^^ 
{__ 
var`` 
sub`` 
=`` 
await`` 
_context``  (
.``( )
Subject``) 0
.``0 1 
SingleOrDefaultAsync``1 E
(``E F
s``F G
=>``H J
s``K L
.``L M
SubjectCode``M X
.``X Y
Equals``Y _
(``_ `
subject``` g
.``g h
SubjectCode``h s
)``s t
)``t u
;``u v
ifaa 
(aa 
subaa 
==aa 
nullaa 
)aa  
{bb 
returncc 
NotFoundcc #
(cc# $
)cc$ %
;cc% &
}dd 
subee 
.ee 
SubjectNameVnee !
=ee" #
subjectee$ +
.ee+ ,
SubjectNameVnee, 9
;ee9 :
subff 
.ff 
SubjectNameEnff !
=ff" #
subjectff$ +
.ff+ ,
SubjectNameEnff, 9
;ff9 :
subgg 
.gg 
PreRequisitegg  
=gg! "
subjectgg# *
.gg* +
PreRequisitegg+ 7
;gg7 8
subhh 
.hh 
StatusIdhh 
=hh 
subjecthh &
.hh& '
StatusIdhh' /
;hh/ 0
awaitii 
_contextii 
.ii 
SaveChangesAsyncii /
(ii/ 0
)ii0 1
;ii1 2
}jj 
catchkk 
(kk 
	Exceptionkk 
exkk 
)kk  
{ll 
ifmm 
(mm 
!mm 
SubjectExistsmm "
(mm" #
subjectmm# *
.mm* +
SubjectCodemm+ 6
)mm6 7
)mm7 8
{nn 
returnoo 
NotFoundoo #
(oo# $
)oo$ %
;oo% &
}pp 
elseqq 
{rr 
throwss 
;ss 
}tt 
}uu 
ViewDatavv 
[vv 
$strvv 
]vv  
=vv! "
newvv# &

SelectListvv' 1
(vv1 2
_contextvv2 :
.vv: ;
Statusvv; A
,vvA B
$strvvC M
,vvM N
$strvvO Y
,vvY Z
subjectvv[ b
.vvb c
StatusIdvvc k
)vvk l
;vvl m
returnww 
RedirectToActionww #
(ww# $
nameofww$ *
(ww* +
Indexww+ 0
)ww0 1
)ww1 2
;ww2 3
}xx 	
public|| 
async|| 
Task|| 
<|| 
IActionResult|| '
>||' (
Delete||) /
(||/ 0
string||0 6
?||6 7
id||8 :
)||: ;
{}} 	
if~~ 
(~~ 
id~~ 
==~~ 
null~~ 
||~~ 
_context~~ &
.~~& '
Subject~~' .
==~~/ 1
null~~2 6
)~~6 7
{ 
return
ÄÄ 
NotFound
ÄÄ 
(
ÄÄ  
)
ÄÄ  !
;
ÄÄ! "
}
ÅÅ 
var
ÉÉ 
subject
ÉÉ 
=
ÉÉ 
await
ÉÉ 
_context
ÉÉ  (
.
ÉÉ( )
Subject
ÉÉ) 0
.
ÑÑ 
Include
ÑÑ 
(
ÑÑ 
s
ÑÑ 
=>
ÑÑ 
s
ÑÑ 
.
ÑÑ  
Status
ÑÑ  &
)
ÑÑ& '
.
ÖÖ !
FirstOrDefaultAsync
ÖÖ $
(
ÖÖ$ %
m
ÖÖ% &
=>
ÖÖ' )
m
ÖÖ* +
.
ÖÖ+ ,
SubjectCode
ÖÖ, 7
==
ÖÖ8 :
id
ÖÖ; =
)
ÖÖ= >
;
ÖÖ> ?
if
ÜÜ 
(
ÜÜ 
subject
ÜÜ 
==
ÜÜ 
null
ÜÜ 
)
ÜÜ  
{
áá 
return
àà 
NotFound
àà 
(
àà  
)
àà  !
;
àà! "
}
ââ 
return
ãã 
View
ãã 
(
ãã 
subject
ãã 
)
ãã  
;
ãã  !
}
åå 	
[
èè 	
HttpPost
èè	 
,
èè 

ActionName
èè 
(
èè 
$str
èè &
)
èè& '
]
èè' (
[
êê 	&
ValidateAntiForgeryToken
êê	 !
]
êê! "
public
ëë 
async
ëë 
Task
ëë 
<
ëë 
IActionResult
ëë '
>
ëë' (
DeleteConfirmed
ëë) 8
(
ëë8 9
String
ëë9 ?
?
ëë? @
id
ëëA C
)
ëëC D
{
íí 	
if
ìì 
(
ìì 
_context
ìì 
.
ìì 
Subject
ìì 
==
ìì  "
null
ìì# '
)
ìì' (
{
îî 
return
ïï 
Problem
ïï 
(
ïï 
$str
ïï K
)
ïïK L
;
ïïL M
}
ññ 
var
óó 
subject
óó 
=
óó 
await
óó 
_context
óó  (
.
óó( )
Subject
óó) 0
.
óó0 1
	FindAsync
óó1 :
(
óó: ;
id
óó; =
)
óó= >
;
óó> ?
var
òò 
sys
òò 
=
òò 
_context
òò 
.
òò 
Syllabus
òò '
.
òò' (
Where
òò( -
(
òò- .
s
òò. /
=>
òò0 2
s
òò3 4
.
òò4 5
SubjectCode
òò5 @
==
òòA C
id
òòD F
)
òòF G
.
òòG H
ToList
òòH N
(
òòN O
)
òòO P
;
òòP Q
var
ôô 
ses
ôô 
=
ôô 
_context
ôô 
.
ôô 
Session
ôô &
.
ôô& '
Where
ôô' ,
(
ôô, -
s
ôô- .
=>
ôô/ 1
s
ôô1 2
.
ôô2 3
SubjectCode
ôô3 >
==
ôô? A
id
ôôB D
)
ôôD E
.
ôôE F
ToList
ôôF L
(
ôôL M
)
ôôM N
;
ôôN O
var
öö 
ma
öö 
=
öö 
_context
öö 
.
öö 
Material
öö &
.
öö& '
Where
öö' ,
(
öö, -
s
öö- .
=>
öö/ 1
s
öö2 3
.
öö3 4
SubjectCode
öö4 ?
!=
öö@ B
id
ööC E
)
ööE F
.
ööF G
ToList
ööG M
(
ööM N
)
ööN O
;
ööO P
var
õõ 
mot
õõ 
=
õõ 
_context
õõ 
.
õõ 
MaterialOfTeacher
õõ 0
.
õõ0 1
Where
õõ1 6
(
õõ6 7
s
õõ7 8
=>
õõ9 ;
s
õõ< =
.
õõ= >
SubjectCode
õõ> I
==
õõJ L
id
õõM O
)
õõO P
.
õõP Q
ToList
õõQ W
(
õõW X
)
õõX Y
;
õõY Z
foreach
úú 
(
úú 
var
úú 
syllabus
úú !
in
úú" $
sys
úú% (
)
úú( )
{
ùù 
var
ûû 

assessment
ûû 
=
ûû  
await
ûû! &
_context
ûû' /
.
ûû/ 0

Assessment
ûû0 :
.
ûû: ;
Where
ûû; @
(
ûû@ A
a
ûûA B
=>
ûûC E
a
ûûF G
.
ûûG H

SyllabusId
ûûH R
==
ûûS U
syllabus
ûûV ^
.
ûû^ _

SyllabusId
ûû_ i
)
ûûi j
.
ûûj k
ToListAsync
ûûk v
(
ûûv w
)
ûûw x
;
ûûx y
_context
üü 
.
üü 

Assessment
üü #
.
üü# $
RemoveRange
üü$ /
(
üü/ 0

assessment
üü0 :
)
üü: ;
;
üü; <
}
†† 
_context
°° 
.
°° 
Syllabus
°° 
.
°° 
RemoveRange
°° )
(
°°) *
sys
°°* -
)
°°- .
;
°°. /
_context
¢¢ 
.
¢¢ 
Session
¢¢ 
.
¢¢ 
RemoveRange
¢¢ (
(
¢¢( )
ses
¢¢) ,
)
¢¢, -
;
¢¢- .
_context
££ 
.
££ 
Material
££ 
.
££ 
RemoveRange
££ )
(
££) *
ma
££* ,
)
££, -
;
££- .
_context
§§ 
.
§§ 
Subject
§§ 
.
§§ 
RemoveRange
§§ (
(
§§( )
subject
§§) 0
)
§§0 1
;
§§1 2
_context
•• 
.
•• 
MaterialOfTeacher
•• &
.
••& '
RemoveRange
••' 2
(
••2 3
mot
••3 6
)
••6 7
;
••7 8
await
¶¶ 
_context
¶¶ 
.
¶¶ 
SaveChangesAsync
¶¶ +
(
¶¶+ ,
)
¶¶, -
;
¶¶- .
return
ßß 
RedirectToAction
ßß #
(
ßß# $
nameof
ßß$ *
(
ßß* +
Index
ßß+ 0
)
ßß0 1
)
ßß1 2
;
ßß2 3
}
®® 	
private
¨¨ 
bool
¨¨ 
SubjectExists
¨¨ "
(
¨¨" #
string
¨¨# )
id
¨¨* ,
)
¨¨, -
{
≠≠ 	
bool
ÆÆ 
isExist
ÆÆ 
=
ÆÆ 
(
ÆÆ 
_context
ÆÆ $
.
ÆÆ$ %
Subject
ÆÆ% ,
?
ÆÆ, -
.
ÆÆ- .
Any
ÆÆ. 1
(
ÆÆ1 2
e
ÆÆ2 3
=>
ÆÆ4 6
e
ÆÆ7 8
.
ÆÆ8 9
SubjectCode
ÆÆ9 D
==
ÆÆE G
id
ÆÆH J
)
ÆÆJ K
)
ÆÆK L
.
ÆÆL M
GetValueOrDefault
ÆÆM ^
(
ÆÆ^ _
)
ÆÆ_ `
;
ÆÆ` a
return
ØØ 
isExist
ØØ 
;
ØØ 
}
∞∞ 	
}
≥≥ 
}¥¥ ˘î
ãC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Controllers\ADMINSyllabusController.cs
	namespace 	

LMMProject
 
. 
Controllers  
{ 
public 

class #
ADMINSyllabusController (
:) *

Controller+ 5
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public #
ADMINSyllabusController &
(& '
AppDbContext' 3
context4 ;
); <
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
)/ 0
{ 	
var 
appDbContext 
= 
_context '
.' (
Syllabus( 0
.0 1
Include1 8
(8 9
s9 :
=>; =
s> ?
.? @
Decision@ H
)H I
;I J
return 
View 
( 
await 
appDbContext *
.* +
ToListAsync+ 6
(6 7
)7 8
)8 9
;9 :
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Details) 0
(0 1
int1 4
?4 5
id6 8
)8 9
{ 	
if   
(   
id   
==   
null   
)   
{!! 
return"" 
NotFound"" 
(""  
)""  !
;""! "
}## 
var%% 
syllabus%% 
=%% 
await%%  
_context%%! )
.%%) *
Syllabus%%* 2
.&& 
Include&& 
(&& 
s&& 
=>&& 
s&& 
.&&  
Decision&&  (
)&&( )
.'' 
Include'' 
('' 
s'' 
=>'' 
s'' 
.''  
Assessments''  +
)''+ ,
.(( 
FirstOrDefaultAsync(( $
((($ %
m((% &
=>((' )
m((* +
.((+ ,

SyllabusId((, 6
==((7 9
id((: <
)((< =
;((= >
if)) 
()) 
syllabus)) 
==)) 
null))  
)))  !
{** 
return++ 
NotFound++ 
(++  
)++  !
;++! "
},, 
return.. 
View.. 
(.. 
syllabus..  
)..  !
;..! "
}// 	
public22 
IActionResult22 
Create22 #
(22# $
)22$ %
{33 	
ViewBag44 
.44 
Sub44 
=44 
_context44 "
.44" #
Subject44# *
.44* +
ToList44+ 1
(441 2
)442 3
;443 4
ViewData55 
[55 
$str55 !
]55! "
=55# $
new55% (

SelectList55) 3
(553 4
_context554 <
.55< =
Decision55= E
,55E F
$str55G S
,55S T
$str55U a
)55a b
;55b c
return66 
View66 
(66 
)66 
;66 
}77 	
[<< 	
HttpPost<<	 
]<< 
[== 	$
ValidateAntiForgeryToken==	 !
]==! "
public>> 
async>> 
Task>> 
<>> 
IActionResult>> '
>>>' (
Create>>) /
(>>/ 0
[>>0 1
Bind>>1 5
(>>5 6
$str	>>6 ¸
)
>>¸ ˝
]
>>˝ ˛
Syllabus
>>ˇ á
syllabus
>>à ê
)
>>ê ë
{?? 	
tryBB 
{CC 
ifDD 
(DD 
SyllabusExistsDD "
(DD" #
syllabusDD# +
.DD+ ,

SyllabusIdDD, 6
)DD6 7
)DD7 8
{EE 
returnFF 
ViewFF 
(FF  
syllabusFF  (
)FF( )
;FF) *
}GG 
SyllabusII 
sylII 
=II 
newII "
SyllabusII# +
(II+ ,
)II, -
;II- .
sylJJ 
.JJ 
SyllabusNameVnJJ "
=JJ# $
syllabusJJ% -
.JJ- .
SyllabusNameVnJJ. <
;JJ< =
sylKK 
.KK 
SyllabusNameEnKK "
=KK# $
syllabusKK% -
.KK- .
SyllabusNameEnKK. <
;KK< =
sylLL 
.LL 
SubjectCodeLL 
=LL  !
syllabusLL" *
.LL* +
SubjectCodeLL+ 6
;LL6 7
sylMM 
.MM 
NoCreditMM 
=MM 
syllabusMM '
.MM' (
NoCreditMM( 0
;MM0 1
sylOO 
.OO 
DegreeLevelOO 
=OO  !
syllabusOO" *
.OO* +
DegreeLevelOO+ 6
;OO6 7
sylPP 
.PP 
TimeAllocationPP "
=PP# $
syllabusPP% -
.PP- .
TimeAllocationPP. <
;PP< =
sylQQ 
.QQ 
PreRequisiteQQ  
=QQ! "
syllabusQQ# +
.QQ+ ,
PreRequisiteQQ, 8
;QQ8 9
sylRR 
.RR 
DescriptionRR 
=RR  !
syllabusRR" *
.RR* +
DescriptionRR+ 6
;RR6 7
sylSS 
.SS 
StudentTaskSS 
=SS  !
syllabusSS" *
.SS* +
StudentTaskSS+ 6
;SS6 7
sylTT 
.TT 
ToolTT 
=TT 
syllabusTT #
.TT# $
ToolTT$ (
;TT( )
sylUU 
.UU 
ScoringScaleUU  
=UU! "
syllabusUU# +
.UU+ ,
ScoringScaleUU, 8
;UU8 9
sylVV 
.VV 

DecisionNoVV 
=VV  
syllabusVV! )
.VV) *

DecisionNoVV* 4
;VV4 5
sylWW 
.WW 

IsApprovedWW 
=WW  
syllabusWW! )
.WW) *

IsApprovedWW* 4
;WW4 5
sylXX 
.XX 
NoteXX 
=XX 
syllabusXX #
.XX# $
NoteXX$ (
;XX( )
sylYY 
.YY 
MinAvgMarkToPassYY $
=YY% &
syllabusYY' /
.YY/ 0
MinAvgMarkToPassYY0 @
;YY@ A
sylZZ 
.ZZ 
IsActiveZZ 
=ZZ 
syllabusZZ '
.ZZ' (
IsActiveZZ( 0
;ZZ0 1
_context[[ 
.[[ 
Syllabus[[ !
.[[! "
AddAsync[[" *
([[* +
syl[[+ .
)[[. /
;[[/ 0
await\\ 
_context\\ 
.\\ 
SaveChangesAsync\\ /
(\\/ 0
)\\0 1
;\\1 2
}]] 
catch^^ 
(^^ 
	Exception^^ 
ex^^ 
)^^  
{__ 
throwaa 
exaa 
;aa 
}cc 
ViewDataff 
[ff 
$strff !
]ff! "
=ff# $
newff% (

SelectListff) 3
(ff3 4
_contextff4 <
.ff< =
Decisionff= E
,ffE F
$strffG S
,ffS T
$strffU a
,ffa b
syllabusffc k
.ffk l

DecisionNoffl v
)ffv w
;ffw x
returngg 
RedirectToActiongg #
(gg# $
nameofgg$ *
(gg* +
Indexgg+ 0
)gg0 1
)gg1 2
;gg2 3
}jj 	
publicmm 
asyncmm 
Taskmm 
<mm 
IActionResultmm '
>mm' (
Editmm) -
(mm- .
intmm. 1
?mm1 2
idmm3 5
)mm5 6
{nn 	
ifoo 
(oo 
idoo 
==oo 
nulloo 
||oo 
_contextoo &
.oo& '
Syllabusoo' /
==oo0 2
nulloo3 7
)oo7 8
{pp 
returnqq 
NotFoundqq 
(qq  
)qq  !
;qq! "
}rr 
vartt 
syllabustt 
=tt 
awaittt  
_contexttt! )
.tt) *
Syllabustt* 2
.tt2 3
	FindAsynctt3 <
(tt< =
idtt= ?
)tt? @
;tt@ A
ifuu 
(uu 
syllabusuu 
==uu 
nulluu  
)uu  !
{vv 
returnww 
NotFoundww 
(ww  
)ww  !
;ww! "
}xx 
ViewBagyy 
.yy 
Subyy 
=yy 
_contextyy "
.yy" #
Subjectyy# *
.yy* +
ToListyy+ 1
(yy1 2
)yy2 3
;yy3 4
ViewDatazz 
[zz 
$strzz !
]zz! "
=zz# $
newzz% (

SelectListzz) 3
(zz3 4
_contextzz4 <
.zz< =
Decisionzz= E
,zzE F
$strzzG S
,zzS T
$strzzU a
,zza b
syllabuszzc k
.zzk l

DecisionNozzl v
)zzv w
;zzw x
return{{ 
View{{ 
({{ 
syllabus{{  
){{  !
;{{! "
}|| 	
[
ÅÅ 	
HttpPost
ÅÅ	 
]
ÅÅ 
[
ÇÇ 	&
ValidateAntiForgeryToken
ÇÇ	 !
]
ÇÇ! "
public
ÉÉ 
async
ÉÉ 
Task
ÉÉ 
<
ÉÉ 
IActionResult
ÉÉ '
>
ÉÉ' (
Edit
ÉÉ) -
(
ÉÉ- .
int
ÉÉ. 1
id
ÉÉ2 4
,
ÉÉ4 5
[
ÉÉ6 7
Bind
ÉÉ7 ;
(
ÉÉ; <
$strÉÉ< Ç
)ÉÉÇ É
]ÉÉÉ Ñ
SyllabusÉÉÖ ç
syllabusÉÉé ñ
)ÉÉñ ó
{
ÑÑ 	
if
ÖÖ 
(
ÖÖ 
id
ÖÖ 
!=
ÖÖ 
syllabus
ÖÖ 
.
ÖÖ 

SyllabusId
ÖÖ )
)
ÖÖ) *
{
ÜÜ 
return
áá 
NotFound
áá 
(
áá  
)
áá  !
;
áá! "
}
àà 
try
ãã 
{
åå 
var
çç 
syl
çç 
=
çç 
await
çç 
_context
çç  (
.
çç( )
Syllabus
çç) 1
.
çç1 2"
SingleOrDefaultAsync
çç2 F
(
ççF G
s
ççG H
=>
ççI K
s
ççL M
.
ççM N

SyllabusId
ççN X
==
ççY [
id
çç\ ^
)
çç^ _
;
çç_ `
syl
éé 
.
éé 
SyllabusNameVn
éé "
=
éé# $
syllabus
éé% -
.
éé- .
SyllabusNameVn
éé. <
;
éé< =
syl
èè 
.
èè 
SyllabusNameEn
èè "
=
èè# $
syllabus
èè% -
.
èè- .
SyllabusNameEn
èè. <
;
èè< =
syl
êê 
.
êê 
SubjectCode
êê 
=
êê  !
syllabus
êê" *
.
êê* +
SubjectCode
êê+ 6
;
êê6 7
syl
ëë 
.
ëë 
NoCredit
ëë 
=
ëë 
syllabus
ëë '
.
ëë' (
NoCredit
ëë( 0
;
ëë0 1
syl
ìì 
.
ìì 
DegreeLevel
ìì 
=
ìì  !
syllabus
ìì" *
.
ìì* +
DegreeLevel
ìì+ 6
;
ìì6 7
syl
îî 
.
îî 
TimeAllocation
îî "
=
îî# $
syllabus
îî% -
.
îî- .
TimeAllocation
îî. <
;
îî< =
syl
ïï 
.
ïï 
PreRequisite
ïï  
=
ïï! "
syllabus
ïï# +
.
ïï+ ,
PreRequisite
ïï, 8
;
ïï8 9
syl
ññ 
.
ññ 
Description
ññ 
=
ññ  !
syllabus
ññ" *
.
ññ* +
Description
ññ+ 6
;
ññ6 7
syl
óó 
.
óó 
StudentTask
óó 
=
óó  !
syllabus
óó" *
.
óó* +
StudentTask
óó+ 6
;
óó6 7
syl
òò 
.
òò 
Tool
òò 
=
òò 
syllabus
òò #
.
òò# $
Tool
òò$ (
;
òò( )
syl
ôô 
.
ôô 
ScoringScale
ôô  
=
ôô! "
syllabus
ôô# +
.
ôô+ ,
ScoringScale
ôô, 8
;
ôô8 9
syl
öö 
.
öö 

DecisionNo
öö 
=
öö  
syllabus
öö! )
.
öö) *

DecisionNo
öö* 4
;
öö4 5
syl
õõ 
.
õõ 

IsApproved
õõ 
=
õõ  
syllabus
õõ! )
.
õõ) *

IsApproved
õõ* 4
;
õõ4 5
syl
úú 
.
úú 
Note
úú 
=
úú 
syllabus
úú #
.
úú# $
Note
úú$ (
;
úú( )
syl
ùù 
.
ùù 
MinAvgMarkToPass
ùù $
=
ùù% &
syllabus
ùù' /
.
ùù/ 0
MinAvgMarkToPass
ùù0 @
;
ùù@ A
syl
ûû 
.
ûû 
IsActive
ûû 
=
ûû 
syllabus
ûû '
.
ûû' (
IsActive
ûû( 0
;
ûû0 1
await
üü 
_context
üü 
.
üü 
SaveChangesAsync
üü /
(
üü/ 0
)
üü0 1
;
üü1 2
}
†† 
catch
°° 
(
°° 
	Exception
°° 
ex
°° 
)
°°  
{
¢¢ 
if
££ 
(
££ 
!
££ 
SyllabusExists
££ #
(
££# $
syllabus
££$ ,
.
££, -

SyllabusId
££- 7
)
££7 8
)
££8 9
{
§§ 
return
•• 
NotFound
•• #
(
••# $
)
••$ %
;
••% &
}
¶¶ 
else
ßß 
{
®® 
throw
©© 
ex
©© 
;
©© 
}
™™ 
}
´´ 
ViewData
ÆÆ 
[
ÆÆ 
$str
ÆÆ !
]
ÆÆ! "
=
ÆÆ# $
new
ÆÆ% (

SelectList
ÆÆ) 3
(
ÆÆ3 4
_context
ÆÆ4 <
.
ÆÆ< =
Decision
ÆÆ= E
,
ÆÆE F
$str
ÆÆG S
,
ÆÆS T
$str
ÆÆU a
,
ÆÆa b
syllabus
ÆÆc k
.
ÆÆk l

DecisionNo
ÆÆl v
)
ÆÆv w
;
ÆÆw x
return
ØØ 
RedirectToAction
ØØ #
(
ØØ# $
nameof
ØØ$ *
(
ØØ* +
Index
ØØ+ 0
)
ØØ0 1
)
ØØ1 2
;
ØØ2 3
}
∞∞ 	
public
≥≥ 
async
≥≥ 
Task
≥≥ 
<
≥≥ 
IActionResult
≥≥ '
>
≥≥' (
Delete
≥≥) /
(
≥≥/ 0
int
≥≥0 3
?
≥≥3 4
id
≥≥5 7
)
≥≥7 8
{
¥¥ 	
if
µµ 
(
µµ 
id
µµ 
==
µµ 
null
µµ 
||
µµ 
_context
µµ &
.
µµ& '
Syllabus
µµ' /
==
µµ0 2
null
µµ3 7
)
µµ7 8
{
∂∂ 
return
∑∑ 
NotFound
∑∑ 
(
∑∑  
)
∑∑  !
;
∑∑! "
}
∏∏ 
var
∫∫ 
syllabus
∫∫ 
=
∫∫ 
await
∫∫  
_context
∫∫! )
.
∫∫) *
Syllabus
∫∫* 2
.
ªª 
Include
ªª 
(
ªª 
s
ªª 
=>
ªª 
s
ªª 
.
ªª  
Decision
ªª  (
)
ªª( )
.
ºº !
FirstOrDefaultAsync
ºº $
(
ºº$ %
m
ºº% &
=>
ºº' )
m
ºº* +
.
ºº+ ,

SyllabusId
ºº, 6
==
ºº7 9
id
ºº: <
)
ºº< =
;
ºº= >
if
ΩΩ 
(
ΩΩ 
syllabus
ΩΩ 
==
ΩΩ 
null
ΩΩ  
)
ΩΩ  !
{
ææ 
return
øø 
NotFound
øø 
(
øø  
)
øø  !
;
øø! "
}
¿¿ 
return
¬¬ 
View
¬¬ 
(
¬¬ 
syllabus
¬¬  
)
¬¬  !
;
¬¬! "
}
√√ 	
[
∆∆ 	
HttpPost
∆∆	 
,
∆∆ 

ActionName
∆∆ 
(
∆∆ 
$str
∆∆ &
)
∆∆& '
]
∆∆' (
[
«« 	&
ValidateAntiForgeryToken
««	 !
]
««! "
public
»» 
async
»» 
Task
»» 
<
»» 
IActionResult
»» '
>
»»' (
DeleteConfirmed
»») 8
(
»»8 9
int
»»9 <
id
»»= ?
)
»»? @
{
…… 	
var
   
syllabus
   
=
   
await
    
_context
  ! )
.
  ) *
Syllabus
  * 2
.
  2 3
Include
  3 :
(
  : ;
s
  ; <
=>
  = ?
s
  @ A
.
  A B
Assessments
  B M
)
  M N
.
  N O!
FirstOrDefaultAsync
  O b
(
  b c
s
  c d
=>
  e g
s
  h i
.
  i j

SyllabusId
  j t
==
  u w
id
  x z
)
  z {
;
  { |
if
ÀÀ 
(
ÀÀ 
syllabus
ÀÀ 
==
ÀÀ 
null
ÀÀ  
)
ÀÀ  !
{
ÃÃ 
return
ŒŒ 
NotFound
ŒŒ 
(
ŒŒ  
)
ŒŒ  !
;
ŒŒ! "
}
œœ 
_context
““ 
.
““ 

Assessment
““ 
.
““  
RemoveRange
““  +
(
““+ ,
syllabus
““, 4
.
““4 5
Assessments
““5 @
)
““@ A
;
““A B
_context
’’ 
.
’’ 
Syllabus
’’ 
.
’’ 
Remove
’’ $
(
’’$ %
syllabus
’’% -
)
’’- .
;
’’. /
await
÷÷ 
_context
÷÷ 
.
÷÷ 
SaveChangesAsync
÷÷ +
(
÷÷+ ,
)
÷÷, -
;
÷÷- .
return
ÿÿ 
RedirectToAction
ÿÿ #
(
ÿÿ# $
nameof
ÿÿ$ *
(
ÿÿ* +
Index
ÿÿ+ 0
)
ÿÿ0 1
)
ÿÿ1 2
;
ÿÿ2 3
}
ŸŸ 	
private
‹‹ 
bool
‹‹ 
SyllabusExists
‹‹ #
(
‹‹# $
int
‹‹$ '
id
‹‹( *
)
‹‹* +
{
›› 	
bool
ﬁﬁ 
isExist
ﬁﬁ 
=
ﬁﬁ 
(
ﬁﬁ 
_context
ﬁﬁ $
.
ﬁﬁ$ %
Syllabus
ﬁﬁ% -
?
ﬁﬁ- .
.
ﬁﬁ. /
Any
ﬁﬁ/ 2
(
ﬁﬁ2 3
e
ﬁﬁ3 4
=>
ﬁﬁ5 7
e
ﬁﬁ8 9
.
ﬁﬁ9 :

SyllabusId
ﬁﬁ: D
==
ﬁﬁE G
id
ﬁﬁH J
)
ﬁﬁJ K
)
ﬁﬁK L
.
ﬁﬁL M
GetValueOrDefault
ﬁﬁM ^
(
ﬁﬁ^ _
)
ﬁﬁ_ `
;
ﬁﬁ` a
return
ﬂﬂ 
isExist
ﬂﬂ 
;
ﬂﬂ 
}
‡‡ 	
}
‚‚ 
}„„ ˛R
áC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Controllers\FeedbacksController.cs
	namespace 	

LMMProject
 
. 
Controllers  
{ 
public 

class 
FeedbacksController $
:% &

Controller' 1
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
FeedbacksController "
(" #
AppDbContext# /
context0 7
)7 8
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
)/ 0
{ 	
return 
_context 
. 
feedback &
!=' )
null* .
?/ 0
View 
( 
await $
_context% -
.- .
feedback. 6
.6 7
ToListAsync7 B
(B C
)C D
)D E
:F G
Problem !
(! "
$str" P
)P Q
;Q R
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Details) 0
(0 1
int1 4
?4 5
id6 8
)8 9
{   	
if!! 
(!! 
id!! 
==!! 
null!! 
||!! 
_context!! &
.!!& '
feedback!!' /
==!!0 2
null!!3 7
)!!7 8
{"" 
return## 
NotFound## 
(##  
)##  !
;##! "
}$$ 
var&& 
feedback&& 
=&& 
await&&  
_context&&! )
.&&) *
feedback&&* 2
.'' 
FirstOrDefaultAsync'' $
(''$ %
m''% &
=>''' )
m''* +
.''+ ,

FeedbackId'', 6
==''7 9
id'': <
)''< =
;''= >
if(( 
((( 
feedback(( 
==(( 
null((  
)((  !
{)) 
return** 
NotFound** 
(**  
)**  !
;**! "
}++ 
return-- 
View-- 
(-- 
feedback--  
)--  !
;--! "
}.. 	
public11 
IActionResult11 
Create11 #
(11# $
)11$ %
{22 	
return33 
View33 
(33 
)33 
;33 
}44 	
[99 	
HttpPost99	 
]99 
[:: 	$
ValidateAntiForgeryToken::	 !
]::! "
public;; 
async;; 
Task;; 
<;; 
IActionResult;; '
>;;' (
Create;;) /
(;;/ 0
[;;0 1
Bind;;1 5
(;;5 6
$str;;6 s
);;s t
];;t u
Feedback;;v ~
feedback	;; á
)
;;á à
{<< 	
if== 
(== 

ModelState== 
.== 
IsValid== "
)==" #
{>> 
_context?? 
.?? 
Add?? 
(?? 
feedback?? %
)??% &
;??& '
await@@ 
_context@@ 
.@@ 
SaveChangesAsync@@ /
(@@/ 0
)@@0 1
;@@1 2
returnAA 
RedirectToActionAA '
(AA' (
nameofAA( .
(AA. /
IndexAA/ 4
)AA4 5
)AA5 6
;AA6 7
}BB 
returnCC 
ViewCC 
(CC 
feedbackCC  
)CC  !
;CC! "
}DD 	
publicGG 
asyncGG 
TaskGG 
<GG 
IActionResultGG '
>GG' (
EditGG) -
(GG- .
intGG. 1
?GG1 2
idGG3 5
)GG5 6
{HH 	
ifII 
(II 
idII 
==II 
nullII 
||II 
_contextII &
.II& '
feedbackII' /
==II0 2
nullII3 7
)II7 8
{JJ 
returnKK 
NotFoundKK 
(KK  
)KK  !
;KK! "
}LL 
varNN 
feedbackNN 
=NN 
awaitNN  
_contextNN! )
.NN) *
feedbackNN* 2
.NN2 3
	FindAsyncNN3 <
(NN< =
idNN= ?
)NN? @
;NN@ A
ifOO 
(OO 
feedbackOO 
==OO 
nullOO  
)OO  !
{PP 
returnQQ 
NotFoundQQ 
(QQ  
)QQ  !
;QQ! "
}RR 
returnSS 
ViewSS 
(SS 
feedbackSS  
)SS  !
;SS! "
}TT 	
[YY 	
HttpPostYY	 
]YY 
[ZZ 	$
ValidateAntiForgeryTokenZZ	 !
]ZZ! "
public[[ 
async[[ 
Task[[ 
<[[ 
IActionResult[[ '
>[[' (
Edit[[) -
([[- .
int[[. 1
id[[2 4
,[[4 5
[[[6 7
Bind[[7 ;
([[; <
$str[[< y
)[[y z
][[z {
Feedback	[[| Ñ
feedback
[[Ö ç
)
[[ç é
{\\ 	
if]] 
(]] 
id]] 
!=]] 
feedback]] 
.]] 

FeedbackId]] )
)]]) *
{^^ 
return__ 
NotFound__ 
(__  
)__  !
;__! "
}`` 
ifbb 
(bb 

ModelStatebb 
.bb 
IsValidbb "
)bb" #
{cc 
trydd 
{ee 
_contextff 
.ff 
Updateff #
(ff# $
feedbackff$ ,
)ff, -
;ff- .
awaitgg 
_contextgg "
.gg" #
SaveChangesAsyncgg# 3
(gg3 4
)gg4 5
;gg5 6
}hh 
catchii 
(ii (
DbUpdateConcurrencyExceptionii 3
)ii3 4
{jj 
ifkk 
(kk 
!kk 
FeedbackExistskk '
(kk' (
feedbackkk( 0
.kk0 1

FeedbackIdkk1 ;
)kk; <
)kk< =
{ll 
returnmm 
NotFoundmm '
(mm' (
)mm( )
;mm) *
}nn 
elseoo 
{pp 
throwqq 
;qq 
}rr 
}ss 
returntt 
RedirectToActiontt '
(tt' (
nameoftt( .
(tt. /
Indextt/ 4
)tt4 5
)tt5 6
;tt6 7
}uu 
returnvv 
Viewvv 
(vv 
feedbackvv  
)vv  !
;vv! "
}ww 	
publiczz 
asynczz 
Taskzz 
<zz 
IActionResultzz '
>zz' (
Deletezz) /
(zz/ 0
intzz0 3
?zz3 4
idzz5 7
)zz7 8
{{{ 	
if|| 
(|| 
id|| 
==|| 
null|| 
|||| 
_context|| &
.||& '
feedback||' /
==||0 2
null||3 7
)||7 8
{}} 
return~~ 
NotFound~~ 
(~~  
)~~  !
;~~! "
} 
var
ÅÅ 
feedback
ÅÅ 
=
ÅÅ 
await
ÅÅ  
_context
ÅÅ! )
.
ÅÅ) *
feedback
ÅÅ* 2
.
ÇÇ !
FirstOrDefaultAsync
ÇÇ $
(
ÇÇ$ %
m
ÇÇ% &
=>
ÇÇ' )
m
ÇÇ* +
.
ÇÇ+ ,

FeedbackId
ÇÇ, 6
==
ÇÇ7 9
id
ÇÇ: <
)
ÇÇ< =
;
ÇÇ= >
if
ÉÉ 
(
ÉÉ 
feedback
ÉÉ 
==
ÉÉ 
null
ÉÉ  
)
ÉÉ  !
{
ÑÑ 
return
ÖÖ 
NotFound
ÖÖ 
(
ÖÖ  
)
ÖÖ  !
;
ÖÖ! "
}
ÜÜ 
return
àà 
View
àà 
(
àà 
feedback
àà  
)
àà  !
;
àà! "
}
ââ 	
[
åå 	
HttpPost
åå	 
,
åå 

ActionName
åå 
(
åå 
$str
åå &
)
åå& '
]
åå' (
[
çç 	&
ValidateAntiForgeryToken
çç	 !
]
çç! "
public
éé 
async
éé 
Task
éé 
<
éé 
IActionResult
éé '
>
éé' (
DeleteConfirmed
éé) 8
(
éé8 9
int
éé9 <
id
éé= ?
)
éé? @
{
èè 	
if
êê 
(
êê 
_context
êê 
.
êê 
feedback
êê !
==
êê" $
null
êê% )
)
êê) *
{
ëë 
return
íí 
Problem
íí 
(
íí 
$str
íí M
)
ííM N
;
ííN O
}
ìì 
var
îî 
feedback
îî 
=
îî 
await
îî  
_context
îî! )
.
îî) *
feedback
îî* 2
.
îî2 3
	FindAsync
îî3 <
(
îî< =
id
îî= ?
)
îî? @
;
îî@ A
if
ïï 
(
ïï 
feedback
ïï 
!=
ïï 
null
ïï  
)
ïï  !
{
ññ 
_context
óó 
.
óó 
feedback
óó !
.
óó! "
Remove
óó" (
(
óó( )
feedback
óó) 1
)
óó1 2
;
óó2 3
}
òò 
await
öö 
_context
öö 
.
öö 
SaveChangesAsync
öö +
(
öö+ ,
)
öö, -
;
öö- .
return
õõ 
RedirectToAction
õõ #
(
õõ# $
nameof
õõ$ *
(
õõ* +
Index
õõ+ 0
)
õõ0 1
)
õõ1 2
;
õõ2 3
}
úú 	
private
ûû 
bool
ûû 
FeedbackExists
ûû #
(
ûû# $
int
ûû$ '
id
ûû( *
)
ûû* +
{
üü 	
return
††
 
(
†† 
_context
†† 
.
†† 
feedback
†† #
?
††# $
.
††$ %
Any
††% (
(
††( )
e
††) *
=>
††+ -
e
††. /
.
††/ 0

FeedbackId
††0 :
==
††; =
id
††> @
)
††@ A
)
††A B
.
††B C
GetValueOrDefault
††C T
(
††T U
)
††U V
;
††V W
}
°° 	
}
¢¢ 
}££ –
ÉC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Controllers\LoginController.cs
	namespace 	

LMMProject
 
. 
Controllers  
{		 
public

 

class

 
LoginController

  
:

! "

Controller

# -
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
LoginController 
( 
AppDbContext +
context, 3
)3 4
{ 	
_context 
= 
context 
; 
} 	
public 
IActionResult 
Index "
(" #
)# $
{ 	
var 
account 
= 
new 
Account %
(% &
)& '
;' (
return 
View 
( 
account 
)  
;  !
} 	
[ 	
HttpPost	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
Account/ 6
account7 >
)> ?
{ 	
if 
( 
! 

ModelState 
. 
IsValid #
)# $
{ 
return 
View 
( 
account #
)# $
;$ %
} 
Account 
user 
= 
await  
_context! )
.) *
Account* 1
.1 2
Include2 9
(9 :
p: ;
=>< >
p? @
.@ A
RoleA E
)E F
.F G
FirstOrDefaultAsyncG Z
(Z [
pro[ ^
=>_ a
prob e
.e f
UserNamef n
.n o
Equalso u
(u v
accountv }
.} ~
UserName	~ Ü
)
Ü á
)
á à
;
à â
if 
( 
user 
!= 
null 
) 
{   
if!! 
(!! 
user!! 
.!! 
Password!! !
.!!! "
Equals!!" (
(!!( )
account!!) 0
.!!0 1
Password!!1 9
)!!9 :
)!!: ;
{"" 
HttpContext## 
.##  
Session##  '
.##' (
	SetString##( 1
(##1 2
$str##2 <
,##< =
user##> B
.##B C
UserName##C K
)##K L
;##L M
HttpContext$$ 
.$$  
Session$$  '
.$$' (
SetInt32$$( 0
($$0 1
$str$$1 7
,$$7 8
($$9 :
int$$: =
)$$= >
user$$> B
.$$B C
RoleId$$C I
)$$I J
;$$J K
if&& 
(&& 
user&& 
.&& 
RoleId&& #
==&&$ &
$num&&' (
)&&( )
{'' 
return(( 
RedirectToAction(( /
(((/ 0
$str((0 ;
,((; <
$str((= D
)((D E
;((E F
})) 
else** 
{++ 
return,, 
RedirectToAction,, /
(,,/ 0
$str,,0 7
,,,7 8
$str,,9 C
),,C D
;,,D E
}-- 
}// 
TempData00 
[00 
$str00  
]00  !
=00" #
$str00$ >
;00> ?
return11 
View11 
(11 
account11 #
)11# $
;11$ %
}22 
TempData33 
[33 
$str33 
]33 
=33 
$str33  :
;33: ;
return44 
View44 
(44 
account44 
)44  
;44  !
}66 	
}77 
}88 ‡R
ÜC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Controllers\SessionsController.cs
	namespace 	

LMMProject
 
. 
Controllers  
{ 
public 

class 
SessionsController #
:$ %

Controller& 0
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
SessionsController !
(! "
AppDbContext" .
context/ 6
)6 7
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
)/ 0
{ 	
return 
_context 
. 
Session %
!=& (
null) -
?. /
View 
( 
await $
_context% -
.- .
Session. 5
.5 6
ToListAsync6 A
(A B
)B C
)C D
:E F
Problem !
(! "
$str" O
)O P
;P Q
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Details) 0
(0 1
int1 4
?4 5
id6 8
)8 9
{   	
if!! 
(!! 
id!! 
==!! 
null!! 
||!! 
_context!! &
.!!& '
Session!!' .
==!!/ 1
null!!2 6
)!!6 7
{"" 
return## 
NotFound## 
(##  
)##  !
;##! "
}$$ 
var&& 
session&& 
=&& 
await&& 
_context&&  (
.&&( )
Session&&) 0
.'' 
FirstOrDefaultAsync'' $
(''$ %
m''% &
=>''' )
m''* +
.''+ ,
	SessionId'', 5
==''6 8
id''9 ;
)''; <
;''< =
if(( 
((( 
session(( 
==(( 
null(( 
)((  
{)) 
return** 
NotFound** 
(**  
)**  !
;**! "
}++ 
return-- 
View-- 
(-- 
session-- 
)--  
;--  !
}.. 	
public11 
IActionResult11 
Create11 #
(11# $
)11$ %
{22 	
return33 
View33 
(33 
)33 
;33 
}44 	
[99 	
HttpPost99	 
]99 
[:: 	$
ValidateAntiForgeryToken::	 !
]::! "
public;; 
async;; 
Task;; 
<;; 
IActionResult;; '
>;;' (
Create;;) /
(;;/ 0
[;;0 1
Bind;;1 5
(;;5 6
$str	;;6 é
)
;;é è
]
;;è ê
Session
;;ë ò
session
;;ô †
)
;;† °
{<< 	
if== 
(== 

ModelState== 
.== 
IsValid== "
)==" #
{>> 
_context?? 
.?? 
Add?? 
(?? 
session?? $
)??$ %
;??% &
await@@ 
_context@@ 
.@@ 
SaveChangesAsync@@ /
(@@/ 0
)@@0 1
;@@1 2
returnAA 
RedirectToActionAA '
(AA' (
nameofAA( .
(AA. /
IndexAA/ 4
)AA4 5
)AA5 6
;AA6 7
}BB 
returnCC 
ViewCC 
(CC 
sessionCC 
)CC  
;CC  !
}DD 	
publicGG 
asyncGG 
TaskGG 
<GG 
IActionResultGG '
>GG' (
EditGG) -
(GG- .
intGG. 1
?GG1 2
idGG3 5
)GG5 6
{HH 	
ifII 
(II 
idII 
==II 
nullII 
||II 
_contextII &
.II& '
SessionII' .
==II/ 1
nullII2 6
)II6 7
{JJ 
returnKK 
NotFoundKK 
(KK  
)KK  !
;KK! "
}LL 
varNN 
sessionNN 
=NN 
awaitNN 
_contextNN  (
.NN( )
SessionNN) 0
.NN0 1
	FindAsyncNN1 :
(NN: ;
idNN; =
)NN= >
;NN> ?
ifOO 
(OO 
sessionOO 
==OO 
nullOO 
)OO  
{PP 
returnQQ 
NotFoundQQ 
(QQ  
)QQ  !
;QQ! "
}RR 
returnSS 
ViewSS 
(SS 
sessionSS 
)SS  
;SS  !
}TT 	
[YY 	
HttpPostYY	 
]YY 
[ZZ 	$
ValidateAntiForgeryTokenZZ	 !
]ZZ! "
public[[ 
async[[ 
Task[[ 
<[[ 
IActionResult[[ '
>[[' (
Edit[[) -
([[- .
int[[. 1
id[[2 4
,[[4 5
[[[6 7
Bind[[7 ;
([[; <
$str	[[< î
)
[[î ï
]
[[ï ñ
Session
[[ó û
session
[[ü ¶
)
[[¶ ß
{\\ 	
if]] 
(]] 
id]] 
!=]] 
session]] 
.]] 
	SessionId]] '
)]]' (
{^^ 
return__ 
NotFound__ 
(__  
)__  !
;__! "
}`` 
ifbb 
(bb 

ModelStatebb 
.bb 
IsValidbb "
)bb" #
{cc 
trydd 
{ee 
_contextff 
.ff 
Updateff #
(ff# $
sessionff$ +
)ff+ ,
;ff, -
awaitgg 
_contextgg "
.gg" #
SaveChangesAsyncgg# 3
(gg3 4
)gg4 5
;gg5 6
}hh 
catchii 
(ii (
DbUpdateConcurrencyExceptionii 3
)ii3 4
{jj 
ifkk 
(kk 
!kk 
SessionExistskk &
(kk& '
sessionkk' .
.kk. /
	SessionIdkk/ 8
)kk8 9
)kk9 :
{ll 
returnmm 
NotFoundmm '
(mm' (
)mm( )
;mm) *
}nn 
elseoo 
{pp 
throwqq 
;qq 
}rr 
}ss 
returntt 
RedirectToActiontt '
(tt' (
nameoftt( .
(tt. /
Indextt/ 4
)tt4 5
)tt5 6
;tt6 7
}uu 
returnvv 
Viewvv 
(vv 
sessionvv 
)vv  
;vv  !
}ww 	
publiczz 
asynczz 
Taskzz 
<zz 
IActionResultzz '
>zz' (
Deletezz) /
(zz/ 0
intzz0 3
?zz3 4
idzz5 7
)zz7 8
{{{ 	
if|| 
(|| 
id|| 
==|| 
null|| 
|||| 
_context|| &
.||& '
Session||' .
==||/ 1
null||2 6
)||6 7
{}} 
return~~ 
NotFound~~ 
(~~  
)~~  !
;~~! "
} 
var
ÅÅ 
session
ÅÅ 
=
ÅÅ 
await
ÅÅ 
_context
ÅÅ  (
.
ÅÅ( )
Session
ÅÅ) 0
.
ÇÇ !
FirstOrDefaultAsync
ÇÇ $
(
ÇÇ$ %
m
ÇÇ% &
=>
ÇÇ' )
m
ÇÇ* +
.
ÇÇ+ ,
	SessionId
ÇÇ, 5
==
ÇÇ6 8
id
ÇÇ9 ;
)
ÇÇ; <
;
ÇÇ< =
if
ÉÉ 
(
ÉÉ 
session
ÉÉ 
==
ÉÉ 
null
ÉÉ 
)
ÉÉ  
{
ÑÑ 
return
ÖÖ 
NotFound
ÖÖ 
(
ÖÖ  
)
ÖÖ  !
;
ÖÖ! "
}
ÜÜ 
return
àà 
View
àà 
(
àà 
session
àà 
)
àà  
;
àà  !
}
ââ 	
[
åå 	
HttpPost
åå	 
,
åå 

ActionName
åå 
(
åå 
$str
åå &
)
åå& '
]
åå' (
[
çç 	&
ValidateAntiForgeryToken
çç	 !
]
çç! "
public
éé 
async
éé 
Task
éé 
<
éé 
IActionResult
éé '
>
éé' (
DeleteConfirmed
éé) 8
(
éé8 9
int
éé9 <
id
éé= ?
)
éé? @
{
èè 	
if
êê 
(
êê 
_context
êê 
.
êê 
Session
êê  
==
êê! #
null
êê$ (
)
êê( )
{
ëë 
return
íí 
Problem
íí 
(
íí 
$str
íí L
)
ííL M
;
ííM N
}
ìì 
var
îî 
session
îî 
=
îî 
await
îî 
_context
îî  (
.
îî( )
Session
îî) 0
.
îî0 1
	FindAsync
îî1 :
(
îî: ;
id
îî; =
)
îî= >
;
îî> ?
if
ïï 
(
ïï 
session
ïï 
!=
ïï 
null
ïï 
)
ïï  
{
ññ 
_context
óó 
.
óó 
Session
óó  
.
óó  !
Remove
óó! '
(
óó' (
session
óó( /
)
óó/ 0
;
óó0 1
}
òò 
await
öö 
_context
öö 
.
öö 
SaveChangesAsync
öö +
(
öö+ ,
)
öö, -
;
öö- .
return
õõ 
RedirectToAction
õõ #
(
õõ# $
nameof
õõ$ *
(
õõ* +
Index
õõ+ 0
)
õõ0 1
)
õõ1 2
;
õõ2 3
}
úú 	
private
ûû 
bool
ûû 
SessionExists
ûû "
(
ûû" #
int
ûû# &
id
ûû' )
)
ûû) *
{
üü 	
return
††
 
(
†† 
_context
†† 
.
†† 
Session
†† "
?
††" #
.
††# $
Any
††$ '
(
††' (
e
††( )
=>
††* ,
e
††- .
.
††. /
	SessionId
††/ 8
==
††9 ;
id
††< >
)
††> ?
)
††? @
.
††@ A
GetValueOrDefault
††A R
(
††R S
)
††S T
;
††T U
}
°° 	
}
¢¢ 
}££ –`
ÖC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Controllers\SubjectController.cs
	namespace 	

LMMProject
 
. 
Controllers  
{ 
public 

class 
SubjectController "
:# $

Controller% /
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
SubjectController  
(  !
AppDbContext! -
context. 5
)5 6
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
)/ 0
{ 	
var 
appDbContext 
= 
_context '
.' (
Subject( /
./ 0
Include0 7
(7 8
s8 9
=>: <
s= >
.> ?
Status? E
)E F
;F G
return 
View 
( 
await 
appDbContext *
.* +
ToListAsync+ 6
(6 7
)7 8
)8 9
;9 :
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Details) 0
(0 1
string1 7
id8 :
): ;
{ 	
if   
(   
id   
==   
null   
||   
_context   &
.  & '
Subject  ' .
==  / 1
null  2 6
)  6 7
{!! 
return"" 
NotFound"" 
(""  
)""  !
;""! "
}## 
var%% 
subject%% 
=%% 
await%% 
_context%%  (
.%%( )
Subject%%) 0
.&& 
Include&& 
(&& 
s&& 
=>&& 
s&& 
.&&  
Status&&  &
)&&& '
.'' 
FirstOrDefaultAsync'' $
(''$ %
m''% &
=>''' )
m''* +
.''+ ,
SubjectCode'', 7
==''8 :
id''; =
)''= >
;''> ?
if(( 
((( 
subject(( 
==(( 
null(( 
)((  
{)) 
return** 
NotFound** 
(**  
)**  !
;**! "
}++ 
return-- 
View-- 
(-- 
subject-- 
)--  
;--  !
}.. 	
public11 
IActionResult11 
Create11 #
(11# $
)11$ %
{22 	
ViewData33 
[33 
$str33 
]33  
=33! "
new33# &

SelectList33' 1
(331 2
_context332 :
.33: ;
Status33; A
,33A B
$str33C M
,33M N
$str33O Y
)33Y Z
;33Z [
return44 
View44 
(44 
)44 
;44 
}55 	
[:: 	
HttpPost::	 
]:: 
[;; 	$
ValidateAntiForgeryToken;;	 !
];;! "
public<< 
async<< 
Task<< 
<<< 
IActionResult<< '
><<' (
Create<<) /
(<</ 0
[<<0 1
Bind<<1 5
(<<5 6
$str<<6 ~
)<<~ 
]	<< Ä
Subject
<<Å à
subject
<<â ê
)
<<ê ë
{== 	
if>> 
(>> 

ModelState>> 
.>> 
IsValid>> "
)>>" #
{?? 
_context@@ 
.@@ 
Add@@ 
(@@ 
subject@@ $
)@@$ %
;@@% &
awaitAA 
_contextAA 
.AA 
SaveChangesAsyncAA /
(AA/ 0
)AA0 1
;AA1 2
returnBB 
RedirectToActionBB '
(BB' (
nameofBB( .
(BB. /
IndexBB/ 4
)BB4 5
)BB5 6
;BB6 7
}CC 
ViewDataDD 
[DD 
$strDD 
]DD  
=DD! "
newDD# &

SelectListDD' 1
(DD1 2
_contextDD2 :
.DD: ;
StatusDD; A
,DDA B
$strDDC M
,DDM N
$strDDO Y
,DDY Z
subjectDD[ b
.DDb c
StatusIdDDc k
)DDk l
;DDl m
returnEE 
ViewEE 
(EE 
subjectEE 
)EE  
;EE  !
}FF 	
publicII 
asyncII 
TaskII 
<II 
IActionResultII '
>II' (
EditII) -
(II- .
stringII. 4
idII5 7
)II7 8
{JJ 	
ifKK 
(KK 
idKK 
==KK 
nullKK 
||KK 
_contextKK &
.KK& '
SubjectKK' .
==KK/ 1
nullKK2 6
)KK6 7
{LL 
returnMM 
NotFoundMM 
(MM  
)MM  !
;MM! "
}NN 
varPP 
subjectPP 
=PP 
awaitPP 
_contextPP  (
.PP( )
SubjectPP) 0
.PP0 1
	FindAsyncPP1 :
(PP: ;
idPP; =
)PP= >
;PP> ?
ifQQ 
(QQ 
subjectQQ 
==QQ 
nullQQ 
)QQ  
{RR 
returnSS 
NotFoundSS 
(SS  
)SS  !
;SS! "
}TT 
ViewDataUU 
[UU 
$strUU 
]UU  
=UU! "
newUU# &

SelectListUU' 1
(UU1 2
_contextUU2 :
.UU: ;
StatusUU; A
,UUA B
$strUUC M
,UUM N
$strUUO Y
,UUY Z
subjectUU[ b
.UUb c
StatusIdUUc k
)UUk l
;UUl m
returnVV 
ViewVV 
(VV 
subjectVV 
)VV  
;VV  !
}WW 	
[\\ 	
HttpPost\\	 
]\\ 
[]] 	$
ValidateAntiForgeryToken]]	 !
]]]! "
public^^ 
async^^ 
Task^^ 
<^^ 
IActionResult^^ '
>^^' (
Edit^^) -
(^^- .
string^^. 4
id^^5 7
,^^7 8
[^^9 :
Bind^^: >
(^^> ?
$str	^^? á
)
^^á à
]
^^à â
Subject
^^ä ë
subject
^^í ô
)
^^ô ö
{__ 	
if`` 
(`` 
id`` 
!=`` 
subject`` 
.`` 
SubjectCode`` )
)``) *
{aa 
returnbb 
NotFoundbb 
(bb  
)bb  !
;bb! "
}cc 
ifee 
(ee 

ModelStateee 
.ee 
IsValidee "
)ee" #
{ff 
trygg 
{hh 
_contextii 
.ii 
Updateii #
(ii# $
subjectii$ +
)ii+ ,
;ii, -
awaitjj 
_contextjj "
.jj" #
SaveChangesAsyncjj# 3
(jj3 4
)jj4 5
;jj5 6
}kk 
catchll 
(ll (
DbUpdateConcurrencyExceptionll 3
)ll3 4
{mm 
ifnn 
(nn 
!nn 
SubjectExistsnn &
(nn& '
subjectnn' .
.nn. /
SubjectCodenn/ :
)nn: ;
)nn; <
{oo 
returnpp 
NotFoundpp '
(pp' (
)pp( )
;pp) *
}qq 
elserr 
{ss 
throwtt 
;tt 
}uu 
}vv 
returnww 
RedirectToActionww '
(ww' (
nameofww( .
(ww. /
Indexww/ 4
)ww4 5
)ww5 6
;ww6 7
}xx 
ViewDatayy 
[yy 
$stryy 
]yy  
=yy! "
newyy# &

SelectListyy' 1
(yy1 2
_contextyy2 :
.yy: ;
Statusyy; A
,yyA B
$stryyC M
,yyM N
$stryyO Y
,yyY Z
subjectyy[ b
.yyb c
StatusIdyyc k
)yyk l
;yyl m
returnzz 
Viewzz 
(zz 
subjectzz 
)zz  
;zz  !
}{{ 	
public~~ 
async~~ 
Task~~ 
<~~ 
IActionResult~~ '
>~~' (
Delete~~) /
(~~/ 0
string~~0 6
id~~7 9
)~~9 :
{ 	
if
ÄÄ 
(
ÄÄ 
id
ÄÄ 
==
ÄÄ 
null
ÄÄ 
||
ÄÄ 
_context
ÄÄ &
.
ÄÄ& '
Subject
ÄÄ' .
==
ÄÄ/ 1
null
ÄÄ2 6
)
ÄÄ6 7
{
ÅÅ 
return
ÇÇ 
NotFound
ÇÇ 
(
ÇÇ  
)
ÇÇ  !
;
ÇÇ! "
}
ÉÉ 
var
ÖÖ 
subject
ÖÖ 
=
ÖÖ 
await
ÖÖ 
_context
ÖÖ  (
.
ÖÖ( )
Subject
ÖÖ) 0
.
ÜÜ 
Include
ÜÜ 
(
ÜÜ 
s
ÜÜ 
=>
ÜÜ 
s
ÜÜ 
.
ÜÜ  
Status
ÜÜ  &
)
ÜÜ& '
.
áá !
FirstOrDefaultAsync
áá $
(
áá$ %
m
áá% &
=>
áá' )
m
áá* +
.
áá+ ,
SubjectCode
áá, 7
==
áá8 :
id
áá; =
)
áá= >
;
áá> ?
if
àà 
(
àà 
subject
àà 
==
àà 
null
àà 
)
àà  
{
ââ 
return
ää 
NotFound
ää 
(
ää  
)
ää  !
;
ää! "
}
ãã 
return
çç 
View
çç 
(
çç 
subject
çç 
)
çç  
;
çç  !
}
éé 	
[
ëë 	
HttpPost
ëë	 
,
ëë 

ActionName
ëë 
(
ëë 
$str
ëë &
)
ëë& '
]
ëë' (
[
íí 	&
ValidateAntiForgeryToken
íí	 !
]
íí! "
public
ìì 
async
ìì 
Task
ìì 
<
ìì 
IActionResult
ìì '
>
ìì' (
DeleteConfirmed
ìì) 8
(
ìì8 9
string
ìì9 ?
id
ìì@ B
)
ììB C
{
îî 	
if
ïï 
(
ïï 
_context
ïï 
.
ïï 
Subject
ïï  
==
ïï! #
null
ïï$ (
)
ïï( )
{
ññ 
return
óó 
Problem
óó 
(
óó 
$str
óó L
)
óóL M
;
óóM N
}
òò 
var
ôô 
subject
ôô 
=
ôô 
await
ôô 
_context
ôô  (
.
ôô( )
Subject
ôô) 0
.
ôô0 1
	FindAsync
ôô1 :
(
ôô: ;
id
ôô; =
)
ôô= >
;
ôô> ?
if
öö 
(
öö 
subject
öö 
!=
öö 
null
öö 
)
öö  
{
õõ 
_context
úú 
.
úú 
Subject
úú  
.
úú  !
Remove
úú! '
(
úú' (
subject
úú( /
)
úú/ 0
;
úú0 1
}
ùù 
await
üü 
_context
üü 
.
üü 
SaveChangesAsync
üü +
(
üü+ ,
)
üü, -
;
üü- .
return
†† 
RedirectToAction
†† #
(
††# $
nameof
††$ *
(
††* +
Index
††+ 0
)
††0 1
)
††1 2
;
††2 3
}
°° 	
private
££ 
bool
££ 
SubjectExists
££ "
(
££" #
string
££# )
id
££* ,
)
££, -
{
§§ 	
return
••
 
(
•• 
_context
•• 
.
•• 
Subject
•• "
?
••" #
.
••# $
Any
••$ '
(
••' (
e
••( )
=>
••* ,
e
••- .
.
••. /
SubjectCode
••/ :
==
••; =
id
••> @
)
••@ A
)
••A B
.
••B C
GetValueOrDefault
••C T
(
••T U
)
••U V
;
••V W
}
¶¶ 	
}
ßß 
}®® ≥
áC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Controllers\UserComboController.cs
	namespace 	

LMMProject
 
. 
Controllers  
{ 
public 

class 
UserComboController $
:% &

Controller' 1
{		 
private

 
readonly

 
AppDbContext

 %
_context

& .
;

. /
public 
UserComboController "
(" #
AppDbContext# /
context0 7
)7 8
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IActionResult '
>' (
	ListCombo) 2
(2 3
int3 6
?6 7
id8 :
): ;
{ 	

Curriculum 
curri 
= 
_context '
.' (

Curriculum( 2
.2 3
FirstOrDefault3 A
(A B
pB C
=>D F
pG H
.H I
CurriculumIdI U
==V X
idY [
)[ \
;\ ]
ViewBag 
. 
Currii 
= 
curri "
;" #
var 
	listCombo 
= 
_context $
.$ %
Combo% *
.* +
Include+ 2
(2 3
p3 4
=>5 7
p8 9
.9 :

Curriculum: D
)D E
.E F
WhereF K
(K L
proL O
=>P R
proS V
.V W
CurriculumIdW c
==d f
idg i
)i j
.j k
ToListk q
(q r
)r s
;s t
return 
View 
( 
	listCombo !
)! "
;" #
} 	
public 
async 
Task 
< 
IActionResult '
>' (
DetailCombo) 4
(4 5
int5 8
?8 9
id: <
)< =
{ 	
Combo 
combsub 
= 
_context $
.$ %
Combo% *
.* +
FirstOrDefault+ 9
(9 :
p: ;
=>< >
p? @
.@ A
ComboIdA H
==I K
idL N
)N O
;O P
ViewBag 
. 
Combosub 
= 
combsub &
;& '
var 
listSubject 
= 
_context &
.& '
Combo_Subject' 4
.4 5
Include5 <
(< =
a= >
=>? A
aB C
.C D
SubjectD K
)K L
.L M
IncludeM T
(T U
bU V
=>W Y
bZ [
.[ \
Combo\ a
)a b
.b c
Wherec h
(h i
proi l
=>m o
prop s
.s t
ComboIdt {
==| ~
id	 Å
)
Å Ç
.
Ç É
ToList
É â
(
â ä
)
ä ã
;
ã å
return 
View 
( 
listSubject #
)# $
;$ %
} 	
} 
} ì+
åC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Controllers\UserCurriculumController.cs
	namespace 	

LMMProject
 
. 
Controllers  
{ 
public 

class $
UserCurriculumController )
:* +

Controller, 6
{		 
private

 
readonly

 
AppDbContext

 %
_context

& .
;

. /
public $
UserCurriculumController '
(' (
AppDbContext( 4
context5 <
)< =
{ 	
_context 
= 
context 
; 
} 	
public 
IActionResult 
Index "
(" #
)# $
{ 	
return 
View 
( 
) 
; 
} 	
[ 	
HttpPost	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
string/ 5
option6 <
,< =
string> D
searchE K
)K L
{ 	
HttpContext 
. 
Session 
.  
	SetString  )
() *
$str* 2
,2 3
option4 :
): ;
;; <
HttpContext 
. 
Session 
.  
	SetString  )
() *
$str* 2
,2 3
search4 :
): ;
;; <
List 
< 

Curriculum 
> 

curriculum '
;' (
if 
( 
option 
. 
Equals 
( 
$str $
)$ %
)% &
{ 

curriculum 
= 
_context #
.# $

Curriculum$ .
.. /
Include/ 6
(6 7
p7 8
=>8 :
p: ;
.; <
Decision< D
)D E
.E F
WhereF K
(K L
pL M
=>M O
pO P
.P Q
CurriculumCodeQ _
._ `
Contains` h
(h i
searchi o
.o p
Trimp t
(t u
)u v
)v w
)w x
.x y
ToListy 
(	 Ä
)
Ä Å
;
Å Ç
} 
else 
{ 

curriculum   
=   
_context   %
.  % &

Curriculum  & 0
.  0 1
Include  1 8
(  8 9
p  9 :
=>  ; =
p  > ?
.  ? @
Decision  @ H
)  H I
.  I J
Where  J O
(  O P
p  P Q
=>  R T
(  U V
p  V W
.  W X
NameEn  X ^
.  ^ _
Contains  _ g
(  g h
search  h n
)  n o
||  o q
p  q r
.  r s
NameVn  s y
.  y z
Equals	  z Ä
(
  Ä Å
search
  Å á
.
  á à
Trim
  à å
(
  å ç
)
  ç é
)
  é è
)
  è ê
)
  ê ë
.
  ë í
ToList
  í ò
(
  ò ô
)
  ô ö
;
  ö õ
}!! 
if"" 
("" 

curriculum"" 
."" 
Count""  
(""  !
)""! "
==""" $
$num""$ %
)""% &
{## 
TempData$$ 
[$$ 
$str$$  
]$$  !
=$$" #
$str$$$ C
;$$C D
}%% 
return&& 
View&& 
(&& 

curriculum&& "
)&&" #
;&&# $
}'' 	
public)) 
IActionResult)) 
Detail)) #
())# $
int))$ '
id))( *
)))* +
{** 	

Curriculum++ 
curri++ 
=++ 
_context++ '
.++' (

Curriculum++( 2
.++2 3
Include++3 :
(++: ;
p++; <
=>++= ?
p++@ A
.++A B
Decision++B J
)++J K
.++K L
FirstOrDefault++L Z
(++Z [
p++[ \
=>++\ ^
p++^ _
.++_ `
CurriculumId++` l
==++l n
id++n p
)++p q
;++q r
var,, 
	curri_sub,, 
=,, 
_context,, $
.,,$ %
Curriculum_Subject,,% 7
.,,7 8
Include,,8 ?
(,,? @
p,,@ A
=>,,B D
p,,E F
.,,F G
Subject,,G N
),,N O
.,,O P
Where,,P U
(,,U V
pro,,V Y
=>,,Z \
pro,,] `
.,,` a
CurriculumId,,a m
==,,n p
id,,q s
),,s t
.,,t u
ToList,,u {
(,,{ |
),,| }
;,,} ~
ViewBag-- 
.-- 
	Curri_sub-- 
=-- 
	curri_sub--  )
;--) *
if.. 
(.. 
curri.. 
==.. 
null.. 
).. 
{// 
return00 
NotFound00 
(00  
)00  !
;00! "
}11 
return22 
View22 
(22 
curri22 
)22 
;22 
}33 	
}55 
}66 ú
äC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Controllers\UserDecisionController.cs
	namespace 	

LMMProject
 
. 
Controllers  
{ 
public 

class "
UserDecisionController '
:( )

Controller* 4
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public		 "
UserDecisionController		 %
(		% &
AppDbContext		& 2
context		3 :
)		: ;
{

 	
_context 
= 
context 
; 
} 	
public 
IActionResult 
Index "
(" #
string# )
id* ,
), -
{ 	
var 
decision 
= 
_context #
.# $
Decision$ ,
., -
Where- 2
(2 3
p3 4
=>4 6
p6 7
.7 8

DecisionNo8 B
.B C
EqualsC I
(I J
idJ L
)L M
)M N
.N O
FirstOrDefaultO ]
(] ^
)^ _
;_ `
return 
View 
( 
decision  
)  !
;! "
} 	
} 
} ®a
ãC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Controllers\UserFeedbacksController.cs
	namespace 	

LMMProject
 
. 
Controllers  
{ 
public 

class #
UserFeedbacksController (
:) *

Controller+ 5
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public #
UserFeedbacksController &
(& '
AppDbContext' 3
context4 ;
); <
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
)/ 0
{ 	
return 
_context 
. 
feedback $
!=% '
null( ,
?- .
View 
( 
await "
_context# +
.+ ,
feedback, 4
.4 5
ToListAsync5 @
(@ A
)A B
)B C
:D E
Problem 
(  
$str  N
)N O
;O P
} 	
public   
async   
Task   
<   
IActionResult   '
>  ' (
Details  ) 0
(  0 1
int  1 4
?  4 5
id  6 8
)  8 9
{!! 	
if"" 
("" 
id"" 
=="" 
null"" 
||"" 
_context"" &
.""& '
feedback""' /
==""0 2
null""3 7
)""7 8
{## 
return$$ 
NotFound$$ 
($$  
)$$  !
;$$! "
}%% 
var'' 
feedback'' 
='' 
await''  
_context''! )
.'') *
feedback''* 2
.(( 
Include(( 
((( 
f(( 
=>(( 
f(( 
.((  
Account((  '
)((' (
.)) 
FirstOrDefaultAsync)) $
())$ %
m))% &
=>))' )
m))* +
.))+ ,

FeedbackId)), 6
==))7 9
id)): <
)))< =
;))= >
if** 
(** 
feedback** 
==** 
null**  
)**  !
{++ 
return,, 
NotFound,, 
(,,  
),,  !
;,,! "
}-- 
return// 
View// 
(// 
feedback//  
)//  !
;//! "
}00 	
public33 
IActionResult33 
Create33 #
(33# $
string33$ *
id33+ -
)33- .
{44 	
ViewData55 
[55 
$str55 !
]55! "
=55# $
new55% (

SelectList55) 3
(553 4
_context554 <
.55< =
Account55= D
,55D E
$str55F P
,55P Q
$str55R \
)55\ ]
;55] ^
return66 
View66 
(66 
)66 
;66 
}77 	
[<< 	
HttpPost<<	 
]<< 
[== 	$
ValidateAntiForgeryToken==	 !
]==! "
public>> 
async>> 
Task>> 
<>> 
IActionResult>> '
>>>' (
Create>>) /
(>>/ 0
[>>0 1
Bind>>1 5
(>>5 6
$str>>6 s
)>>s t
]>>t u
Feedback>>v ~
feedback	>> á
)
>>á à
{?? 	
if@@ 
(@@ 

ModelState@@ 
.@@ 
IsValid@@ "
)@@" #
{AA 
_contextBB 
.BB 
AddBB 
(BB 
feedbackBB %
)BB% &
;BB& '
awaitCC 
_contextCC 
.CC 
SaveChangesAsyncCC /
(CC/ 0
)CC0 1
;CC1 2
returnDD 
RedirectToActionDD '
(DD' (
nameofDD( .
(DD. /
IndexDD/ 4
)DD4 5
)DD5 6
;DD6 7
}EE 
ViewDataFF 
[FF 
$strFF !
]FF! "
=FF# $
newFF% (

SelectListFF) 3
(FF3 4
_contextFF4 <
.FF< =
AccountFF= D
,FFD E
$strFFF P
,FFP Q
$strFFR \
,FF\ ]
feedbackFF^ f
.FFf g

UserNameToFFg q
)FFq r
;FFr s
returnGG 
ViewGG 
(GG 
feedbackGG  
)GG  !
;GG! "
}HH 	
publicKK 
asyncKK 
TaskKK 
<KK 
IActionResultKK '
>KK' (
EditKK) -
(KK- .
intKK. 1
?KK1 2
idKK3 5
)KK5 6
{LL 	
ifMM 
(MM 
idMM 
==MM 
nullMM 
||MM 
_contextMM &
.MM& '
feedbackMM' /
==MM0 2
nullMM3 7
)MM7 8
{NN 
returnOO 
NotFoundOO 
(OO  
)OO  !
;OO! "
}PP 
varRR 
feedbackRR 
=RR 
awaitRR  
_contextRR! )
.RR) *
feedbackRR* 2
.RR2 3
	FindAsyncRR3 <
(RR< =
idRR= ?
)RR? @
;RR@ A
ifSS 
(SS 
feedbackSS 
==SS 
nullSS  
)SS  !
{TT 
returnUU 
NotFoundUU 
(UU  
)UU  !
;UU! "
}VV 
ViewDataWW 
[WW 
$strWW !
]WW! "
=WW# $
newWW% (

SelectListWW) 3
(WW3 4
_contextWW4 <
.WW< =
AccountWW= D
,WWD E
$strWWF P
,WWP Q
$strWWR \
,WW\ ]
feedbackWW^ f
.WWf g

UserNameToWWg q
)WWq r
;WWr s
returnXX 
ViewXX 
(XX 
feedbackXX  
)XX  !
;XX! "
}YY 	
[^^ 	
HttpPost^^	 
]^^ 
[__ 	$
ValidateAntiForgeryToken__	 !
]__! "
public`` 
async`` 
Task`` 
<`` 
IActionResult`` '
>``' (
Edit``) -
(``- .
int``. 1
id``2 4
,``4 5
[``6 7
Bind``7 ;
(``; <
$str``< y
)``y z
]``z {
Feedback	``| Ñ
feedback
``Ö ç
)
``ç é
{aa 	
ifbb 
(bb 
idbb 
!=bb 
feedbackbb 
.bb 

FeedbackIdbb )
)bb) *
{cc 
returndd 
NotFounddd 
(dd  
)dd  !
;dd! "
}ee 
ifgg 
(gg 

ModelStategg 
.gg 
IsValidgg "
)gg" #
{hh 
tryii 
{jj 
_contextkk 
.kk 
Updatekk #
(kk# $
feedbackkk$ ,
)kk, -
;kk- .
awaitll 
_contextll "
.ll" #
SaveChangesAsyncll# 3
(ll3 4
)ll4 5
;ll5 6
}mm 
catchnn 
(nn (
DbUpdateConcurrencyExceptionnn 3
)nn3 4
{oo 
ifpp 
(pp 
!pp 
FeedbackExistspp '
(pp' (
feedbackpp( 0
.pp0 1

FeedbackIdpp1 ;
)pp; <
)pp< =
{qq 
returnrr 
NotFoundrr '
(rr' (
)rr( )
;rr) *
}ss 
elsett 
{uu 
throwvv 
;vv 
}ww 
}xx 
returnyy 
RedirectToActionyy '
(yy' (
nameofyy( .
(yy. /
Indexyy/ 4
)yy4 5
)yy5 6
;yy6 7
}zz 
ViewData{{ 
[{{ 
$str{{ !
]{{! "
={{# $
new{{% (

SelectList{{) 3
({{3 4
_context{{4 <
.{{< =
Account{{= D
,{{D E
$str{{F P
,{{P Q
$str{{R \
,{{\ ]
feedback{{^ f
.{{f g

UserNameTo{{g q
){{q r
;{{r s
return|| 
View|| 
(|| 
feedback||  
)||  !
;||! "
}}} 	
public
ÄÄ 
async
ÄÄ 
Task
ÄÄ 
<
ÄÄ 
IActionResult
ÄÄ '
>
ÄÄ' (
Delete
ÄÄ) /
(
ÄÄ/ 0
int
ÄÄ0 3
?
ÄÄ3 4
id
ÄÄ5 7
)
ÄÄ7 8
{
ÅÅ 	
if
ÇÇ 
(
ÇÇ 
id
ÇÇ 
==
ÇÇ 
null
ÇÇ 
||
ÇÇ 
_context
ÇÇ &
.
ÇÇ& '
feedback
ÇÇ' /
==
ÇÇ0 2
null
ÇÇ3 7
)
ÇÇ7 8
{
ÉÉ 
return
ÑÑ 
NotFound
ÑÑ 
(
ÑÑ  
)
ÑÑ  !
;
ÑÑ! "
}
ÖÖ 
var
áá 
feedback
áá 
=
áá 
await
áá  
_context
áá! )
.
áá) *
feedback
áá* 2
.
àà 
Include
àà 
(
àà 
f
àà 
=>
àà 
f
àà 
.
àà  
Account
àà  '
)
àà' (
.
ââ !
FirstOrDefaultAsync
ââ $
(
ââ$ %
m
ââ% &
=>
ââ' )
m
ââ* +
.
ââ+ ,

FeedbackId
ââ, 6
==
ââ7 9
id
ââ: <
)
ââ< =
;
ââ= >
if
ää 
(
ää 
feedback
ää 
==
ää 
null
ää  
)
ää  !
{
ãã 
return
åå 
NotFound
åå 
(
åå  
)
åå  !
;
åå! "
}
çç 
return
èè 
View
èè 
(
èè 
feedback
èè  
)
èè  !
;
èè! "
}
êê 	
[
ìì 	
HttpPost
ìì	 
,
ìì 

ActionName
ìì 
(
ìì 
$str
ìì &
)
ìì& '
]
ìì' (
[
îî 	&
ValidateAntiForgeryToken
îî	 !
]
îî! "
public
ïï 
async
ïï 
Task
ïï 
<
ïï 
IActionResult
ïï '
>
ïï' (
DeleteConfirmed
ïï) 8
(
ïï8 9
int
ïï9 <
id
ïï= ?
)
ïï? @
{
ññ 	
if
óó 
(
óó 
_context
óó 
.
óó 
feedback
óó !
==
óó" $
null
óó% )
)
óó) *
{
òò 
return
ôô 
Problem
ôô 
(
ôô 
$str
ôô M
)
ôôM N
;
ôôN O
}
öö 
var
õõ 
feedback
õõ 
=
õõ 
await
õõ  
_context
õõ! )
.
õõ) *
feedback
õõ* 2
.
õõ2 3
	FindAsync
õõ3 <
(
õõ< =
id
õõ= ?
)
õõ? @
;
õõ@ A
if
úú 
(
úú 
feedback
úú 
!=
úú 
null
úú  
)
úú  !
{
ùù 
_context
ûû 
.
ûû 
feedback
ûû !
.
ûû! "
Remove
ûû" (
(
ûû( )
feedback
ûû) 1
)
ûû1 2
;
ûû2 3
}
üü 
await
°° 
_context
°° 
.
°° 
SaveChangesAsync
°° +
(
°°+ ,
)
°°, -
;
°°- .
return
¢¢ 
RedirectToAction
¢¢ #
(
¢¢# $
nameof
¢¢$ *
(
¢¢* +
Index
¢¢+ 0
)
¢¢0 1
)
¢¢1 2
;
¢¢2 3
}
££ 	
private
•• 
bool
•• 
FeedbackExists
•• #
(
••# $
int
••$ '
id
••( *
)
••* +
{
¶¶ 	
return
ßß 
(
ßß 
_context
ßß 
.
ßß 
feedback
ßß %
?
ßß% &
.
ßß& '
Any
ßß' *
(
ßß* +
e
ßß+ ,
=>
ßß- /
e
ßß0 1
.
ßß1 2

FeedbackId
ßß2 <
==
ßß= ?
id
ßß@ B
)
ßßB C
)
ßßC D
.
ßßD E
GetValueOrDefault
ßßE V
(
ßßV W
)
ßßW X
;
ßßX Y
}
®® 	
}
©© 
}™™ ÷8
ÜC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Controllers\UserHomeController.cs
	namespace 	

LMMProject
 
. 
Controllers  
{ 
public		 

class		 
UserHomeController		 #
:		$ %

Controller		& 0
{

 
private 
readonly 
AppDbContext %
_context& .
;. /
private 
readonly  
IHttpContextAccessor -
	_Accessor. 7
;7 8
private 
readonly 
ILogger  
<  !
UserHomeController! 3
>3 4
_logger5 <
;< =
private 
readonly 
IPhotoService &
_photoService' 4
;4 5
public 
UserHomeController !
(! "
ILogger" )
<) *
UserHomeController* <
>< =
logger> D
,D E
AppDbContextF R
contextS Z
,Z [ 
IHttpContextAccessor\ p
accessorq y
,y z
IPhotoService	z á
photoService
à î
)
î ï
{ 	
_logger 
= 
logger 
; 
_context 
= 
context 
; 
	_Accessor 
= 
accessor  
;  !
_photoService 
= 
photoService (
;( )
} 	
public 
IActionResult 
Index "
(" #
)# $
{ 	
return 
View 
( 
) 
; 
} 	
public 
IActionResult 
Infor "
(" #
)# $
{ 	
string 
userName 
= 
	_Accessor '
.' (
HttpContext( 3
.3 4
Session4 ;
.; <
	GetString< E
(E F
$strF P
)P Q
;Q R
var   
Account   
=   
_context   "
.  " #
Account  # *
.  * +
Include  + 2
(  2 3
p  3 4
=>  5 7
p  8 9
.  9 :
Role  : >
)  > ?
.  ? @
FirstOrDefault  @ N
(  N O
pro  O R
=>  S U
pro  V Y
.  Y Z
UserName  Z b
.  b c
Equals  c i
(  i j
userName  j r
)  r s
)  s t
;  t u
var!! 
editAccount!! 
=!! 
new!! !
EditAccount!!" -
(!!- .
)!!. /
{"" 
UserName## 
=## 
Account##  
.##  !
UserName##! )
,##) *
Phone$$ 
=$$ 
Account$$ 
.$$ 
Phone$$ #
,$$# $
Address%% 
=%% 
Account%% 
.%%  
Address%%  '
,%%' (
Gender&& 
=&& 
Account&& 
.&& 
Gender&& %
,&&% &
Gmail'' 
='' 
Account'' 
.'' 
Gmail'' #
,''# $
Fullname(( 
=(( 
Account((  
.((  !
Fullname((! )
,(() *
Birthday)) 
=)) 
Account))  
.))  !
Birthday))! )
,))) *
RoleId** 
=** 
Account** 
.** 
RoleId** %
,**% &
Active++ 
=++ 
Account++ 
.++ 
Active++ %
,++% &
Role,, 
=,, 
Account,, 
.,, 
Role,, !
,,,! "
Url-- 
=-- 
Account-- 
.-- 
Image-- !
}.. 
;.. 
return// 
View// 
(// 
editAccount// #
)//# $
;//$ %
}00 	
[11 	
HttpPost11	 
]11 
public22 
async22 
Task22 
<22 
IActionResult22 '
>22' (
Infor22) .
(22. /
EditAccount22/ :
account22; B
)22B C
{33 	
var44 
accountChange44 
=44 
_context44  (
.44( )
Account44) 0
.440 1
Include441 8
(448 9
p449 :
=>44; =
p44> ?
.44? @
Role44@ D
)44D E
.44E F
FirstOrDefault44F T
(44T U
pro44U X
=>44Y [
pro44\ _
.44_ `
UserName44` h
.44h i
Equals44i o
(44o p
account44p w
.44w x
UserName	44x Ä
)
44Ä Å
)
44Å Ç
;
44Ç É
accountChange?? 
.?? 
UserName?? "
=??# $
account??% ,
.??, -
UserName??- 5
;??5 6
accountChange@@ 
.@@ 
Fullname@@ "
=@@# $
account@@% ,
.@@, -
Fullname@@- 5
;@@5 6
accountChangeAA 
.AA 
AddressAA !
=AA" #
accountAA$ +
.AA+ ,
AddressAA, 3
;AA3 4
accountChangeBB 
.BB 
PhoneBB 
=BB  !
accountBB" )
.BB) *
PhoneBB* /
;BB/ 0
accountChangeCC 
.CC 
GenderCC  
=CC! "
accountCC# *
.CC* +
GenderCC+ 1
;CC1 2
accountChangeDD 
.DD 
BirthdayDD "
=DD# $
accountDD% ,
.DD, -
BirthdayDD- 5
;DD5 6
_contextFF 
.FF 
AccountFF 
.FF 
UpdateFF #
(FF# $
accountChangeFF$ 1
)FF1 2
;FF2 3
_contextGG 
.GG 
SaveChangesGG  
(GG  !
)GG! "
;GG" #
TempDataHH 
[HH 
$strHH 
]HH 
=HH 
$strHH  A
;HHA B
returnII 
RedirectToActionII #
(II# $
$strII$ +
)II+ ,
;II, -
}JJ 	
[LL 	
ResponseCacheLL	 
(LL 
DurationLL 
=LL  !
$numLL" #
,LL# $
LocationLL% -
=LL. /!
ResponseCacheLocationLL0 E
.LLE F
NoneLLF J
,LLJ K
NoStoreLLL S
=LLT U
trueLLV Z
)LLZ [
]LL[ \
publicMM 
IActionResultMM 
ErrorMM "
(MM" #
)MM# $
{NN 	
returnOO 
ViewOO 
(OO 
newOO 
ErrorViewModelOO *
{OO+ ,
	RequestIdOO- 6
=OO7 8
ActivityOO9 A
.OOA B
CurrentOOB I
?OOI J
.OOJ K
IdOOK M
??OON P
HttpContextOOQ \
.OO\ ]
TraceIdentifierOO] l
}OOm n
)OOn o
;OOo p
}PP 	
}QQ 
}RR ∑å
îC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Controllers\UserMaterialOfTeachersController.cs
	namespace 	

LMMProject
 
. 
Controllers  
{ 
public 

class ,
 UserMaterialOfTeachersController 1
:2 3

Controller4 >
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
private 
readonly  
IHttpContextAccessor -
	_Accessor. 7
;7 8
public ,
 UserMaterialOfTeachersController /
(/ 0
AppDbContext0 <
context= D
,D E 
IHttpContextAccessorF Z
accessor[ c
)c d
{ 	
_context 
= 
context 
; 
	_Accessor 
= 
accessor  
;  !
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
string/ 5
status6 <
,< =
string> D
sub_codeE M
)M N
{ 	
string 
userName 
= 
	_Accessor '
.' (
HttpContext( 3
.3 4
Session4 ;
.; <
	GetString< E
(E F
$strF P
)P Q
;Q R
var 
list 
= 
_context 
.  
MaterialOfTeacher  1
.1 2
Include2 9
(9 :
m: ;
=>< >
m? @
.@ A
AccountA H
)H I
.I J
IncludeJ Q
(Q R
mR S
=>T V
mW X
.X Y
SubjectY `
)` a
.a b
Whereb g
(g h
ph i
=>j l
pm n
.n o
TeacherUsernameo ~
.~ 
Equals	 Ö
(
Ö Ü
userName
Ü é
)
é è
)
è ê
.
ê ë
ToList
ë ó
(
ó ò
)
ò ô
;
ô ö
if 
( 
! 
string 
. 
IsNullOrEmpty %
(% &
status& ,
), -
)- .
{ 
if 
( 
! 
status 
. 
Equals "
(" #
$str# %
)% &
&&' )
!* +
status+ 1
.1 2
Equals2 8
(8 9
$str9 >
)> ?
)? @
{ 
if   
(   
!   
string   
.    
IsNullOrEmpty    -
(  - .
sub_code  . 6
)  6 7
)  7 8
{!! 
list"" 
="" 
await"" $
_context""% -
.""- .
MaterialOfTeacher"". ?
.""? @
Include""@ G
(""G H
m""H I
=>""J L
m""M N
.""N O
Account""O V
)""V W
.""W X
Include""X _
(""_ `
m""` a
=>""b d
m""e f
.""f g
Subject""g n
)""n o
.""o p
Where""p u
(""u v
m""v w
=>""x z
m""{ |
.""| }
Status	""} É
.
""É Ñ
Equals
""Ñ ä
(
""ä ã
status
""ã ë
)
""ë í
)
""í ì
.
""ì î
Where
""î ô
(
""ô ö
m
""ö õ
=>
""ú û
m
""ü †
.
""† °
SubjectCode
""° ¨
.
""¨ ≠
Contains
""≠ µ
(
""µ ∂
sub_code
""∂ æ
)
""æ ø
)
""ø ¿
.
""¿ ¡
ToListAsync
""¡ Ã
(
""Ã Õ
)
""Õ Œ
;
""Œ œ
}## 
else$$ 
{%% 
list&& 
=&& 
await&& $
_context&&% -
.&&- .
MaterialOfTeacher&&. ?
.&&? @
Include&&@ G
(&&G H
m&&H I
=>&&J L
m&&M N
.&&N O
Account&&O V
)&&V W
.&&W X
Include&&X _
(&&_ `
m&&` a
=>&&b d
m&&e f
.&&f g
Subject&&g n
)&&n o
.&&o p
Where&&p u
(&&u v
m&&v w
=>&&x z
m&&{ |
.&&| }
Status	&&} É
.
&&É Ñ
Equals
&&Ñ ä
(
&&ä ã
status
&&ã ë
)
&&ë í
)
&&í ì
.
&&ì î
ToListAsync
&&î ü
(
&&ü †
)
&&† °
;
&&° ¢
}'' 
}(( 
else)) 
{** 
if++ 
(++ 
!++ 
string++ 
.++  
IsNullOrEmpty++  -
(++- .
sub_code++. 6
)++6 7
)++7 8
{,, 
list-- 
=-- 
await-- $
_context--% -
.--- .
MaterialOfTeacher--. ?
.--? @
Include--@ G
(--G H
m--H I
=>--J L
m--M N
.--N O
Account--O V
)--V W
.--W X
Include--X _
(--_ `
m--` a
=>--b d
m--e f
.--f g
Subject--g n
)--n o
.--o p
Where--p u
(--u v
m--v w
=>--x z
m--{ |
.--| }
SubjectCode	--} à
.
--à â
Contains
--â ë
(
--ë í
sub_code
--í ö
)
--ö õ
)
--õ ú
.
--ú ù
ToListAsync
--ù ®
(
--® ©
)
--© ™
;
--™ ´
}.. 
}// 
}00 
else11 
{22 
if33 
(33 
!33 
string33 
.33 
IsNullOrEmpty33 )
(33) *
sub_code33* 2
)332 3
)333 4
{44 
list55 
=55 
await55  
_context55! )
.55) *
MaterialOfTeacher55* ;
.55; <
Include55< C
(55C D
m55D E
=>55F H
m55I J
.55J K
Account55K R
)55R S
.55S T
Include55T [
(55[ \
m55\ ]
=>55^ `
m55a b
.55b c
Subject55c j
)55j k
.55k l
Where55l q
(55q r
m55r s
=>55t v
m55w x
.55x y
SubjectCode	55y Ñ
.
55Ñ Ö
Contains
55Ö ç
(
55ç é
sub_code
55é ñ
)
55ñ ó
)
55ó ò
.
55ò ô
ToListAsync
55ô §
(
55§ •
)
55• ¶
;
55¶ ß
}66 
}77 
return88 
View88 
(88 
list88 
)88 
;88 
}99 	
public<< 
IActionResult<< 
Create<< #
(<<# $
)<<$ %
{== 	
ViewData>> 
[>> 
$str>> &
]>>& '
=>>( )
new>>* -

SelectList>>. 8
(>>8 9
_context>>9 A
.>>A B
Account>>B I
,>>I J
$str>>K U
,>>U V
$str>>W a
)>>a b
;>>b c
ViewData?? 
[?? 
$str?? "
]??" #
=??$ %
new??& )

SelectList??* 4
(??4 5
_context??5 =
.??= >
Subject??> E
,??E F
$str??G T
,??T U
$str??V c
)??c d
;??d e
return@@ 
View@@ 
(@@ 
)@@ 
;@@ 
}AA 	
[FF 	
HttpPostFF	 
]FF 
[GG 	$
ValidateAntiForgeryTokenGG	 !
]GG! "
publicHH 
asyncHH 
TaskHH 
<HH 
IActionResultHH '
>HH' (
CreateHH) /
(HH/ 0
[HH0 1
BindHH1 5
(HH5 6
$strHH6 m
)HHm n
]HHn o
MaterialOfTeacher	HHp Å
materialOfTeacher
HHÇ ì
)
HHì î
{II 	
SubjectJJ 
sjJJ 
=JJ 
_contextJJ !
.JJ! "
SubjectJJ" )
.JJ) *
IncludeJJ* 1
(JJ1 2
pJJ2 3
=>JJ4 6
pJJ7 8
.JJ8 9
StatusJJ9 ?
)JJ? @
.JJ@ A
FirstOrDefaultJJA O
(JJO P
proJJP S
=>JJT V
proJJW Z
.JJZ [
SubjectCodeJJ[ f
.JJf g
EqualsJJg m
(JJm n
materialOfTeacherJJn 
.	JJ Ä
SubjectCode
JJÄ ã
.
JJã å
Trim
JJå ê
(
JJê ë
)
JJë í
)
JJí ì
)
JJì î
;
JJî ï
ifKK 
(KK 
sjKK 
!=KK 
nullKK 
)KK 
{LL 
_contextMM 
.MM 
AddMM  
(MM  !
materialOfTeacherMM! 2
)MM2 3
;MM3 4
awaitNN 
_contextNN "
.NN" #
SaveChangesAsyncNN# 3
(NN3 4
)NN4 5
;NN5 6
returnOO 
RedirectToActionOO +
(OO+ ,
nameofOO, 2
(OO2 3
IndexOO3 8
)OO8 9
)OO9 :
;OO: ;
}PP 
TempDataQQ 
[QQ 
$strQQ 
]QQ 
=QQ 
$strQQ  C
;QQC D
returnRR 
ViewRR 
(RR 
materialOfTeacherRR )
)RR) *
;RR* +
}SS 	
publicVV 
asyncVV 
TaskVV 
<VV 
IActionResultVV '
>VV' (
EditVV) -
(VV- .
intVV. 1
?VV1 2
idVV3 5
)VV5 6
{WW 	
ifXX 
(XX 
idXX 
==XX 
nullXX 
||XX 
_contextXX &
.XX& '
MaterialOfTeacherXX' 8
==XX9 ;
nullXX< @
)XX@ A
{YY 
returnZZ 
NotFoundZZ 
(ZZ  
)ZZ  !
;ZZ! "
}[[ 
var]] 
materialOfTeacher]] !
=]]" #
await]]$ )
_context]]* 2
.]]2 3
MaterialOfTeacher]]3 D
.]]D E
	FindAsync]]E N
(]]N O
id]]O Q
)]]Q R
;]]R S
if^^ 
(^^ 
materialOfTeacher^^ !
==^^" $
null^^% )
)^^) *
{__ 
return`` 
NotFound`` 
(``  
)``  !
;``! "
}aa 
returnbb 
Viewbb 
(bb 
materialOfTeacherbb )
)bb) *
;bb* +
}cc 	
[hh 	
HttpPosthh	 
]hh 
[ii 	$
ValidateAntiForgeryTokenii	 !
]ii! "
publicjj 
asyncjj 
Taskjj 
<jj 
IActionResultjj '
>jj' (
Editjj) -
(jj- .
intjj. 1
idjj2 4
,jj4 5
[jj6 7
Bindjj7 ;
(jj; <
$strjj< s
)jjs t
]jjt u
MaterialOfTeacher	jjv á
materialOfTeacher
jjà ô
)
jjô ö
{kk 	
ifll 
(ll 
idll 
!=ll 
materialOfTeacherll '
.ll' (
Idll( *
)ll* +
{mm 
returnnn 
NotFoundnn 
(nn  
)nn  !
;nn! "
}oo 
Subjectpp 
sjpp 
=pp 
_contextpp !
.pp! "
Subjectpp" )
.pp) *
Includepp* 1
(pp1 2
ppp2 3
=>pp4 6
ppp7 8
.pp8 9
Statuspp9 ?
)pp? @
.pp@ A
FirstOrDefaultppA O
(ppO P
proppP S
=>ppT V
proppW Z
.ppZ [
SubjectCodepp[ f
.ppf g
Equalsppg m
(ppm n
materialOfTeacherppn 
.	pp Ä
SubjectCode
ppÄ ã
.
ppã å
Trim
ppå ê
(
ppê ë
)
ppë í
)
ppí ì
)
ppì î
;
ppî ï
ifqq 
(qq 
sjqq 
!=qq 
nullqq 
)qq 
{rr 
tryss 
{tt 
materialOfTeacheruu )
.uu) *
Statusuu* 0
=uu1 2
$struu3 <
;uu< =
_contextvv  
.vv  !
Updatevv! '
(vv' (
materialOfTeachervv( 9
)vv9 :
;vv: ;
awaitww 
_contextww &
.ww& '
SaveChangesAsyncww' 7
(ww7 8
)ww8 9
;ww9 :
}xx 
catchyy 
(yy (
DbUpdateConcurrencyExceptionyy 7
)yy7 8
{zz 
if{{ 
({{ 
!{{ #
MaterialOfTeacherExists{{ 4
({{4 5
materialOfTeacher{{5 F
.{{F G
Id{{G I
){{I J
){{J K
{|| 
return}} "
NotFound}}# +
(}}+ ,
)}}, -
;}}- .
}~~ 
else 
{
ÄÄ 
throw
ÅÅ !
;
ÅÅ! "
}
ÇÇ 
}
ÉÉ 
return
ÑÑ 
RedirectToAction
ÑÑ +
(
ÑÑ+ ,
nameof
ÑÑ, 2
(
ÑÑ2 3
Index
ÑÑ3 8
)
ÑÑ8 9
)
ÑÑ9 :
;
ÑÑ: ;
}
ÖÖ 
TempData
ÜÜ 
[
ÜÜ 
$str
ÜÜ 
]
ÜÜ 
=
ÜÜ 
$str
ÜÜ  C
;
ÜÜC D
return
áá 
View
áá 
(
áá 
materialOfTeacher
áá )
)
áá) *
;
áá* +
}
àà 	
public
ãã 
async
ãã 
Task
ãã 
<
ãã 
IActionResult
ãã '
>
ãã' (
Delete
ãã) /
(
ãã/ 0
int
ãã0 3
?
ãã3 4
id
ãã5 7
)
ãã7 8
{
åå 	
if
çç 
(
çç 
id
çç 
==
çç 
null
çç 
||
çç 
_context
çç &
.
çç& '
MaterialOfTeacher
çç' 8
==
çç9 ;
null
çç< @
)
çç@ A
{
éé 
return
èè 
NotFound
èè 
(
èè  
)
èè  !
;
èè! "
}
êê 
var
íí 
materialOfTeacher
íí !
=
íí" #
await
íí$ )
_context
íí* 2
.
íí2 3
MaterialOfTeacher
íí3 D
.
ìì 
Include
ìì 
(
ìì 
m
ìì 
=>
ìì 
m
ìì 
.
ìì  
Account
ìì  '
)
ìì' (
.
îî 
Include
îî 
(
îî 
m
îî 
=>
îî 
m
îî 
.
îî  
Subject
îî  '
)
îî' (
.
ïï !
FirstOrDefaultAsync
ïï $
(
ïï$ %
m
ïï% &
=>
ïï' )
m
ïï* +
.
ïï+ ,
Id
ïï, .
==
ïï/ 1
id
ïï2 4
)
ïï4 5
;
ïï5 6
if
ññ 
(
ññ 
materialOfTeacher
ññ !
==
ññ" $
null
ññ% )
)
ññ) *
{
óó 
return
òò 
NotFound
òò 
(
òò  
)
òò  !
;
òò! "
}
ôô 
return
õõ 
View
õõ 
(
õõ 
materialOfTeacher
õõ )
)
õõ) *
;
õõ* +
}
úú 	
[
üü 	
HttpPost
üü	 
,
üü 

ActionName
üü 
(
üü 
$str
üü &
)
üü& '
]
üü' (
[
†† 	&
ValidateAntiForgeryToken
††	 !
]
††! "
public
°° 
async
°° 
Task
°° 
<
°° 
IActionResult
°° '
>
°°' (
DeleteConfirmed
°°) 8
(
°°8 9
int
°°9 <
id
°°= ?
)
°°? @
{
¢¢ 	
if
££ 
(
££ 
_context
££ 
.
££ 
MaterialOfTeacher
££ *
==
££+ -
null
££. 2
)
££2 3
{
§§ 
return
•• 
Problem
•• 
(
•• 
$str
•• V
)
••V W
;
••W X
}
¶¶ 
var
ßß 
materialOfTeacher
ßß !
=
ßß" #
await
ßß$ )
_context
ßß* 2
.
ßß2 3
MaterialOfTeacher
ßß3 D
.
ßßD E
	FindAsync
ßßE N
(
ßßN O
id
ßßO Q
)
ßßQ R
;
ßßR S
if
®® 
(
®® 
materialOfTeacher
®® !
!=
®®" $
null
®®% )
)
®®) *
{
©© 
_context
™™ 
.
™™ 
MaterialOfTeacher
™™ *
.
™™* +
Remove
™™+ 1
(
™™1 2
materialOfTeacher
™™2 C
)
™™C D
;
™™D E
}
´´ 
await
≠≠ 
_context
≠≠ 
.
≠≠ 
SaveChangesAsync
≠≠ +
(
≠≠+ ,
)
≠≠, -
;
≠≠- .
return
ÆÆ 
RedirectToAction
ÆÆ #
(
ÆÆ# $
nameof
ÆÆ$ *
(
ÆÆ* +
Index
ÆÆ+ 0
)
ÆÆ0 1
)
ÆÆ1 2
;
ÆÆ2 3
}
ØØ 	
private
±± 
bool
±± %
MaterialOfTeacherExists
±± ,
(
±±, -
int
±±- 0
id
±±1 3
)
±±3 4
{
≤≤ 	
return
≥≥
 
(
≥≥ 
_context
≥≥ 
.
≥≥ 
MaterialOfTeacher
≥≥ ,
?
≥≥, -
.
≥≥- .
Any
≥≥. 1
(
≥≥1 2
e
≥≥2 3
=>
≥≥4 6
e
≥≥7 8
.
≥≥8 9
Id
≥≥9 ;
==
≥≥< >
id
≥≥? A
)
≥≥A B
)
≥≥B C
.
≥≥C D
GetValueOrDefault
≥≥D U
(
≥≥U V
)
≥≥V W
;
≥≥W X
}
¥¥ 	
}
µµ 
}∂∂ é*
äC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Controllers\UserSyllabusController.cs
	namespace 	

LMMProject
 
. 
Controllers  
{ 
public 

class "
UserSyllabusController '
:( )

Controller* 4
{ 
private		 
readonly		 
AppDbContext		 %
_context		& .
;		. /
public "
UserSyllabusController %
(% &
AppDbContext& 2
context3 :
): ;
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
)/ 0
{ 	
return 
View 
( 
) 
; 
} 	
[ 	
HttpPost	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
string/ 5
option6 <
,< =
string> D
searchE K
)K L
{ 	
HttpContext 
. 
Session 
.  
	SetString  )
() *
$str* 2
,2 3
option4 :
): ;
;; <
HttpContext 
. 
Session 
.  
	SetString  )
() *
$str* 2
,2 3
search4 :
): ;
;; <
List 
< 
Syllabus 
> 
syllabus #
;# $
if 
( 
option 
. 
Equals 
( 
$str $
)$ %
)% &
{ 
syllabus   
=   
await    
_context  ! )
.  ) *
Syllabus  * 2
.!! 
Include!! 
(!! 
p!! 
=>!! !
p!!" #
.!!# $
Assessments!!$ /
)!!/ 0
."" 
Where"" 
("" 
p"" 
=>"" 
p""  !
.""! "
SubjectCode""" -
.""- .
Contains"". 6
(""6 7
search""7 =
.""= >
Trim""> B
(""B C
)""C D
)""D E
)""E F
.## 
ToListAsync##  
(##  !
)##! "
;##" #
}$$ 
else%% 
{&& 
syllabus'' 
='' 
await''  
_context''! )
.'') *
Syllabus''* 2
.(( 
Include(( 
((( 
p(( 
=>(( !
p((" #
.((# $
Assessments(($ /
)((/ 0
.)) 
Where)) 
()) 
p)) 
=>)) 
p))  !
.))! "
SyllabusNameEn))" 0
.))0 1
Contains))1 9
())9 :
search)): @
)))@ A
||))B D
p))E F
.))F G
SyllabusNameVn))G U
.))U V
Equals))V \
())\ ]
search))] c
.))c d
Trim))d h
())h i
)))i j
)))j k
)))k l
.** 
ToListAsync**  
(**  !
)**! "
;**" #
}++ 
if-- 
(-- 
syllabus-- 
.-- 
Count-- 
(-- 
)--  
==--! #
$num--$ %
)--% &
{.. 
TempData// 
[// 
$str//  
]//  !
=//" #
$str//$ @
;//@ A
}00 
return22 
View22 
(22 
syllabus22  
)22  !
;22! "
}33 	
public99 
async99 
Task99 
<99 
IActionResult99 '
>99' (
Details99) 0
(990 1
int991 4
?994 5
id996 8
)998 9
{:: 	
if;; 
(;; 
id;; 
==;; 
null;; 
);; 
{<< 
return== 
NotFound== 
(==  
)==  !
;==! "
}>> 
var@@ 
syllabus@@ 
=@@ 
await@@  
_context@@! )
.@@) *
Syllabus@@* 2
.AA 
IncludeAA 
(AA 
sAA 
=>AA 
sAA 
.AA  
DecisionAA  (
)AA( )
.BB 
IncludeBB 
(BB 
sBB 
=>BB 
sBB 
.BB  
AssessmentsBB  +
)BB+ ,
.CC 
FirstOrDefaultAsyncCC $
(CC$ %
mCC% &
=>CC' )
mCC* +
.CC+ ,

SyllabusIdCC, 6
==CC7 9
idCC: <
)CC< =
;CC= >
ifDD 
(DD 
syllabusDD 
==DD 
nullDD  
)DD  !
{EE 
returnFF 
NotFoundFF 
(FF  
)FF  !
;FF! "
}GG 
returnII 
ViewII 
(II 
syllabusII  
)II  !
;II! "
}JJ 	
}LL 
}MM œ 
yC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Data\AppDbContext.cs
	namespace 	

LMMProject
 
. 
Data 
{ 
public 

class 
AppDbContext 
: 
	DbContext  )
{ 
public		 
AppDbContext		 
(		 
DbContextOptions		 ,
<		, -
AppDbContext		- 9
>		9 :
options		; B
)		B C
:		D E
base		F J
(		J K
options		K R
)		R S
{

 	
} 	
public 
virtual 
DbSet 
< 
Account $
>$ %
Account& -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
public 
virtual 
DbSet 
< 
Role !
>! "
Role# '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
virtual 
DbSet 
< 
Combo "
>" #
Combo$ )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
virtual 
DbSet 
< 

Curriculum '
>' (

Curriculum) 3
{4 5
get6 9
;9 :
set; >
;> ?
}@ A
public 
virtual 
DbSet 
< 
CurriculumSubject .
>. /
Curriculum_Subject0 B
{C D
getE H
;H I
setJ M
;M N
}O P
public 
virtual 
DbSet 
< 
Decision %
>% &
Decision' /
{0 1
get2 5
;5 6
set7 :
;: ;
}< =
public 
virtual 
DbSet 
< 
Status #
># $
Status% +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
public 
virtual 
DbSet 
< 
Subject $
>$ %
Subject& -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
public 
virtual 
DbSet 
< 
ComboSubject )
>) *
Combo_Subject+ 8
{9 :
get; >
;> ?
set@ C
;C D
}E F
public 
virtual 
DbSet 
< 
MaterialOfTeacher .
>. /
MaterialOfTeacher0 A
{B C
getD G
;G H
setI L
;L M
}N O
public!! 
virtual!! 
DbSet!! 
<!! 
Syllabus!! %
>!!% &
Syllabus!!' /
{!!0 1
get!!2 5
;!!5 6
set!!7 :
;!!: ;
}!!< =
public"" 
virtual"" 
DbSet"" 
<"" 

Assessment"" '
>""' (

Assessment"") 3
{""4 5
get""6 9
;""9 :
set""; >
;""> ?
}""@ A
public$$ 
virtual$$ 
DbSet$$ 
<$$ 
Feedback$$ %
>$$% &
feedback$$' /
{$$0 1
get$$2 5
;$$5 6
set$$7 :
;$$: ;
}$$< =
public%% 
virtual%% 
DbSet%% 
<%% 
Material%% %
>%%% &
Material%%' /
{%%0 1
get%%2 5
;%%5 6
set%%7 :
;%%: ;
}%%< =
public'' 
DbSet'' 
<'' 

LMMProject'' 
.''  
Models''  &
.''& '
Session''' .
>''. /
?''/ 0
Session''1 8
{''9 :
get''; >
;''> ?
set''@ C
;''C D
}''E F
}(( 
})) £
C:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Data\CloudinarySettings.cs
	namespace 	

LMMProject
 
. 
Data 
{ 
public 

class 
CloudinarySettings #
{ 
public 
string 

CloundName  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
ApiKey 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
	ApiSecret 
{  !
get" %
;% &
set' *
;* +
}, -
} 
}		 Ã
xC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Data\EditAccount.cs
	namespace 	

LMMProject
 
. 
Data 
{ 
public 

class 
EditAccount 
{ 
public		 
string		 
UserName		 
{		  
get		! $
;		$ %
set		& )
;		) *
}		+ ,
=		- .
null		/ 3
!		3 4
;		4 5
public 
	IFormFile 
Image 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
long 
? 
Phone 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
? 
Address 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
? 
Gender 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
? 
Gmail 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
? 
Fullname 
{  !
get" %
;% &
set' *
;* +
}, -
public 
DateTime 
? 
Birthday !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
? 
RoleId 
{ 
get  
;  !
set" %
;% &
}' (
public 
sbyte 
? 
Active 
{ 
get "
;" #
set$ '
;' (
}) *
public 
virtual 
Role 
? 
Role !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Url 
{ 
get 
;  
set! $
;$ %
}& '
}   
}!! …
zC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Data\IPhotoService.cs
	namespace 	

LMMProject
 
. 
Data 
{ 
public 

	interface 
IPhotoService "
{ 
Task 
< 
ImageUploadResult 
> 
AddPhotoAsync  -
(- .
	IFormFile. 7
file8 <
)< =
;= >
Task		 
<		 
DeletionResult		 
>		 
DeletePhotoAsync		 -
(		- .
string		. 4
publicId		5 =
)		= >
;		> ?
}

 
} ¢
yC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Data\PhotoService.cs
	namespace 	

LMMProject
 
. 
Data 
{ 
public 

class 
PhotoService 
: 
IPhotoService  -
{ 
private		 
readonly		 

Cloudinary		 #
_cloudinary		$ /
;		/ 0
public

 
PhotoService

 
(

 
IOptions

 $
<

$ %
CloudinarySettings

% 7
>

7 8
config

9 ?
)

? @
{ 	
var 
acc 
= 
new 
Account !
(! "
config 
. 
Value 
. 

CloundName '
,' (
config 
. 
Value 
. 
ApiKey #
,# $
config 
. 
Value 
. 
	ApiSecret &
) 
; 
_cloudinary 
= 
new 

Cloudinary (
(( )
acc) ,
), -
;- .
} 	
public 
async 
Task 
< 
ImageUploadResult +
>+ ,
AddPhotoAsync- :
(: ;
	IFormFile; D
fileE I
)I J
{ 	
var 
uploadResult 
= 
new "
ImageUploadResult# 4
(4 5
)5 6
;6 7
if 
( 
file 
. 
Length 
> 
$num 
) 
{ 
using 
var 
stream  
=  !
file! %
.% &
OpenReadStream& 4
(4 5
)5 6
;6 7
var 
uploadParams  
=! "
new# &
ImageUploadParams' 8
{ 
File 
= 
new 
FileDescription .
(. /
file/ 3
.3 4
FileName4 <
,< =
stream> D
)D E
,E F
Transformation "
=# $
new% (
Transformation) 7
(7 8
)8 9
.9 :
Height: @
(@ A
$numA D
)D E
.E F
WidthF K
(K L
$numL O
)O P
.P Q
CropQ U
(U V
$strV \
)\ ]
.] ^
Gravity^ e
(e f
$strf l
)l m
} 
; 
uploadResult 
= 
await "
_cloudinary# .
.. /
UploadAsync/ :
(: ;
uploadParams; G
)G H
;H I
}   
return!! 
uploadResult!! 
;!!  
}"" 	
public$$ 
async$$ 
Task$$ 
<$$ 
DeletionResult$$ (
>$$( )
DeletePhotoAsync$$* :
($$: ;
string$$; A
publicId$$B J
)$$J K
{%% 	
var&& 
deleteParams&& 
=&& 
new&&  
DeletionParams&&! /
(&&/ 0
publicId&&0 8
)&&8 9
;&&9 :
var'' 
result'' 
='' 
await'' 
_cloudinary'' (
.''( )
DestroyAsync'') 5
(''5 6
deleteParams''6 B
)''B C
;''C D
return(( 
result(( 
;(( 
})) 	
}** 
}++ ü
vC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\flm\FlmContext.cs
	namespace 	

LMMProject
 
. 
flm 
; 
public 
partial 
class 

FlmContext 
:  !
	DbContext" +
{ 
public		 


FlmContext		 
(		 
)		 
{

 
} 
public 


FlmContext 
( 
DbContextOptions &
<& '

FlmContext' 1
>1 2
options3 :
): ;
: 	
base
 
( 
options 
) 
{ 
} 
	protected 
override 
void 
OnConfiguring )
() *#
DbContextOptionsBuilder* A
optionsBuilderB P
)P Q
=> 

optionsBuilder 
. 
UseMySQL "
(" #
$str# e
)e f
;f g
	protected 
override 
void 
OnModelCreating +
(+ ,
ModelBuilder, 8
modelBuilder9 E
)E F
{ "
OnModelCreatingPartial 
( 
modelBuilder +
)+ ,
;, -
} 
partial 
void "
OnModelCreatingPartial '
(' (
ModelBuilder( 4
modelBuilder5 A
)A B
;B C
} ˚

sC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\flm\Session.cs
	namespace 	

LMMProject
 
. 
flm 
; 
public 
partial 
class 
Session 
{ 
public 

int 
	SessionId 
{ 
get 
; 
set  #
;# $
}% &
public

 

string

 
?

 
Topic

 
{

 
get

 
;

 
set

  #
;

# $
}

% &
public 

string 
?  
LearningTeachingType '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 

string 
? 
StudentMaterials #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 

string 
?  
ConstructiveQuestion '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 

string 
SubjectCode 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
null. 2
!2 3
;3 4
} ˆ
vC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Models\Account.cs
	namespace 	

LMMProject
 
. 
Models 
; 
public 
partial 
class 
Account 
{		 
[

 
Display

 
(

 
Name

 
=

 
$str

 
)

 
]

  
[ 
Required 
( 
ErrorMessage 
= 
$str 0
)0 1
]1 2
[ 
Key 
] 	
public 

string 
UserName 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
[ 
Required 
( 
ErrorMessage 
= 
$str 4
)4 5
]5 6
[ 
DataType 
( 
DataType 
. 
Password 
)  
]  !
public 

string 
Password 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
public 

string 
? 
Image 
{ 
get 
; 
set  #
;# $
}% &
public 

long 
? 
Phone 
{ 
get 
; 
set !
;! "
}# $
public 

string 
? 
Address 
{ 
get  
;  !
set" %
;% &
}' (
public 

int 
? 
Gender 
{ 
get 
; 
set !
;! "
}# $
public 

string 
? 
Gmail 
{ 
get 
; 
set  #
;# $
}% &
public 

string 
? 
Fullname 
{ 
get !
;! "
set# &
;& '
}( )
public 

DateTime 
? 
Birthday 
{ 
get  #
;# $
set% (
;( )
}* +
public!! 

int!! 
?!! 
RoleId!! 
{!! 
get!! 
;!! 
set!! !
;!!! "
}!!# $
public## 

sbyte## 
?## 
Active## 
{## 
get## 
;## 
set##  #
;### $
}##% &
public%% 

virtual%% 
Role%% 
?%% 
Role%% 
{%% 
get%%  #
;%%# $
set%%% (
;%%( )
}%%* +
}'' ú
yC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Models\Assessment.cs
	namespace 	

LMMProject
 
. 
Models 
; 
public 
partial 
class 

Assessment 
{		 
[

 
Key

 
]

 	
public 

int 
AssessmentId 
{ 
get !
;! "
set# &
;& '
}( )
public 

string 
? 
Category 
{ 
get !
;! "
set# &
;& '
}( )
public 

string 
? 
Type 
{ 
get 
; 
set "
;" #
}$ %
public 

int 
? 
Part 
{ 
get 
; 
set 
;  
}! "
public 

string 
? 
Weight 
{ 
get 
;  
set! $
;$ %
}& '
public 

string 
? 
CompletionCriteria %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 

string 
? 
Duration 
{ 
get !
;! "
set# &
;& '
}( )
public 

string 
Clo 
{ 
get 
; 
set  
;  !
}" #
=$ %
null& *
!* +
;+ ,
public 

string 
? 
QuestionType 
{  !
get" %
;% &
set' *
;* +
}, -
public 

string 
? 

NoQuestion 
{ 
get  #
;# $
set% (
;( )
}* +
public 

string 
? 
KnowledgeSkill !
{" #
get$ '
;' (
set) ,
;, -
}. /
public!! 

string!! 
?!! 
GradingGuide!! 
{!!  !
get!!" %
;!!% &
set!!' *
;!!* +
}!!, -
public## 

string## 
?## 
Note## 
{## 
get## 
;## 
set## "
;##" #
}##$ %
[$$ 

ForeignKey$$ 
($$ 
$str$$ 
)$$ 
]$$ 
public%% 

int%% 
?%% 

SyllabusId%% 
{%% 
get%%  
;%%  !
set%%" %
;%%% &
}%%' (
public&& 

virtual&& 
Syllabus&& 
?&& 
Syllabus&& %
{&&& '
get&&( +
;&&+ ,
set&&- 0
;&&0 1
}&&2 3
}'' Ñ
tC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Models\Combo.cs
	namespace 	

LMMProject
 
. 
Models 
; 
public 
partial 
class 
Combo 
{		 
[

 
Key

 
]

 	
public 

int 
ComboId 
{ 
get 
; 
set !
;! "
}# $
public 

string 
? 
ComboNameVn 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

string 
? 
ComboNameEn 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

string 
? 
Note 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
? 
Tag 
{ 
get 
; 
set !
;! "
}# $
[ 

ForeignKey 
( 
$str 
) 
] 
public 

int 
? 
CurriculumId 
{ 
get "
;" #
set$ '
;' (
}) *
public 

virtual 

Curriculum 
? 

Curriculum )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
} √

{C:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Models\ComboSubject.cs
	namespace 	

LMMProject
 
. 
Models 
; 
public 
partial 
class 
ComboSubject !
{		 
[

 
Key

 
]

 	
public 

int 
id 
{ 
get 
; 
set 
; 
} 
[ 

ForeignKey 
( 
$str 
) 
] 
public 

int 
ComboId 
{ 
get 
; 
set !
;! "
}# $
public 

Combo 
Combo 
{ 
get 
; 
set !
;! "
}# $
[ 

ForeignKey 
( 
$str 
) 
] 
public 

string 
SubjectCode 
{ 
get  #
;# $
set% (
;( )
}* +
public 

Subject 
Subject 
{ 
get  
;  !
set" %
;% &
}' (
} Ù
yC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Models\Curriculum.cs
	namespace 	

LMMProject
 
. 
Models 
; 
public 
partial 
class 

Curriculum 
{		 
[

 
Key

 
]

 	
public 

int 
CurriculumId 
{ 
get !
;! "
set# &
;& '
}( )
[ 
Required 
( 
AllowEmptyStrings 
=  !
false" '
,' (
ErrorMessage) 5
=6 7
$str8 O
)O P
]P Q
public 

string 
? 
CurriculumCode !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 

string 
? 
NameVn 
{ 
get 
;  
set! $
;$ %
}& '
public 

string 
? 
NameEn 
{ 
get 
;  
set! $
;$ %
}& '
public 

string 
? 

Decription 
{ 
get  #
;# $
set% (
;( )
}* +
[ 

ForeignKey 
( 
$str 
) 
] 
public 

string 
? 

DecisionNo 
{ 
get  #
;# $
set% (
;( )
}* +
public 

virtual 
Decision 
? 
Decision %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
} Ø
ÄC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Models\CurriculumSubject.cs
	namespace 	

LMMProject
 
. 
Models 
; 
public 
partial 
class 
CurriculumSubject &
{		 
[

 
Key

 
]

 	
public 

int 
id 
{ 
get 
; 
set 
; 
} 
[ 

ForeignKey 
( 
$str 
) 
] 
public 

int 
CurriculumId 
{ 
get !
;! "
set# &
;& '
}( )
public 

virtual 

Curriculum 

Curriculum (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
[ 

ForeignKey 
( 
$str 
) 
] 
public 

string 
SubjectCode 
{ 
get  #
;# $
set% (
;( )
}* +
public 

virtual 
Subject 
Subject "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 

int 
? 
Semester 
{ 
get 
; 
set  #
;# $
}% &
} î
wC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Models\Decision.cs
	namespace 	

LMMProject
 
. 
Models 
; 
public 
partial 
class 
Decision 
{ 
[		 
Key		 
]		 	
public

 

string

 

DecisionNo

 
{

 
get

 "
;

" #
set

$ '
;

' (
}

) *
public 

string 
? 
DecisionName 
{  !
get" %
;% &
set' *
;* +
}, -
public 

string 
? 
Note 
{ 
get 
; 
set "
;" #
}$ %
public 

DateTime 
? 

CreateDate 
{  !
get" %
;% &
set' *
;* +
}, -
} ÿ
}C:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Models\ErrorViewModel.cs
	namespace 	

LMMProject
 
. 
Models 
{ 
public 

class 
ErrorViewModel 
{ 
public 
string 
? 
	RequestId  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
bool 
ShowRequestId !
=>" $
!% &
string& ,
., -
IsNullOrEmpty- :
(: ;
	RequestId; D
)D E
;E F
} 
}		 Ä
wC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Models\Feedback.cs
	namespace 	

LMMProject
 
. 
Models 
{ 
public 

partial 
class 
Feedback !
{		 
[

 	
Key

	 
]

 
public 
int 

FeedbackId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
? 
Content 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	

ForeignKey	 
( 
$str 
) 
] 
public 
string 

UserNameTo  
{! "
get# &
;& '
set( +
;+ ,
}- .
=/ 0
null1 5
!5 6
;6 7
public 
string 
UserNameFrom "
{# $
get% (
;( )
set* -
;- .
}/ 0
=1 2
null3 7
!7 8
;8 9
public 
virtual 
Account 
? 
Account  '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
string 
? 
Title 
{ 
get "
;" #
set$ '
;' (
}) *
public 
DateTime 
? 

CreateDate #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} •
wC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Models\Material.cs
	namespace 	

LMMProject
 
. 
Models 
{ 
public 

class 
Material 
{ 
public 
int 

MaterialId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
MaterialDescription )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public		 
string		 
Author		 
{		 
get		 "
;		" #
set		$ '
;		' (
}		) *
public

 
string

 
	Publisher

 
{

  !
get

" %
;

% &
set

' *
;

* +
}

, -
public 
string 
PublishedDate #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
string 
Url 
{ 
get 
;  
set! $
;$ %
}& '
[ 	

ForeignKey	 
( 
$str 
) 
] 
public 
string 
SubjectCode !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
virtual 
Subject 
Subject &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
} 
} ¿
ÇC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Models\MaterialFilterModel.cs
	namespace 	

LMMProject
 
. 
Models 
{ 
public 

class 
MaterialFilterModel $
{ 
public 
Material 
Material  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
List 
< 
Subject 
> 
Subjects %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
} 
} Ë
ÄC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Models\MaterialOfTeacher.cs
	namespace 	

LMMProject
 
. 
Models 
; 
public 
partial 
class 
MaterialOfTeacher &
{		 
[

 
Key

 
]

 	
public 

int 
Id 
{ 
get 
; 
set 
; 
} 
public 

string 
? 
Description 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 
Required 
( 
AllowEmptyStrings 
=  !
false" '
,' (
ErrorMessage) 5
=6 7
$str8 [
)[ \
]\ ]
[ 

ForeignKey 
( 
$str 
) 
] 
public 

string 
TeacherUsername !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 

virtual 
Account 
Account "
{# $
get% (
;( )
set* -
;- .
}/ 0
[ 
Required 
( 
AllowEmptyStrings 
=  !
false" '
,' (
ErrorMessage) 5
=6 7
$str8 R
)R S
]S T
[ 

ForeignKey 
( 
$str 
) 
] 
public 

string 
SubjectCode 
{ 
get  #
;# $
set% (
;( )
}* +
public 

Subject 
Subject 
{ 
get  
;  !
set" %
;% &
}' (
[ 
Required 
( 
AllowEmptyStrings 
=  !
false" '
,' (
ErrorMessage) 5
=6 7
$str8 N
)N O
]O P
public 

string 
URL 
{ 
get 
; 
set  
;  !
}" #
public 

string 
Status 
{ 
get 
; 
set  #
;# $
}% &
} ¶
sC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Models\Role.cs
	namespace 	

LMMProject
 
. 
Models 
; 
public 
partial 
class 
Role 
{ 
[		 
Key		 
]		 	
public

 

int

 
RoleId

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 

string 
? 
RoleName 
{ 
get !
;! "
set# &
;& '
}( )
public 

virtual 
ICollection 
< 
Account &
>& '
Accounts( 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
=? @
newA D
ListE I
<I J
AccountJ Q
>Q R
(R S
)S T
;T U
} ó
vC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Models\Session.cs
	namespace 	

LMMProject
 
. 
Models 
; 
public 
partial 
class 
Session 
{		 
[

 
Key

 
]

 	
public 

int 
	SessionId 
{ 
get 
; 
set  #
;# $
}% &
public 

string 
Topic 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
?  
LearningTeachingType '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 

string 
? 
StudentMaterials #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 

string 
?  
Constructivequestion '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
[ 

ForeignKey 
( 
$str 
) 
] 
public 

string 
? 
SubjectCode 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

virtual 
Subject 
? 
Subject #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} µ
uC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Models\Status.cs
	namespace 	

LMMProject
 
. 
Models 
; 
public 
partial 
class 
Status 
{ 
[		 
Key		 
]		 	
public

 

sbyte

 
StatusId

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 

string 
? 

StatusName 
{ 
get  #
;# $
set% (
;( )
}* +
} Õ
vC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Models\Subject.cs
	namespace 	

LMMProject
 
. 
Models 
; 
public 
partial 
class 
Subject 
{		 
[

 
Key

 
]

 	
public 

string 
SubjectCode 
{ 
get  #
;# $
set% (
;( )
}* +
public 

string 
? 
SubjectNameVn  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

string 
? 
SubjectNameEn  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

string 
? 
PreRequisite 
{  !
get" %
;% &
set' *
;* +
}, -
[ 

ForeignKey 
( 
$str 
) 
] 
public 

sbyte 
StatusId 
{ 
get 
;  
set! $
;$ %
}& '
public 

virtual 
Status 
Status  
{! "
get# &
;& '
set( +
;+ ,
}- .
} ¯!
wC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Models\Syllabus.cs
	namespace 	

LMMProject
 
. 
Models 
; 
public 
partial 
class 
Syllabus 
{		 
[

 
Key

 
]

 	
public 

int 

SyllabusId 
{ 
get 
;  
set! $
;$ %
}& '
public 

string 
? 
SyllabusNameVn !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 

string 
? 
SyllabusNameEn !
{" #
get$ '
;' (
set) ,
;, -
}. /
[ 

ForeignKey 
( 
$str 
) 
] 
public 

string 
? 
SubjectCode 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

virtual 
Subject 
? 
Subject #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 

int 
? 
NoCredit 
{ 
get 
; 
set  #
;# $
}% &
public 

string 
? 
DegreeLevel 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

string 
? 
TimeAllocation !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 

string 
? 
PreRequisite 
{  !
get" %
;% &
set' *
;* +
}, -
public 

string 
? 
Description 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

string 
? 
StudentTask 
{  
get! $
;$ %
set& )
;) *
}+ ,
public!! 

string!! 
?!! 
Tool!! 
{!! 
get!! 
;!! 
set!! "
;!!" #
}!!$ %
public## 

string## 
?## 
ScoringScale## 
{##  !
get##" %
;##% &
set##' *
;##* +
}##, -
[$$ 

ForeignKey$$ 
($$ 
$str$$ 
)$$ 
]$$ 
public%% 

string%% 
?%% 

DecisionNo%% 
{%% 
get%%  #
;%%# $
set%%% (
;%%( )
}%%* +
public'' 

virtual'' 
Decision'' 
?'' 
Decision'' %
{''& '
get''( +
;''+ ,
set''- 0
;''0 1
}''2 3
public)) 

sbyte)) 
?)) 

IsApproved)) 
{)) 
get)) "
;))" #
set))$ '
;))' (
}))) *
public++ 

string++ 
?++ 
Note++ 
{++ 
get++ 
;++ 
set++ "
;++" #
}++$ %
public-- 

int-- 
?-- 
MinAvgMarkToPass--  
{--! "
get--# &
;--& '
set--( +
;--+ ,
}--- .
[// 
Required// 
(// 
AllowEmptyStrings// 
=//  !
false//" '
,//' (
ErrorMessage//) 5
=//6 7
$str//8 Q
)//Q R
]//R S
public00 

sbyte00 
?00 
IsActive00 
{00 
get00  
;00  !
set00" %
;00% &
}00' (
public22 

virtual22 
ICollection22 
<22 

Assessment22 )
>22) *
Assessments22+ 6
{227 8
get229 <
;22< =
set22> A
;22A B
}22C D
}55 ø
oC:\Users\bangc\OneDrive\Documents\GitHub\Learning-Materials-Management_Project\LMMProject\LMMProject\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder		 
.		 
Services		 
.		 #
AddControllersWithViews		 (
(		( )
)		) *
;		* +
builder

 
.

 
Services

 
.

 
AddDbContext

 
<

 
AppDbContext

 *
>

* +
(

+ ,
options

, 3
=>

4 6
options

7 >
.

> ?
UseMySQL

? G
(

G H
builder

H O
.

O P
Configuration

P ]
.

] ^
GetConnectionString

^ q
(

q r
$str	

r Ö
)


Ö Ü
)


Ü á
)


á à
;


à â
builder 
. 
Services 
. %
AddDistributedMemoryCache *
(* +
)+ ,
;, -
builder 
. 
Services 
. 

AddSession 
( 
options #
=>$ &
{' (
options 
. 
IdleTimeout 
= 
TimeSpan "
." #
FromMinutes# .
(. /
$num/ 3
)3 4
;4 5
} 
) 
; 
builder 
. 
Services 
. 
	Configure 
< 
CloudinarySettings -
>- .
(. /
builder/ 6
.6 7
Configuration7 D
.D E

GetSectionE O
(O P
$strP d
)d e
)e f
;f g
builder 
. 
Services 
. 
AddMvc 
( 
) 
; 
builder 
. 
Services 
. 
TryAddSingleton  
<  ! 
IHttpContextAccessor! 5
,5 6
HttpContextAccessor7 J
>J K
(K L
)L M
;M N
builder 
. 
Services 
. 
	AddScoped 
< 
IPhotoService (
,( )
PhotoService* 6
>6 7
(7 8
)8 9
;9 :
var 
app 
= 	
builder
 
. 
Build 
( 
) 
; 
if 
( 
! 
app 
. 	
Environment	 
. 
IsDevelopment "
(" #
)# $
)$ %
{ 
app 
. 
UseExceptionHandler 
( 
$str )
)) *
;* +
app 
. 
UseHsts 
( 
) 
; 
} 
app 
. 
UseHttpsRedirection 
( 
) 
; 
app 
. 
UseStaticFiles 
( 
) 
; 
app!! 
.!! 

UseRouting!! 
(!! 
)!! 
;!! 
app## 
.## 

UseSession## 
(## 
)## 
;## 
app%% 
.%% 
UseAuthorization%% 
(%% 
)%% 
;%% 
app'' 
.'' 
MapControllerRoute'' 
('' 
name(( 
:(( 	
$str((
 
,(( 
pattern)) 
:)) 
$str)) 6
)))6 7
;))7 8
app++ 
.++ 
Run++ 
(++ 
)++ 	
;++	 
